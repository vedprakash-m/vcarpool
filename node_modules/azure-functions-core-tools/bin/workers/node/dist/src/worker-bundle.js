/*! For license information please see worker-bundle.js.LICENSE.txt */
(()=>{var __webpack_modules__={9978:(e,t,r)=>{"use strict";var n=r(8341),i=(n.roots.default||(n.roots.default=new n.Root)).setOptions({java_package:"com.microsoft.azure.functions.rpc.messages",java_multiple_files:!0,java_outer_classname:"FunctionProto",csharp_namespace:"Microsoft.Azure.WebJobs.Script.Grpc.Messages",go_package:"github.com/Azure/azure-functions-go-worker/internal/rpc"}).addJSON({NullableString:{oneofs:{string:{oneof:["value"]}},fields:{value:{type:"string",id:1}}},NullableDouble:{oneofs:{double:{oneof:["value"]}},fields:{value:{type:"double",id:1}}},NullableBool:{oneofs:{bool:{oneof:["value"]}},fields:{value:{type:"bool",id:1}}},NullableTimestamp:{oneofs:{timestamp:{oneof:["value"]}},fields:{value:{type:"google.protobuf.Timestamp",id:1}}},RpcClaimsIdentity:{fields:{authenticationType:{type:"NullableString",id:1},nameClaimType:{type:"NullableString",id:2},roleClaimType:{type:"NullableString",id:3},claims:{rule:"repeated",type:"RpcClaim",id:4}}},RpcClaim:{fields:{value:{type:"string",id:1},type:{type:"string",id:2}}},AzureFunctionsRpcMessages:{nested:{FunctionRpc:{methods:{EventStream:{requestType:"StreamingMessage",requestStream:!0,responseType:"StreamingMessage",responseStream:!0}}},StreamingMessage:{oneofs:{content:{oneof:["startStream","workerInitRequest","workerInitResponse","workerHeartbeat","workerTerminate","workerStatusRequest","workerStatusResponse","fileChangeEventRequest","workerActionResponse","functionLoadRequest","functionLoadResponse","invocationRequest","invocationResponse","invocationCancel","rpcLog","functionEnvironmentReloadRequest","functionEnvironmentReloadResponse","closeSharedMemoryResourcesRequest","closeSharedMemoryResourcesResponse","functionsMetadataRequest","functionMetadataResponse","functionLoadRequestCollection","functionLoadResponseCollection","workerWarmupRequest","workerWarmupResponse"]}},fields:{requestId:{type:"string",id:1},startStream:{type:"StartStream",id:20},workerInitRequest:{type:"WorkerInitRequest",id:17},workerInitResponse:{type:"WorkerInitResponse",id:16},workerHeartbeat:{type:"WorkerHeartbeat",id:15},workerTerminate:{type:"WorkerTerminate",id:14},workerStatusRequest:{type:"WorkerStatusRequest",id:12},workerStatusResponse:{type:"WorkerStatusResponse",id:13},fileChangeEventRequest:{type:"FileChangeEventRequest",id:6},workerActionResponse:{type:"WorkerActionResponse",id:7},functionLoadRequest:{type:"FunctionLoadRequest",id:8},functionLoadResponse:{type:"FunctionLoadResponse",id:9},invocationRequest:{type:"InvocationRequest",id:4},invocationResponse:{type:"InvocationResponse",id:5},invocationCancel:{type:"InvocationCancel",id:21},rpcLog:{type:"RpcLog",id:2},functionEnvironmentReloadRequest:{type:"FunctionEnvironmentReloadRequest",id:25},functionEnvironmentReloadResponse:{type:"FunctionEnvironmentReloadResponse",id:26},closeSharedMemoryResourcesRequest:{type:"CloseSharedMemoryResourcesRequest",id:27},closeSharedMemoryResourcesResponse:{type:"CloseSharedMemoryResourcesResponse",id:28},functionsMetadataRequest:{type:"FunctionsMetadataRequest",id:29},functionMetadataResponse:{type:"FunctionMetadataResponse",id:30},functionLoadRequestCollection:{type:"FunctionLoadRequestCollection",id:31},functionLoadResponseCollection:{type:"FunctionLoadResponseCollection",id:32},workerWarmupRequest:{type:"WorkerWarmupRequest",id:33},workerWarmupResponse:{type:"WorkerWarmupResponse",id:34}}},StartStream:{fields:{workerId:{type:"string",id:2}}},WorkerInitRequest:{fields:{hostVersion:{type:"string",id:1},capabilities:{keyType:"string",type:"string",id:2},logCategories:{keyType:"string",type:"RpcLog.Level",id:3},workerDirectory:{type:"string",id:4},functionAppDirectory:{type:"string",id:5}}},WorkerInitResponse:{fields:{workerVersion:{type:"string",id:1},capabilities:{keyType:"string",type:"string",id:2},result:{type:"StatusResult",id:3},workerMetadata:{type:"WorkerMetadata",id:4}}},WorkerMetadata:{fields:{runtimeName:{type:"string",id:1},runtimeVersion:{type:"string",id:2},workerVersion:{type:"string",id:3},workerBitness:{type:"string",id:4},customProperties:{keyType:"string",type:"string",id:5}}},StatusResult:{fields:{status:{type:"Status",id:4},result:{type:"string",id:1},exception:{type:"RpcException",id:2},logs:{rule:"repeated",type:"RpcLog",id:3}},nested:{Status:{values:{Failure:0,Success:1,Cancelled:2}}}},WorkerHeartbeat:{fields:{}},WorkerTerminate:{fields:{gracePeriod:{type:"google.protobuf.Duration",id:1}}},FileChangeEventRequest:{fields:{type:{type:"Type",id:1},fullPath:{type:"string",id:2},name:{type:"string",id:3}},nested:{Type:{values:{Unknown:0,Created:1,Deleted:2,Changed:4,Renamed:8,All:15}}}},WorkerActionResponse:{fields:{action:{type:"Action",id:1},reason:{type:"string",id:2}},nested:{Action:{values:{Restart:0,Reload:1}}}},WorkerStatusRequest:{fields:{}},WorkerStatusResponse:{fields:{}},FunctionEnvironmentReloadRequest:{fields:{environmentVariables:{keyType:"string",type:"string",id:1},functionAppDirectory:{type:"string",id:2}}},FunctionEnvironmentReloadResponse:{fields:{workerMetadata:{type:"WorkerMetadata",id:1},capabilities:{keyType:"string",type:"string",id:2},result:{type:"StatusResult",id:3},capabilitiesUpdateStrategy:{type:"CapabilitiesUpdateStrategy",id:4}},nested:{CapabilitiesUpdateStrategy:{values:{merge:0,replace:1}}}},CloseSharedMemoryResourcesRequest:{fields:{mapNames:{rule:"repeated",type:"string",id:1}}},CloseSharedMemoryResourcesResponse:{fields:{closeMapResults:{keyType:"string",type:"bool",id:1}}},FunctionLoadRequestCollection:{fields:{functionLoadRequests:{rule:"repeated",type:"FunctionLoadRequest",id:1}}},FunctionLoadResponseCollection:{fields:{functionLoadResponses:{rule:"repeated",type:"FunctionLoadResponse",id:1}}},FunctionLoadRequest:{fields:{functionId:{type:"string",id:1},metadata:{type:"RpcFunctionMetadata",id:2},managedDependencyEnabled:{type:"bool",id:3}}},FunctionLoadResponse:{fields:{functionId:{type:"string",id:1},result:{type:"StatusResult",id:2},isDependencyDownloaded:{type:"bool",id:3}}},RpcFunctionMetadata:{fields:{name:{type:"string",id:4},directory:{type:"string",id:1},scriptFile:{type:"string",id:2},entryPoint:{type:"string",id:3},bindings:{keyType:"string",type:"BindingInfo",id:6},isProxy:{type:"bool",id:7},status:{type:"StatusResult",id:8},language:{type:"string",id:9},rawBindings:{rule:"repeated",type:"string",id:10},functionId:{type:"string",id:13},managedDependencyEnabled:{type:"bool",id:14},retryOptions:{type:"RpcRetryOptions",id:15},properties:{keyType:"string",type:"string",id:16}}},FunctionsMetadataRequest:{fields:{functionAppDirectory:{type:"string",id:1}}},FunctionMetadataResponse:{fields:{functionMetadataResults:{rule:"repeated",type:"RpcFunctionMetadata",id:1},result:{type:"StatusResult",id:2},useDefaultMetadataIndexing:{type:"bool",id:3}}},InvocationRequest:{fields:{invocationId:{type:"string",id:1},functionId:{type:"string",id:2},inputData:{rule:"repeated",type:"ParameterBinding",id:3},triggerMetadata:{keyType:"string",type:"TypedData",id:4},traceContext:{type:"RpcTraceContext",id:5},retryContext:{type:"RetryContext",id:6}}},RpcTraceContext:{fields:{traceParent:{type:"string",id:1},traceState:{type:"string",id:2},attributes:{keyType:"string",type:"string",id:3}}},RetryContext:{fields:{retryCount:{type:"int32",id:1},maxRetryCount:{type:"int32",id:2},exception:{type:"RpcException",id:3}}},InvocationCancel:{fields:{invocationId:{type:"string",id:2},gracePeriod:{type:"google.protobuf.Duration",id:1}}},InvocationResponse:{fields:{invocationId:{type:"string",id:1},outputData:{rule:"repeated",type:"ParameterBinding",id:2},returnValue:{type:"TypedData",id:4},result:{type:"StatusResult",id:3}}},WorkerWarmupRequest:{fields:{workerDirectory:{type:"string",id:1}}},WorkerWarmupResponse:{fields:{result:{type:"StatusResult",id:1}}},TypedData:{oneofs:{data:{oneof:["string","json","bytes","stream","http","int","double","collectionBytes","collectionString","collectionDouble","collectionSint64","modelBindingData","collectionModelBindingData"]}},fields:{string:{type:"string",id:1},json:{type:"string",id:2},bytes:{type:"bytes",id:3},stream:{type:"bytes",id:4},http:{type:"RpcHttp",id:5},int:{type:"sint64",id:6},double:{type:"double",id:7},collectionBytes:{type:"CollectionBytes",id:8},collectionString:{type:"CollectionString",id:9},collectionDouble:{type:"CollectionDouble",id:10},collectionSint64:{type:"CollectionSInt64",id:11},modelBindingData:{type:"ModelBindingData",id:12},collectionModelBindingData:{type:"CollectionModelBindingData",id:13}}},RpcDataType:{values:{unknown:0,string:1,json:2,bytes:3,stream:4,http:5,int:6,double:7,collection_bytes:8,collection_string:9,collection_double:10,collection_sint64:11}},RpcSharedMemory:{fields:{name:{type:"string",id:1},offset:{type:"int64",id:2},count:{type:"int64",id:3},type:{type:"RpcDataType",id:4}}},CollectionString:{fields:{string:{rule:"repeated",type:"string",id:1}}},CollectionBytes:{fields:{bytes:{rule:"repeated",type:"bytes",id:1}}},CollectionDouble:{fields:{double:{rule:"repeated",type:"double",id:1}}},CollectionSInt64:{fields:{sint64:{rule:"repeated",type:"sint64",id:1}}},ParameterBinding:{oneofs:{rpcData:{oneof:["data","rpcSharedMemory"]}},fields:{name:{type:"string",id:1},data:{type:"TypedData",id:2},rpcSharedMemory:{type:"RpcSharedMemory",id:3}}},BindingInfo:{fields:{type:{type:"string",id:2},direction:{type:"Direction",id:3},dataType:{type:"DataType",id:4},properties:{keyType:"string",type:"string",id:5}},nested:{Direction:{values:{in:0,out:1,inout:2}},DataType:{values:{undefined:0,string:1,binary:2,stream:3}}}},RpcLog:{fields:{invocationId:{type:"string",id:1},category:{type:"string",id:2},level:{type:"Level",id:3},message:{type:"string",id:4},eventId:{type:"string",id:5},exception:{type:"RpcException",id:6},properties:{type:"string",id:7},logCategory:{type:"RpcLogCategory",id:8},propertiesMap:{keyType:"string",type:"TypedData",id:9}},nested:{Level:{values:{Trace:0,Debug:1,Information:2,Warning:3,Error:4,Critical:5,None:6}},RpcLogCategory:{values:{User:0,System:1,CustomMetric:2}}}},RpcException:{fields:{source:{type:"string",id:3},stackTrace:{type:"string",id:1},message:{type:"string",id:2},isUserException:{type:"bool",id:4},type:{type:"string",id:5}}},RpcHttpCookie:{fields:{name:{type:"string",id:1},value:{type:"string",id:2},domain:{type:"NullableString",id:3},path:{type:"NullableString",id:4},expires:{type:"NullableTimestamp",id:5},secure:{type:"NullableBool",id:6},httpOnly:{type:"NullableBool",id:7},sameSite:{type:"SameSite",id:8},maxAge:{type:"NullableDouble",id:9}},nested:{SameSite:{values:{None:0,Lax:1,Strict:2,ExplicitNone:3}}}},RpcHttp:{fields:{method:{type:"string",id:1},url:{type:"string",id:2},headers:{keyType:"string",type:"string",id:3},body:{type:"TypedData",id:4},params:{keyType:"string",type:"string",id:10},statusCode:{type:"string",id:12},query:{keyType:"string",type:"string",id:15},enableContentNegotiation:{type:"bool",id:16},rawBody:{type:"TypedData",id:17},identities:{rule:"repeated",type:"RpcClaimsIdentity",id:18},cookies:{rule:"repeated",type:"RpcHttpCookie",id:19},nullableHeaders:{keyType:"string",type:"NullableString",id:20},nullableParams:{keyType:"string",type:"NullableString",id:21},nullableQuery:{keyType:"string",type:"NullableString",id:22}}},ModelBindingData:{fields:{version:{type:"string",id:1},source:{type:"string",id:2},contentType:{type:"string",id:3},content:{type:"bytes",id:4}}},CollectionModelBindingData:{fields:{modelBindingData:{rule:"repeated",type:"ModelBindingData",id:1}}},RpcRetryOptions:{fields:{maxRetryCount:{type:"int32",id:2},delayInterval:{type:"google.protobuf.Duration",id:3},minimumInterval:{type:"google.protobuf.Duration",id:4},maximumInterval:{type:"google.protobuf.Duration",id:5},retryStrategy:{type:"RetryStrategy",id:6}},nested:{RetryStrategy:{values:{exponential_backoff:0,fixed_delay:1}}}}}},google:{nested:{protobuf:{nested:{Timestamp:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}},Duration:{fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}}}}});e.exports=i},9473:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppContext=void 0,t.AppContext=class{constructor(e){this.packageJson={},this.appHookData={},this.appLevelOnlyHookData={},this.preInvocationHooks=[],this.postInvocationHooks=[],this.appStartHooks=[],this.appTerminateHooks=[],this.logHooks=[],this.functions={},this.legacyFunctions={},this.workerIndexingLocked=!1,this.isUsingWorkerIndexing=!1,this.functionAppDirectory=e}}},3553:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0;class s{constructor(e){r.set(this,void 0),n(this,r,e,"f")}static from(...e){let t=e;return new s((function(){if(t){for(const e of t)e&&"function"==typeof e.dispose&&e.dispose();t=void 0}}))}dispose(){"function"==typeof i(this,r,"f")&&(i(this,r,"f").call(this),n(this,r,void 0,"f"))}}t.Disposable=s,r=new WeakMap},8100:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CreateGrpcEventStream=void 0;const n=r(674),i=r(6340),s=r(9978);t.CreateGrpcEventStream=function(e,t){const r={"grpc.max_send_message_length":t,"grpc.max_receive_message_length":t},o=new(function(){const e=i.fromJSON(s,{objects:!0,defaults:!0,oneofs:!0})["AzureFunctionsRpcMessages.FunctionRpc"];return n.makeClientConstructor(e,"FunctionRpc")}())(e,n.credentials.createInsecure(),r);process.on("exit",(()=>{n.closeClient(o)}));const a=o.eventStream();return a.on("end",(function(){a.end(),process.exit()})),a}},1167:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getLegacyFunction=t.loadLegacyFunction=void 0;const i=r(5496),s=r(142),o=r(9243),a=r(3246);t.loadLegacyFunction=function(e,t,r){return n(this,void 0,void 0,(function*(){if(!0===t.isProxy)return;const n=yield(0,s.loadScriptFile)((0,o.nonNullProp)(t,"scriptFile"),r),c=t&&t.entryPoint,[l,u]=function(e,t){let r;if(null!==e&&"object"==typeof e&&(r=e,e=t?e[t]:1===Object.keys(e).length?e[Object.keys(e)[0]]:e.run||e.index),!e){const e=(t?`Unable to determine function entry point: ${t}. `:"Unable to determine function entry point. ")+"If multiple functions are exported, you must indicate the entry point, either by naming it 'run' or 'index', or by naming it explicitly via the 'entryPoint' metadata property.";throw new i.AzFuncSystemError(e)}if("function"!=typeof e)throw new i.AzFuncSystemError("The resolved entry point is not a function and cannot be invoked by the functions runtime. Make sure the function has been correctly exported.");return[e,r]}(n,c);a.worker.app.legacyFunctions[e]={metadata:t,callback:l,thisArg:u}}))},t.getLegacyFunction=function(e){const t=a.worker.app.legacyFunctions[e];return t?{metadata:t.metadata,callback:t.callback.bind(t.thisArg)}:void 0}},3246:function(e,t,r){"use strict";var n,i,s,o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.worker=void 0;const c=r(9978),l=r(9473),u=r(5963),d=r(5496),h=r(7130);n=new WeakMap,i=new WeakMap,s=new WeakMap,t.worker=new class{constructor(){this.app=new l.AppContext(void 0),n.set(this,void 0),i.set(this,void 0),s.set(this,"WorkerContext has not been initialized yet.")}get id(){if(o(this,n,"f"))return o(this,n,"f");throw new d.AzFuncSystemError(o(this,s,"f"))}set id(e){a(this,n,e,"f")}get eventStream(){if(o(this,i,"f"))return o(this,i,"f");throw new d.AzFuncSystemError(o(this,s,"f"))}set eventStream(e){a(this,i,e,"f")}get hostVersion(){if(this._hostVersion)return this._hostVersion;throw new d.AzFuncSystemError("Cannot access hostVersion before worker init")}resetApp(e){this.app=new l.AppContext(e),this.app.programmingModel=this.defaultProgrammingModel}log(e,r){try{const n=new h.LogHookContext(e,r);for(const e of t.worker.app.logHooks)e(n);e.logCategory===c.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.User&&(e.message=n.message,e.level=(0,u.fromCoreLogLevel)(n.level))}catch(e){}this.eventStream.write({rpcLog:e})}}},8258:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="3.10.1"},4724:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ensureKeysMatch=void 0,t.ensureKeysMatch=function(e,t){for(const r of Object.keys(t))r in e||delete t[r];return t}},713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCoreFunctionMetadata=void 0;const n=r(9978),i=r(4724),s=r(5963),o=r(5709);function a(e){if(e){const t={};for(const[r,n]of Object.entries(e))t[r]=c(n);return(0,i.ensureKeysMatch)(e,t)}return e}function c(e){if(e){const t=Object.assign(Object.assign({},e),{dataType:l(e.dataType),direction:u(e.direction)});return(0,i.ensureKeysMatch)(e,t)}return e}function l(e){switch(e){case"binary":return n.AzureFunctionsRpcMessages.BindingInfo.DataType.binary;case"stream":return n.AzureFunctionsRpcMessages.BindingInfo.DataType.stream;case"string":return n.AzureFunctionsRpcMessages.BindingInfo.DataType.string;case"undefined":return n.AzureFunctionsRpcMessages.BindingInfo.DataType.undefined;default:return(0,o.handleDefaultEnumCase)(e,"CoreRpcBindingDataType")}}function u(e){switch(e){case"in":return n.AzureFunctionsRpcMessages.BindingInfo.Direction.in;case"inout":return n.AzureFunctionsRpcMessages.BindingInfo.Direction.inout;case"out":return n.AzureFunctionsRpcMessages.BindingInfo.Direction.out;default:return(0,o.handleDefaultEnumCase)(e,"CoreRpcBindingDirection")}}function d(e){if(e){const t=Object.assign(Object.assign({},e),{retryStrategy:h(e.retryStrategy)});return(0,i.ensureKeysMatch)(e,t)}return e}function h(e){switch(e){case"exponentialBackoff":return n.AzureFunctionsRpcMessages.RpcRetryOptions.RetryStrategy.exponential_backoff;case"fixedDelay":return n.AzureFunctionsRpcMessages.RpcRetryOptions.RetryStrategy.fixed_delay;default:return(0,o.handleDefaultEnumCase)(e,"CoreRpcRetryStrategy")}}t.fromCoreFunctionMetadata=function(e){const t=Object.assign(Object.assign({},e),{bindings:a(e.bindings),status:(0,s.fromCoreStatusResult)(e.status),retryOptions:d(e.retryOptions)});return(0,i.ensureKeysMatch)(e,t)}},9677:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCoreInvocationResponse=void 0;const n=r(4724),i=r(5963),s=r(5222);function o(e){return e?e.map(a):e}function a(e){const t=Object.assign(Object.assign({},e),{data:(0,s.fromCoreTypedData)(e.data)});return(0,n.ensureKeysMatch)(e,t)}t.fromCoreInvocationResponse=function(e){const t=Object.assign(Object.assign({},e),{outputData:o(e.outputData),result:(0,i.fromCoreStatusResult)(e.result),returnValue:(0,s.fromCoreTypedData)(e.returnValue)});return(0,n.ensureKeysMatch)(e,t)}},5963:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCoreLogCategory=t.fromCoreLogLevel=t.fromCoreStatusResult=void 0;const n=r(9978),i=r(4724),s=r(5709);function o(e){return e?e.map(a):e}function a(e){const t=Object.assign(Object.assign({},e),{level:c(e.level),logCategory:l(e.logCategory)});return(0,i.ensureKeysMatch)(e,t)}function c(e){switch(e){case"critical":return n.AzureFunctionsRpcMessages.RpcLog.Level.Critical;case"debug":return n.AzureFunctionsRpcMessages.RpcLog.Level.Debug;case"error":return n.AzureFunctionsRpcMessages.RpcLog.Level.Error;case"information":return n.AzureFunctionsRpcMessages.RpcLog.Level.Information;case"none":return n.AzureFunctionsRpcMessages.RpcLog.Level.None;case"trace":return n.AzureFunctionsRpcMessages.RpcLog.Level.Trace;case"warning":return n.AzureFunctionsRpcMessages.RpcLog.Level.Warning;default:return(0,s.handleDefaultEnumCase)(e,"CoreRpcLogLevel")}}function l(e){switch(e){case"customMetric":return n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.CustomMetric;case"system":return n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.System;case"user":return n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.User;default:return(0,s.handleDefaultEnumCase)(e,"CoreRpcLogCategory")}}function u(e){switch(e){case"cancelled":return n.AzureFunctionsRpcMessages.StatusResult.Status.Cancelled;case"failure":return n.AzureFunctionsRpcMessages.StatusResult.Status.Failure;case"success":return n.AzureFunctionsRpcMessages.StatusResult.Status.Success;default:return(0,s.handleDefaultEnumCase)(e,"CoreRpcStatus")}}t.fromCoreStatusResult=function(e){if(e){const t=Object.assign(Object.assign({},e),{logs:o(e.logs),status:u(e.status)});return(0,i.ensureKeysMatch)(e,t)}return e},t.fromCoreLogLevel=c,t.fromCoreLogCategory=l},5222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCoreTypedData=void 0;const n=r(9978),i=r(4724),s=r(5709);function o(e){if(e){const t=Object.assign(Object.assign({},e),{http:a(e.http)});return(0,i.ensureKeysMatch)(e,t)}return e}function a(e){if(e){const t=Object.assign(Object.assign({},e),{body:o(e.body),cookies:c(e.cookies),rawBody:o(e.rawBody)});return(0,i.ensureKeysMatch)(e,t)}return e}function c(e){return e?e.map(l):e}function l(e){const t=Object.assign(Object.assign({},e),{sameSite:u(e.sameSite)});return(0,i.ensureKeysMatch)(e,t)}function u(e){switch(e){case"explicitNone":return n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.ExplicitNone;case"lax":return n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.Lax;case"none":return n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.None;case"strict":return n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.Strict;default:return(0,s.handleDefaultEnumCase)(e,"CoreRpcHttpCookieSameSite")}}t.fromCoreTypedData=o},5709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleDefaultEnumCase=void 0;const n=r(5496);t.handleDefaultEnumCase=function(e,t){switch(e){case void 0:return;case null:return null;default:throw new n.AzFuncRangeError(`Unexpected value "${e}" for type "${t}"`)}}},2668:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCoreFunctionMetadata=void 0;const n=r(9978),i=r(4724),s=r(5709),o=r(4810);function a(e){if(e){const t={};for(const[r,n]of Object.entries(e))t[r]=c(n);return(0,i.ensureKeysMatch)(e,t)}return e}function c(e){if(e){const t=Object.assign(Object.assign({},e),{dataType:l(e.dataType),direction:u(e.direction)});return(0,i.ensureKeysMatch)(e,t)}return e}function l(e){switch(e){case n.AzureFunctionsRpcMessages.BindingInfo.DataType.binary:return"binary";case n.AzureFunctionsRpcMessages.BindingInfo.DataType.stream:return"stream";case n.AzureFunctionsRpcMessages.BindingInfo.DataType.string:return"string";case n.AzureFunctionsRpcMessages.BindingInfo.DataType.undefined:return"undefined";default:return(0,s.handleDefaultEnumCase)(e,"RpcBindingDataType")}}function u(e){switch(e){case n.AzureFunctionsRpcMessages.BindingInfo.Direction.in:return"in";case n.AzureFunctionsRpcMessages.BindingInfo.Direction.inout:return"inout";case n.AzureFunctionsRpcMessages.BindingInfo.Direction.out:return"out";default:return(0,s.handleDefaultEnumCase)(e,"RpcBindingDirection")}}function d(e){if(e){const t=Object.assign(Object.assign({},e),{retryStrategy:h(e.retryStrategy)});return(0,i.ensureKeysMatch)(e,t)}return e}function h(e){switch(e){case n.AzureFunctionsRpcMessages.RpcRetryOptions.RetryStrategy.exponential_backoff:return"exponentialBackoff";case n.AzureFunctionsRpcMessages.RpcRetryOptions.RetryStrategy.fixed_delay:return"fixedDelay";default:return(0,s.handleDefaultEnumCase)(e,"RpcRetryStrategy")}}t.toCoreFunctionMetadata=function(e){const t=Object.assign(Object.assign({},e),{bindings:a(e.bindings),status:(0,o.toCoreStatusResult)(e.status),retryOptions:d(e.retryOptions)});return(0,i.ensureKeysMatch)(e,t)}},4030:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCoreInvocationRequest=void 0;const n=r(4724),i=r(4873);function s(e){return e?e.map(o):e}function o(e){const t=Object.assign(Object.assign({},e),{data:(0,i.toCoreTypedData)(e.data)});return(0,n.ensureKeysMatch)(e,t)}function a(e){if(e){const t={};for(const[r,n]of Object.entries(e))t[r]=(0,i.toCoreTypedData)(n);return(0,n.ensureKeysMatch)(e,t)}return e}t.toCoreInvocationRequest=function(e){const t=Object.assign(Object.assign({},e),{inputData:s(e.inputData),triggerMetadata:a(e.triggerMetadata)});return(0,n.ensureKeysMatch)(e,t)}},4810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCoreLog=t.toCoreStatusResult=void 0;const n=r(9978),i=r(4724),s=r(5709);function o(e){return e?e.map(a):e}function a(e){const t=Object.assign(Object.assign({},e),{level:c(e.level),logCategory:l(e.logCategory)});return(0,i.ensureKeysMatch)(e,t)}function c(e){switch(e){case n.AzureFunctionsRpcMessages.RpcLog.Level.Critical:return"critical";case n.AzureFunctionsRpcMessages.RpcLog.Level.Debug:return"debug";case n.AzureFunctionsRpcMessages.RpcLog.Level.Error:return"error";case n.AzureFunctionsRpcMessages.RpcLog.Level.Information:return"information";case n.AzureFunctionsRpcMessages.RpcLog.Level.None:return"none";case n.AzureFunctionsRpcMessages.RpcLog.Level.Trace:return"trace";case n.AzureFunctionsRpcMessages.RpcLog.Level.Warning:return"warning";default:return(0,s.handleDefaultEnumCase)(e,"RpcLogLevel")}}function l(e){switch(e){case n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.CustomMetric:return"customMetric";case n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.System:return"system";case n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory.User:return"user";default:return(0,s.handleDefaultEnumCase)(e,"RpcLogCategory")}}function u(e){switch(e){case n.AzureFunctionsRpcMessages.StatusResult.Status.Cancelled:return"cancelled";case n.AzureFunctionsRpcMessages.StatusResult.Status.Failure:return"failure";case n.AzureFunctionsRpcMessages.StatusResult.Status.Success:return"success";default:return(0,s.handleDefaultEnumCase)(e,"RpcStatus")}}t.toCoreStatusResult=function(e){if(e){const t=Object.assign(Object.assign({},e),{logs:o(e.logs),status:u(e.status)});return(0,i.ensureKeysMatch)(e,t)}return e},t.toCoreLog=a},4873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCoreTypedData=void 0;const n=r(9978),i=r(4724),s=r(5709);function o(e){if(e){const t=Object.assign(Object.assign({},e),{http:a(e.http)});return(0,i.ensureKeysMatch)(e,t)}return e}function a(e){if(e){const t=Object.assign(Object.assign({},e),{cookies:c(e.cookies),body:o(e.body),rawBody:o(e.rawBody)});return(0,i.ensureKeysMatch)(e,t)}return e}function c(e){return e?e.map(l):e}function l(e){const t=Object.assign(Object.assign({},e),{sameSite:u(e.sameSite)});return(0,i.ensureKeysMatch)(e,t)}function u(e){switch(e){case n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.ExplicitNone:return"explicitNone";case n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.Lax:return"lax";case n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.None:return"none";case n.AzureFunctionsRpcMessages.RpcHttpCookie.SameSite.Strict:return"strict";default:return(0,s.handleDefaultEnumCase)(e,"RpcHttpCookieSameSite")}}t.toCoreTypedData=o},1692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coreApiLog=void 0;const n=r(3246),i=r(5963);t.coreApiLog=function(e,t,r){n.worker.log({message:r,level:(0,i.fromCoreLogLevel)(e),logCategory:(0,i.fromCoreLogCategory)(t)})}},8944:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerFunction=void 0;const n=r(6928),i=r(3553),s=r(5496),o=r(3246),a=r(713);t.registerFunction=function(e,t){if(o.worker.app.workerIndexingLocked)throw new s.AzFuncSystemError("A function can only be registered during app startup.");o.worker.app.isUsingWorkerIndexing=!0;const r=e.functionId||e.name;if(r in o.worker.app.functions)throw new s.AzFuncSystemError(`A function with id "${r}" has already been registered.`);const c=(0,a.fromCoreFunctionMetadata)(e);return c.functionId=r,c.rawBindings=Object.entries(e.bindings).map((([e,t])=>JSON.stringify(Object.assign(Object.assign({},t),{name:e})))),o.worker.app.currentEntryPoint?(c.scriptFile=n.basename(o.worker.app.currentEntryPoint),c.directory=n.dirname(o.worker.app.currentEntryPoint)):c.scriptFile="unknown",o.worker.app.functions[r]={metadata:c,callback:t},new i.Disposable((()=>{if(o.worker.app.workerIndexingLocked)throw new s.AzFuncSystemError("A function can only be disposed during app startup.");delete o.worker.app.functions[r]}))}},3279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setProgrammingModel=void 0;const n=r(9978),i=r(3246);var s=n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,o=n.AzureFunctionsRpcMessages.RpcLog.Level;t.setProgrammingModel=function(e){i.worker.app.programmingModel?i.worker.log({message:`Setting Node.js programming model to "${e.name}" version "${e.version}"`,level:o.Information,logCategory:s.System}):i.worker.defaultProgrammingModel=e,i.worker.app.programmingModel=e}},5496:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isError=t.trySetErrorMessage=t.ensureErrorType=t.ReadOnlyError=t.AzFuncRangeError=t.AzFuncTypeError=t.AzFuncSystemError=void 0;class r extends Error{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncSystemError=r;class n extends TypeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncTypeError=n;class i extends RangeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncRangeError=i,t.ReadOnlyError=class extends n{constructor(e){super(`Cannot assign to read only property '${e}'`)}},t.ensureErrorType=function(e){if(e instanceof Error)return e;{let t;return t=null==e?"Unknown error":"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):String(e),new Error(t)}},t.trySetErrorMessage=function(e,t){try{e.message=t}catch(e){}},t.isError=function(e){return null!=e}},8945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventHandler=void 0,t.EventHandler=class{}},4093:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionEnvironmentReloadHandler=void 0;const i=r(9978),s=r(5336),o=r(3246),a=r(8945),c=r(5537),l=r(1270);var u=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,d=i.AzureFunctionsRpcMessages.RpcLog.Level,h=i.AzureFunctionsRpcMessages.FunctionEnvironmentReloadResponse.CapabilitiesUpdateStrategy;const p=r(6928);class f extends a.EventHandler{constructor(){super(...arguments),this.responseName="functionEnvironmentReloadResponse"}getDefaultResponse(e){return{workerMetadata:(0,l.getWorkerMetadata)()}}handleEvent(e){return n(this,void 0,void 0,(function*(){var t,r;e.functionAppDirectory||o.worker.log({message:"FunctionEnvironmentReload functionAppDirectory is not defined",level:d.Debug,logCategory:u.System}),o.worker.app.functionAppDirectory&&e.functionAppDirectory&&(t=o.worker.app.functionAppDirectory,r=e.functionAppDirectory,""===p.relative(t,r))&&o.worker.log({message:"FunctionEnvironmentReload functionAppDirectory has not changed",level:d.Debug,logCategory:u.System}),o.worker.resetApp(e.functionAppDirectory);const n=this.getDefaultResponse(e),i=e.environmentVariables&&Object.keys(e.environmentVariables).length||0;return o.worker.log({message:`Reloading environment variables. Found ${i} variables to reload.`,level:d.Information,logCategory:u.System}),Object.keys(process.env).map((e=>delete process.env[e])),Object.assign(process.env,e.environmentVariables),e.functionAppDirectory&&(o.worker.log({message:`Changing current working directory to ${e.functionAppDirectory}`,level:d.Information,logCategory:u.System}),process.chdir(e.functionAppDirectory),yield(0,s.startApp)(e.functionAppDirectory),n.workerMetadata=(0,l.getWorkerMetadata)()),n.capabilities=yield(0,c.getWorkerCapabilities)(),n.capabilitiesUpdateStrategy=h.replace,n}))}}t.FunctionEnvironmentReloadHandler=f},7841:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionLoadHandler=void 0;const i=r(9978),s=r(5496),o=r(1167),a=r(9243),c=r(3246),l=r(8945);var u=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,d=i.AzureFunctionsRpcMessages.RpcLog.Level;class h extends l.EventHandler{constructor(){super(...arguments),this.responseName="functionLoadResponse"}getDefaultResponse(e){return{functionId:e.functionId}}handleEvent(e){return n(this,void 0,void 0,(function*(){c.worker.app.workerIndexingLocked=!0;const t=this.getDefaultResponse(e);if(c.worker.log({message:`Worker ${c.worker.id} received FunctionLoadRequest`,level:d.Debug,logCategory:u.System}),(0,a.isDefined)(c.worker.app.blockingAppStartError))throw c.worker.app.blockingAppStartError;if(!c.worker.app.isUsingWorkerIndexing){const t=(0,a.nonNullProp)(e,"functionId"),r=(0,a.nonNullProp)(e,"metadata");try{yield(0,o.loadLegacyFunction)(t,r,c.worker.app.packageJson)}catch(e){const t=(0,s.ensureErrorType)(e);t.isAzureFunctionsSystemError=!0;const n=`Worker was unable to load function ${r.name}: '${t.message}'`;throw(0,s.trySetErrorMessage)(t,n),t}}return t}))}}t.FunctionLoadHandler=h},6149:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionsMetadataHandler=void 0;const i=r(9978),s=r(9243),o=r(3246),a=r(8945);var c=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,l=i.AzureFunctionsRpcMessages.RpcLog.Level;class u extends a.EventHandler{constructor(){super(...arguments),this.responseName="functionMetadataResponse"}getDefaultResponse(e){return{useDefaultMetadataIndexing:!o.worker.app.isUsingWorkerIndexing}}handleEvent(e){return n(this,void 0,void 0,(function*(){o.worker.app.workerIndexingLocked=!0;const t=this.getDefaultResponse(e);if(o.worker.log({message:`Worker ${o.worker.id} received FunctionsMetadataRequest`,level:l.Debug,logCategory:c.System}),o.worker.app.isUsingWorkerIndexing){if((0,s.isDefined)(o.worker.app.blockingAppStartError))throw o.worker.app.blockingAppStartError;t.functionMetadataResults=Object.values(o.worker.app.functions).map((e=>e.metadata))}return t}))}}t.FunctionsMetadataHandler=u},8203:function(e,t,r){"use strict";var n,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.InvocationHandler=void 0;const a=r(9677),c=r(5963),l=r(2668),u=r(4030),d=r(5496),h=r(1867),p=r(1167),f=r(9243),g=r(3246),m=r(8945);class y extends m.EventHandler{constructor(){super(...arguments),this.responseName="invocationResponse"}getDefaultResponse(e){return{invocationId:e.invocationId}}handleEvent(e){return i(this,void 0,void 0,(function*(){const t=(0,f.nonNullProp)(e,"functionId");let r;if(r=g.worker.app.isUsingWorkerIndexing?g.worker.app.functions[t]:(0,p.getLegacyFunction)(t),!r)throw new d.AzFuncSystemError(`Function code for '${t}' is not loaded and cannot be invoked.`);let{metadata:n,callback:i}=r;const s=`${(0,f.nonNullProp)(n,"name")}.Invocation`,o=new v((0,u.toCoreInvocationRequest)(e),(0,l.toCoreFunctionMetadata)(n),s);o.log("debug","system",`Worker ${g.worker.id} received FunctionInvocationRequest with invocationId ${e.invocationId}`);const c=(0,f.nonNullProp)(g.worker.app,"programmingModel"),m=yield c.getInvocationModel(o),y={};let{context:b,inputs:S}=yield m.getArguments();o.logContext={hookData:y,invocationContext:b};const E={get hookData(){return y},set hookData(e){throw new d.ReadOnlyError("hookData")},get appHookData(){return g.worker.app.appHookData},set appHookData(e){throw new d.ReadOnlyError("appHookData")},get invocationContext(){return b},set invocationContext(e){throw new d.ReadOnlyError("invocationContext")},functionCallback:i,inputs:S};o.state="preInvocationHooks";try{yield(0,h.executeHooks)("preInvocation",E,e.invocationId,s)}finally{o.state=void 0}S=E.inputs,i=E.functionCallback;const _={get hookData(){return y},set hookData(e){throw new d.ReadOnlyError("hookData")},get appHookData(){return g.worker.app.appHookData},set appHookData(e){throw new d.ReadOnlyError("appHookData")},get invocationContext(){return b},set invocationContext(e){throw new d.ReadOnlyError("invocationContext")},inputs:S,result:null,error:null};o.state="invocation";try{_.result=yield m.invokeFunction(b,S,i)}catch(e){_.error=e}finally{o.state=void 0}o.state="postInvocationHooks";try{yield(0,h.executeHooks)("postInvocation",_,e.invocationId,s)}finally{o.state=void 0}if((0,d.isError)(_.error))throw _.error;return(0,a.fromCoreInvocationResponse)(yield m.getResponse(b,_.result))}))}}t.InvocationHandler=y;class v{constructor(e,t,r){n.set(this,void 0),this.invocationId=(0,f.nonNullProp)(e,"invocationId"),this.request=e,this.metadata=t,s(this,n,r,"f")}log(e,t,r){g.worker.log({invocationId:this.request.invocationId,category:o(this,n,"f"),message:r,level:(0,c.fromCoreLogLevel)(e),logCategory:(0,c.fromCoreLogCategory)(t)},this.logContext)}}n=new WeakMap},473:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.logColdStartWarning=t.WorkerInitHandler=void 0;const i=r(9896),s=r(6928),o=r(9978),a=r(5496),c=r(5336),l=r(9243),u=r(3246),d=r(8945),h=r(5537),p=r(1270);var f=o.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,g=o.AzureFunctionsRpcMessages.RpcLog.Level;class m extends d.EventHandler{constructor(){super(...arguments),this.responseName="workerInitResponse"}getDefaultResponse(e){return{workerMetadata:(0,p.getWorkerMetadata)()}}handleEvent(e){return n(this,void 0,void 0,(function*(){e.functionAppDirectory||u.worker.log({message:"WorkerInit functionAppDirectory is not defined",level:g.Debug,logCategory:f.System}),u.worker.app.functionAppDirectory=e.functionAppDirectory;const t=this.getDefaultResponse(e);return u.worker.log({message:`Worker ${u.worker.id} received WorkerInitRequest`,level:g.Debug,logCategory:f.System}),y(),u.worker._hostVersion=(0,l.nonNullProp)(e,"hostVersion"),e.functionAppDirectory&&(yield(0,c.startApp)(e.functionAppDirectory),t.workerMetadata=(0,p.getWorkerMetadata)()),t.capabilities=yield(0,h.getWorkerCapabilities)(),t}))}}function y(e){const t=process.env.AzureWebJobsScriptRoot;process.env.WEBSITE_CONTENTAZUREFILECONNECTIONSTRING&&process.env.WEBSITE_CONTENTSHARE&&t&&(e||(e=5e3),setTimeout((()=>{(0,i.access)(s.join(t,"package.json"),i.constants.F_OK,(e=>{(0,a.isError)(e)&&u.worker.log({message:"package.json is not found at the root of the Function App in Azure Files - cold start for NodeJs can be affected.",level:g.Debug,logCategory:f.System})}))}),e))}t.WorkerInitHandler=m,t.logColdStartWarning=y},5537:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerCapabilities=void 0;const i=r(3246);t.getWorkerCapabilities=function(){var e;return n(this,void 0,void 0,(function*(){let t={RawHttpBodyBytes:"true",RpcHttpTriggerMetadataRemoved:"true",RpcHttpBodyOnly:"true",IgnoreEmptyValuedRpcHttpHeaders:"true",UseNullableValueDictionaryForHttp:"true",WorkerStatus:"true",TypedDataCollection:"true",HandlesWorkerTerminateMessage:"true"};return(null===(e=i.worker.app.programmingModel)||void 0===e?void 0:e.getCapabilities)&&(t=yield i.worker.app.programmingModel.getCapabilities(t)),t}))}},1270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWorkerMetadata=void 0;const n=r(8258),i=r(3246);t.getWorkerMetadata=function(){const e={runtimeName:"node",runtimeVersion:process.versions.node,workerBitness:"ia32"===process.arch?"x86":process.arch,workerVersion:n.version};return i.worker.app.programmingModel&&(e.customProperties={modelName:i.worker.app.programmingModel.name,modelVersion:i.worker.app.programmingModel.version}),e}},5636:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.terminateWorker=void 0;const i=r(9978),s=r(5496),o=r(1867),a=r(3246);var c=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,l=i.AzureFunctionsRpcMessages.RpcLog.Level;t.terminateWorker=function(e){return n(this,void 0,void 0,(function*(){a.worker.log({message:"Received workerTerminate message; gracefully shutting down worker",level:l.Debug,logCategory:c.System});const e={get hookData(){return a.worker.app.appLevelOnlyHookData},set hookData(e){throw new s.ReadOnlyError("hookData")},get appHookData(){return a.worker.app.appHookData},set appHookData(e){throw new s.ReadOnlyError("appHookData")}};yield(0,o.executeHooks)("appTerminate",e),a.worker.eventStream.end(),process.exit(0)}))}},7130:function(e,t,r){"use strict";var n,i,s,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.LogHookContext=void 0;const c=r(4810),l=r(5496),u=r(9243),d=r(3246);t.LogHookContext=class{constructor(e,t){var r;n.set(this,void 0),i.set(this,void 0),s.set(this,void 0);const a=(0,c.toCoreLog)(e);this.level=(0,u.nonNullProp)(a,"level"),this.message=(0,u.nonNullProp)(a,"message"),o(this,n,(0,u.nonNullProp)(a,"logCategory"),"f"),o(this,i,null!==(r=null==t?void 0:t.hookData)&&void 0!==r?r:{},"f"),o(this,s,null==t?void 0:t.invocationContext,"f")}get hookData(){return a(this,i,"f")}set hookData(e){throw new l.ReadOnlyError("hookData")}get category(){return a(this,n,"f")}set category(e){throw new l.ReadOnlyError("category")}get appHookData(){return d.worker.app.appHookData}set appHookData(e){throw new l.ReadOnlyError("appHookData")}get invocationContext(){return a(this,s,"f")}set invocationContext(e){throw new l.ReadOnlyError("invocationContext")}},n=new WeakMap,i=new WeakMap,s=new WeakMap},1867:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.executeHooks=void 0;const i=r(9978),s=r(3246),o=r(6842);var a=i.AzureFunctionsRpcMessages.RpcLog.Level,c=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory;t.executeHooks=function(e,t,r,i){return n(this,void 0,void 0,(function*(){const n=(0,o.getHooks)(e);if(n.length>0){s.worker.log({message:`Executing ${n.length} "${e}" hooks`,level:a.Debug,logCategory:c.System,invocationId:r,category:i});for(const e of n)yield e(t);s.worker.log({message:`Executed "${e}" hooks`,level:a.Debug,logCategory:c.System,invocationId:r,category:i})}}))}},6842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHooks=void 0;const n=r(5496),i=r(3246);t.getHooks=function(e){switch(e){case"preInvocation":return i.worker.app.preInvocationHooks;case"postInvocation":return i.worker.app.postInvocationHooks;case"appStart":return i.worker.app.appStartHooks;case"appTerminate":return i.worker.app.appTerminateHooks;case"log":return i.worker.app.logHooks;default:throw new n.AzFuncRangeError(`Unrecognized hook "${e}"`)}}},3340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerHook=void 0;const n=r(3553),i=r(6842);t.registerHook=function(e,t){const r=(0,i.getHooks)(e);return r.push(t),new n.Disposable((()=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)}))}},142:function(__unused_webpack_module,exports,__webpack_require__){"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isESModule=exports.loadScriptFile=void 0;const retry=__webpack_require__(4116),path=__webpack_require__(6928),url=__webpack_require__(7016),rpc_1=__webpack_require__(9978),errors_1=__webpack_require__(5496),WorkerContext_1=__webpack_require__(3246);var LogCategory=rpc_1.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,LogLevel=rpc_1.AzureFunctionsRpcMessages.RpcLog.Level;let hasLoggedAttempt=0,hasLoggedWarning=!1;function loadScriptFile(e,t){return __awaiter(this,void 0,void 0,(function*(){return yield retry((r=>__awaiter(this,void 0,void 0,(function*(){return r>1&&r>hasLoggedAttempt&&(WorkerContext_1.worker.log({message:`Retrying file load. Attempt ${r}/10`,level:LogLevel.Debug,logCategory:LogCategory.System}),hasLoggedAttempt=r),loadScriptFileInternal(e,t)}))),{retries:9,minTimeout:500,onFailedAttempt:e=>{if(!/lstat.*home/i.test((null==e?void 0:e.message)||""))throw e;e.retriesLeft>0&&!hasLoggedWarning&&(WorkerContext_1.worker.log({message:`Warning: Failed to load file with error "${e.message}"`,level:LogLevel.Warning,logCategory:LogCategory.System}),hasLoggedWarning=!0)}})}))}function loadScriptFileInternal(filePath,packageJson){return __awaiter(this,void 0,void 0,(function*(){const start=Date.now();try{let script;if(isESModule(filePath,packageJson)){const fileUrl=url.pathToFileURL(filePath);if(!fileUrl.href)throw new errors_1.AzFuncSystemError(`'${filePath}' could not be converted to file URL (${fileUrl.href})`);script=yield eval("import(fileUrl.href)")}else script=require(filePath);return script}finally{warnIfLongLoadTime(filePath,start)}}))}function warnIfLongLoadTime(e,t){const r=Date.now()-t,n="WEBSITE_RUN_FROM_PACKAGE",i=process.env[n];r>1e3&&(void 0===i||"0"===i)&&"Development"!==process.env.AZURE_FUNCTIONS_ENVIRONMENT&&(WorkerContext_1.worker.log({message:`Loading "${path.basename(e)}" took ${r}ms`,level:LogLevel.Warning,logCategory:LogCategory.System}),WorkerContext_1.worker.log({message:`Set "${n}" to "1" to significantly improve load times. Learn more here: https://aka.ms/AAjon54`,level:LogLevel.Warning,logCategory:LogCategory.System}))}function isESModule(e,t){return!!e.endsWith(".mjs")||!e.endsWith(".cjs")&&"module"===t.type}exports.loadScriptFile=loadScriptFile,exports.isESModule=isESModule},9105:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.parsePackageJson=void 0;const i=r(1605),s=r(6928),o=r(5496);t.parsePackageJson=function(e){return n(this,void 0,void 0,(function*(){try{const t=s.join(e,"package.json");if(!(yield(0,i.pathExists)(t)))throw new o.AzFuncSystemError("file does not exist");const r=yield(0,i.readJson)(t);if("object"!=typeof r||null===r||Array.isArray(r))throw new o.AzFuncSystemError("file content is not an object");const n=["main","type"];for(const e of n)e in r&&"string"!=typeof r[e]&&delete r[e];return r}catch(e){const t=(0,o.ensureErrorType)(e);if("SyntaxError"===t.name){const e=`file content is not valid JSON: ${t.message}`;(0,o.trySetErrorMessage)(t,e)}throw t}}))}},4929:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupCoreModule=void 0;const n=r(8258),i=r(1692),s=r(8944),o=r(3279),a=r(3553),c=r(3340),l=r(3246),u=r(3339);t.setupCoreModule=function(){const e={version:n.version,get hostVersion(){return l.worker.hostVersion},registerHook:c.registerHook,setProgrammingModel:o.setProgrammingModel,getProgrammingModel:()=>l.worker.app.programmingModel,log:i.coreApiLog,registerFunction:s.registerFunction,Disposable:a.Disposable};u.prototype.require=new Proxy(u.prototype.require,{apply:(t,r,n)=>"@azure/functions-core"===n[0]?e:Reflect.apply(t,r,n)}),r(2082).setup()}},7840:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.setupEventStream=void 0;const i=r(9978),s=r(5496),o=r(4093),a=r(7841),c=r(6149),l=r(8203),u=r(5636),d=r(473),h=r(9913),p=r(9243),f=r(3246);var g=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,m=i.AzureFunctionsRpcMessages.RpcLog.Level;t.setupEventStream=function(){f.worker.eventStream.on("data",(e=>{!function(e){n(this,void 0,void 0,(function*(){const t={requestId:e.requestId};let r,n;try{const h=e.content;switch(h){case"functionEnvironmentReloadRequest":r=new o.FunctionEnvironmentReloadHandler;break;case"functionLoadRequest":r=new a.FunctionLoadHandler;break;case"invocationRequest":r=new l.InvocationHandler;break;case"workerInitRequest":r=new d.WorkerInitHandler;break;case"workerTerminate":return void(yield(0,u.terminateWorker)((0,p.nonNullProp)(e,h)));case"workerStatusRequest":return t.workerStatusResponse={},void f.worker.eventStream.write(t);case"functionsMetadataRequest":r=new c.FunctionsMetadataHandler;break;case"closeSharedMemoryResourcesRequest":case"fileChangeEventRequest":case"functionLoadRequestCollection":case"invocationCancel":case"startStream":case"workerHeartbeat":return;default:throw new s.AzFuncSystemError(`Worker had no handler for message '${h}'`)}n=(0,p.nonNullProp)(e,h);const g=yield r.handleEvent(n);g.result={status:i.AzureFunctionsRpcMessages.StatusResult.Status.Success},t[r.responseName]=g}catch(e){const o=(0,s.ensureErrorType)(e);if(o.isAzureFunctionsSystemError&&!o.loggedOverRpc&&f.worker.log({message:o.message,level:m.Error,logCategory:g.System}),r&&n){const e=r.getDefaultResponse(n);e.result={status:i.AzureFunctionsRpcMessages.StatusResult.Status.Failure,exception:{message:o.message,stackTrace:o.stack}},t[r.responseName]=e}}r&&f.worker.eventStream.write(t)}))}(e)})),f.worker.eventStream.on("error",(function(e){throw(0,h.systemError)("Worker encountered event stream error: ",e),new s.AzFuncSystemError(e)}));const e=f.worker.eventStream.write;f.worker.eventStream.write=function(t){const r=i.AzureFunctionsRpcMessages.StreamingMessage.verify(t);if(r)throw(0,h.systemError)("Worker malformed message",r),new s.AzFuncSystemError(r);e.apply(f.worker.eventStream,[t])}}},5336:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.startApp=void 0;const i=r(9978),s=r(5496),o=r(1867),a=r(142),c=r(9105),l=r(9243),u=r(7089),d=r(3246),h=r(7938),p=r(6928);var f=i.AzureFunctionsRpcMessages.RpcLog.Level,g=i.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory;t.startApp=function(e){return n(this,void 0,void 0,(function*(){yield function(e){return n(this,void 0,void 0,(function*(){try{d.worker.app.packageJson=yield(0,c.parsePackageJson)(e)}catch(e){const t=(0,s.ensureErrorType)(e);d.worker.log({message:`Worker failed to load package.json: ${t.message}`,level:f.Warning,logCategory:g.System}),d.worker.app.packageJson={}}}))}(e),yield function(e){return n(this,void 0,void 0,(function*(){const t=d.worker.app.packageJson.main;if(t){let r;try{const n=yield h(t,{cwd:e});if(0===n.length){let r=h.hasMagic(t,{cwd:e})?"Found zero files matching the supplied pattern":"File does not exist";throw"index.js"===t&&(r+=". Learn more here: https://aka.ms/AAla7et"),new s.AzFuncSystemError(r)}for(const t of n){r=t,d.worker.log({message:`Loading entry point file "${t}"`,level:f.Debug,logCategory:g.System});try{const r=p.join(e,t);d.worker.app.currentEntryPoint=r,yield(0,a.loadScriptFile)(r,d.worker.app.packageJson)}finally{d.worker.app.currentEntryPoint=void 0}d.worker.log({message:`Loaded entry point file "${t}"`,level:f.Debug,logCategory:g.System})}}catch(e){const n=(0,s.ensureErrorType)(e),i=`Worker was unable to load entry point "${r||t}": ${n.message}`;(function(){if((0,u.isNode20Plus)())return!0;{const e="FUNCTIONS_NODE_BLOCK_ON_ENTRY_POINT_ERROR";if((0,l.isDefined)(process.env[e]))return(0,u.isEnvironmentVariableSet)(process.env[e]);{const e=(0,l.nonNullProp)(d.worker.app,"programmingModel");return!("@azure/functions"===e.name&&e.version.startsWith("3."))}}})()&&((0,s.trySetErrorMessage)(n,i),n.isAzureFunctionsSystemError=!0,d.worker.app.blockingAppStartError=n,console.error(n.stack)),d.worker.log({message:i,level:f.Error,logCategory:g.System}),n.loggedOverRpc=!0}}}))}(e);const t={get hookData(){return d.worker.app.appLevelOnlyHookData},set hookData(e){throw new s.ReadOnlyError("hookData")},get appHookData(){return d.worker.app.appHookData},set appHookData(e){throw new s.ReadOnlyError("appHookData")},functionAppDirectory:e};yield(0,o.executeHooks)("appStart",t)}))}},9913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.systemError=t.systemWarn=t.systemLog=void 0;const r="LanguageWorkerConsoleLog";function n(e){return e&&"string"==typeof e&&(e=e.replace(/(\r\n|\n|\r)/gm," ")),e}t.systemLog=function(e,...t){console.log(r+n(e),...t)},t.systemWarn=function(e,...t){console.warn(r+"[warn] "+n(e),...t)},t.systemError=function(e,...t){console.error(r+"[error] "+n(e),...t)}},8823:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startBlockedMonitor=void 0;const n=r(9978);var i=n.AzureFunctionsRpcMessages.RpcLog.RpcLogCategory,s=n.AzureFunctionsRpcMessages.RpcLog.Level;const o=r(27);t.startBlockedMonitor=function(e,t=500,r=1e4){function n(t){e.log({message:t,level:s.Warning,logCategory:i.System})}n(`Monitoring for blocking code is turned on, with a threshold of ${t} ms. This will have a negative impact on performance. Adjust "AZURE_FUNCTIONS_NODE_BLOCK_LOG" to turn it off. IMPORTANT NOTE: The stack traces are only an approximation and you should analyze all synchronous operations`);let a=[];return o(((e,t)=>{const r=new Date;a.push({time:r.toISOString(),duration:e,stack:t})}),{threshold:t}),setInterval((()=>{a.length>0&&(n(`Blocking code monitoring history: ${JSON.stringify(a)}`),a=[])}),r)}},9243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=t.nonNullValue=t.nonNullProp=void 0;const n=r(5496);function i(e,t){if(null==e)throw new n.AzFuncSystemError("Internal error: Expected value to be neither null nor undefined"+(t?`: ${t}`:""));return e}t.nonNullProp=function(e,t){return i(e[t],t)},t.nonNullValue=i,t.isDefined=function(e){return null!=e}},7089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode20Plus=t.isEnvironmentVariableSet=void 0;const n=r(9589);t.isEnvironmentVariableSet=function(e){return!/^(false|0)?$/i.test(null==e?"":String(e))},t.isNode20Plus=function(){return n.gte(process.versions.node,"20.0.0")}},2082:(e,t,r)=>{(()=>{"use strict";var t={"./src/Context.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CreateContextAndInputs=void 0;const n=r("uuid"),i=r("./src/converters/BindingConverters.ts"),s=r("./src/converters/RpcConverters.ts"),o=r("./src/http/Request.ts"),a=r("./src/http/Response.ts");t.CreateContextAndInputs=function(e,t,r,l){const u=new c(e,t,r,l),d={},h=[];let p;for(const r of t.inputData)if(r.data&&r.name){let t;t=r.data&&r.data.http?p=new o.Request(r.data.http):e.getTimerTriggerName()===r.name?(0,i.convertKeysToCamelCase)(r).data:(0,s.fromTypedData)(r.data),d[r.name]=t,h.push(t)}return u.bindings=d,p&&(u.req=p,u.res=new a.Response(u.done),u.bindingData.sys={methodName:e.name,utcNow:(new Date).toISOString(),randGuid:(0,n.v4)()},u.bindingData.query||(u.bindingData.query=Object.assign({},p.query)),u.bindingData.headers||(u.bindingData.headers=Object.assign({},p.headers))),{context:u,inputs:h}};class c{constructor(e,t,r,n){this.invocationId=t.invocationId,this.traceContext=(0,s.fromRpcTraceContext)(t.traceContext);const o={invocationId:this.invocationId,functionName:e.name,functionDirectory:e.directory,retryContext:t.retryContext};this.executionContext=o,this.bindings={},this.log=Object.assign(((...e)=>r("information",...e)),{error:(...e)=>r("error",...e),warn:(...e)=>r("warning",...e),info:(...e)=>r("information",...e),verbose:(...e)=>r("trace",...e)}),this.bindingData=(0,i.getNormalizedBindingData)(t),this.bindingDefinitions=(0,i.getBindingDefinitions)(e),this.done=(e,t)=>{n.emit("done",e,t)}}}},"./src/FunctionInfo.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionInfo=void 0;const n=r("./src/converters/RpcConverters.ts"),i=r("./src/converters/RpcHttpConverters.ts");t.FunctionInfo=class{constructor(e){if(this.name=e.name,this.directory=e.directory,this.bindings={},this.outputBindings={},this.httpOutputName="",this.hasHttpTrigger=!1,e.bindings){const t=this.bindings=e.bindings;Object.keys(t).filter((e=>"in"!==t[e].direction)).forEach((e=>{const r=t[e].type;r&&"http"===r.toLowerCase()?(this.httpOutputName=e,this.outputBindings[e]=Object.assign(t[e],{converter:i.toRpcHttp})):this.outputBindings[e]=Object.assign(t[e],{converter:n.toTypedData})})),this.hasHttpTrigger=Object.keys(t).filter((e=>{const r=t[e].type;return r&&"httptrigger"===r.toLowerCase()})).length>0}}getReturnBinding(){return this.outputBindings.$return}getTimerTriggerName(){for(const e in this.bindings){const t=this.bindings[e].type;if(t&&"timertrigger"===t.toLowerCase())return e}}}},"./src/InvocationModel.ts":function(e,t,r){var n,i,s,o,a,c,l,u,d,h,p=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{c(n.next(e))}catch(e){s(e)}}function a(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((n=n.apply(e,t||[])).next())}))},f=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},g=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.InvocationModel=void 0;const m=r("util"),y=r("./src/Context.ts"),v=r("./src/converters/RpcConverters.ts"),b=r("./src/errors.ts"),S=r("./src/FunctionInfo.ts"),E=r("events"),_="https://go.microsoft.com/fwlink/?linkid=2097909";t.InvocationModel=class{constructor(e){n.add(this),i.set(this,new E),s.set(this,!1),o.set(this,!1),a.set(this,void 0),c.set(this,void 0),f(this,a,e,"f"),f(this,c,new S.FunctionInfo(e.metadata),"f")}getArguments(){return p(this,void 0,void 0,(function*(){const{context:e,inputs:t}=(0,y.CreateContextAndInputs)(g(this,c,"f"),g(this,a,"f").request,((e,...t)=>g(this,n,"m",d).call(this,e,...t)),g(this,i,"f"));return{context:e,inputs:t}}))}invokeFunction(e,t,r){return p(this,void 0,void 0,(function*(){const a=new Promise(((t,r)=>{g(this,i,"f").on("done",((i,s)=>{g(this,n,"m",h).call(this,e.suppressAsyncDoneError),(0,b.isError)(i)?r(i):t(s)}))}));try{let i,s=r(e,...t);return f(this,o,!!s&&"function"==typeof s.then,"f"),g(this,o,"f")?(s=Promise.resolve(s).then((t=>(g(this,n,"m",h).call(this,e.suppressAsyncDoneError),t))),i=Promise.race([s,a])):i=a,yield i}finally{f(this,s,!0,"f")}}))}getResponse(e,t){var r,n;return p(this,void 0,void 0,(function*(){const i={invocationId:g(this,a,"f").invocationId,outputData:[]},s=g(this,c,"f");s.httpOutputName&&e.res&&void 0===e.bindings[s.httpOutputName]&&(e.bindings[s.httpOutputName]=e.res);const o="activityTrigger"==(null===(n=null===(r=null==s?void 0:s.bindings)||void 0===r?void 0:r.name)||void 0===n?void 0:n.type),l=s.getReturnBinding();return(t||o&&null!=t)&&(l?i.returnValue=l.converter(t):"object"==typeof t&&(i.outputData=Object.keys(s.outputBindings).filter((e=>void 0!==t[e])).map((e=>({name:e,data:s.outputBindings[e].converter(t[e])})))),i.returnValue||0!=i.outputData.length||s.hasHttpTrigger||(i.returnValue=(0,v.toTypedData)(t))),e.bindings&&(i.outputData=i.outputData.concat(Object.keys(s.outputBindings).filter((r=>{const n=void 0!==e.bindings[r],i=!!t&&!l&&"object"==typeof t&&void 0!==t[r];return n&&!i})).map((t=>({name:t,data:s.outputBindings[t].converter(e.bindings[t])}))))),i}))}},i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,n=new WeakSet,l=function(e,t,...r){g(this,a,"f").log(e,t,m.format.apply(null,r))},u=function(e,...t){g(this,n,"m",l).call(this,e,"system",...t)},d=function(e,...t){if(g(this,s,"f")&&"postInvocationHooks"!==g(this,a,"f").state){let e="Warning: Unexpected call to 'log' on the context object after function execution has completed. Please check for asynchronous calls that are not awaited or calls to 'done' made before function execution completes. ";e+=`Function name: ${g(this,c,"f").name}. Invocation Id: ${g(this,a,"f").invocationId}. `,e+=`Learn more: ${_}`,g(this,n,"m",u).call(this,"warning",e)}g(this,n,"m",l).call(this,e,"user",...t)},h=function(e=!1){if(g(this,s,"f")){if(g(this,o,"f")&&e)return;const t=g(this,o,"f")?`Error: Choose either to return a promise or call 'done'. Do not use both in your script. Learn more: ${_}`:"Error: 'done' has already been called. Please check your script for extraneous calls to 'done'.";g(this,n,"m",u).call(this,"error",t)}f(this,s,!0,"f")}},"./src/constants.ts":(e,t)=>{var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.MediaType=t.HeaderName=t.version=void 0,t.version="3.5.0",(n=t.HeaderName||(t.HeaderName={})).contentType="content-type",n.contentDisposition="content-disposition",(r=t.MediaType||(t.MediaType={})).multipartForm="multipart/form-data",r.multipartPrefix="multipart/",r.urlEncodedForm="application/x-www-form-urlencoded",r.octetStream="application/octet-stream",r.json="application/json"},"./src/converters/BindingConverters.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertKeysToCamelCase=t.getNormalizedBindingData=t.getBindingDefinitions=void 0;const n=r("./src/converters/RpcConverters.ts");function i(e){const t={};for(const r in e){const s=r.charAt(0).toLocaleLowerCase()+r.slice(1);try{const o=(0,n.fromTypedData)(e[r]),a=void 0===o?e[r]:o;!Array.isArray(a)&&"object"==typeof a&&a&&null==a.http?t[s]=i(a):t[s]=a}catch(n){t[s]=e[r]}}return t}t.getBindingDefinitions=function(e){const t=e.bindings;return t?Object.keys(t).map((e=>({name:e,type:t[e].type||"",direction:t[e].direction||void 0}))):[]},t.getNormalizedBindingData=function(e){const t={invocationId:e.invocationId};return e.triggerMetadata&&Object.assign(t,i(e.triggerMetadata)),t},t.convertKeysToCamelCase=i},"./src/converters/RpcConverters.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toNullableTimestamp=t.toNullableString=t.toRpcString=t.toNullableDouble=t.toNullableBool=t.toTypedData=t.fromRpcTraceContext=t.fromTypedData=void 0;const n=r("long"),i=r("./src/errors.ts");t.fromTypedData=function(e,t=!0){let r=(e=e||{}).string||e.json;if(void 0!==r){if(t)try{null!=r&&(r=JSON.parse(r))}catch(e){}return r}return e.bytes?Buffer.from(e.bytes):e.collectionBytes&&e.collectionBytes.bytes?e.collectionBytes.bytes.map((e=>Buffer.from(e))):e.collectionString&&e.collectionString.string?e.collectionString.string:e.collectionDouble&&e.collectionDouble.double?e.collectionDouble.double:e.collectionSint64&&e.collectionSint64.sint64?e.collectionSint64.sint64.map((e=>(0,n.isLong)(e)?e.toString():e)):void 0},t.fromRpcTraceContext=function(e){return e?{traceparent:e.traceParent,tracestate:e.traceState,attributes:e.attributes}:{}},t.toTypedData=function(e){return"string"==typeof e?{string:e}:Buffer.isBuffer(e)?{bytes:e}:ArrayBuffer.isView(e)?{bytes:new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}:"number"==typeof e?Number.isInteger(e)?{int:e}:{double:e}:{json:JSON.stringify(e)}},t.toNullableBool=function(e,t){if("boolean"==typeof e)return{value:e};if(null!=e)throw new i.AzFuncSystemError(`A 'boolean' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toNullableDouble=function(e,t){if("number"==typeof e)return{value:e};if("string"==typeof e&&!isNaN(e))return{value:parseFloat(e)};if(null!=e)throw new i.AzFuncSystemError(`A 'number' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toRpcString=function(e,t){if("string"==typeof e)return e;if(null!=e)throw new i.AzFuncSystemError(`A 'string' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`);return""},t.toNullableString=function(e,t){if("string"==typeof e)return{value:e};if(null!=e)throw new i.AzFuncSystemError(`A 'string' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toNullableTimestamp=function(e,t){if(null!=e)try{const t="number"==typeof e?e:e.getTime();if(t&&t>=0)return{value:{seconds:Math.round(t/1e3)}}}catch(r){throw new i.AzFuncSystemError(`A 'number' or 'Date' input was expected instead of a '${typeof e}'. Cannot parse value of '${t}'.`)}}},"./src/converters/RpcHttpConverters.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRpcHttpCookieList=t.toRpcHttp=t.fromNullableMapping=t.fromRpcHttpBody=void 0;const n=r("./src/errors.ts"),i=r("./src/converters/RpcConverters.ts");function s(e){const t={};if(e)for(const r in e)null!=e[r]&&(t[r]=e[r].toString());return t}function o(e){const t=[];return e.forEach((e=>{t.push(function(e){let t="none";if(e&&e.sameSite){const r=e.sameSite.toLocaleLowerCase();"lax"===r?t="lax":"strict"===r?t="strict":"none"===r&&(t="explicitNone")}return{name:e&&(0,i.toRpcString)(e.name,"cookie.name"),value:e&&(0,i.toRpcString)(e.value,"cookie.value"),domain:(0,i.toNullableString)(e&&e.domain,"cookie.domain"),path:(0,i.toNullableString)(e&&e.path,"cookie.path"),expires:(0,i.toNullableTimestamp)(e&&e.expires,"cookie.expires"),secure:(0,i.toNullableBool)(e&&e.secure,"cookie.secure"),httpOnly:(0,i.toNullableBool)(e&&e.httpOnly,"cookie.httpOnly"),sameSite:t,maxAge:(0,i.toNullableDouble)(e&&e.maxAge,"cookie.maxAge")}}(e))})),t}t.fromRpcHttpBody=function(e){return e&&e.bytes?e.bytes.toString():(0,i.fromTypedData)(e,!1)},t.fromNullableMapping=function(e,t){let r={};if(e&&Object.keys(e).length>0)for(const t in e)r[t]=e[t].value||"";else t&&Object.keys(t).length>0&&(r=t);return r},t.toRpcHttp=function(e){if("object"!=typeof e||Array.isArray(e))throw new n.AzFuncSystemError("The HTTP response must be an 'object' type that can include properties such as 'body', 'status', and 'headers'. Learn more: https://go.microsoft.com/fwlink/?linkid=2112563");const t=e||{};let r=t.statusCode;return"function"!=typeof t.status&&(r||(r=t.status)),{http:Object.assign(Object.assign({},t),{statusCode:(null==r?void 0:r.toString())||null,headers:s(t.headers),cookies:o(t.cookies||[]),body:(0,i.toTypedData)(t.body)})}},t.toRpcHttpCookieList=o},"./src/errors.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isError=t.ensureErrorType=t.ReadOnlyError=t.AzFuncRangeError=t.AzFuncTypeError=t.AzFuncSystemError=void 0;class r extends Error{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncSystemError=r;class n extends TypeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncTypeError=n;class i extends RangeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncRangeError=i,t.ReadOnlyError=class extends n{constructor(e){super(`Cannot assign to read only property '${e}'`)}},t.ensureErrorType=function(e){if(e instanceof Error)return e;{let t;return t=null==e?"Unknown error":"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):String(e),new Error(t)}},t.isError=function(e){return null!=e}},"./src/http/Request.ts":function(e,t,r){var n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=void 0;const o=r("iconv-lite"),a=r("./src/constants.ts"),c=r("./src/converters/RpcConverters.ts"),l=r("./src/converters/RpcHttpConverters.ts"),u=r("./src/errors.ts"),d=r("./src/parsers/parseForm.ts"),h=r("./src/http/extractHttpUserFromHeaders.ts");function p(e){let t="utf8";return 254===e[0]&&255===e[1]?(t="utf16be",e=f(e,2)):255===e[0]&&254===e[1]?0!==e[2]||0!==e[3]?(t="utf16le",e=f(e,2)):(t="utf32le",e=f(e,4)):239===e[0]&&187===e[1]&&191===e[2]?(t="utf8",e=f(e,3)):0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]&&(t="utf32be",e=f(e,4)),(0,o.decode)(e,t)}function f(e,t){return e.subarray(t)}t.Request=class{constructor(e){var t,r;if(n.set(this,void 0),this.method=e.method,this.url=e.url,this.originalUrl=e.url,this.headers=(0,l.fromNullableMapping)(e.nullableHeaders,e.headers),this.query=(0,l.fromNullableMapping)(e.nullableQuery,e.query),this.params=(0,l.fromNullableMapping)(e.nullableParams,e.params),null===(t=e.body)||void 0===t?void 0:t.bytes){this.bufferBody=Buffer.from(e.body.bytes);const t=null===(r=this.get(a.HeaderName.contentType))||void 0===r?void 0:r.toLowerCase();let n;n=t===a.MediaType.octetStream||(null==t?void 0:t.startsWith(a.MediaType.multipartPrefix))?e.body:{string:p(this.bufferBody)},this.body=(0,c.fromTypedData)(n),this.rawBody=(0,l.fromRpcHttpBody)(n)}}get user(){return void 0===i(this,n,"f")&&s(this,n,(0,h.extractHttpUserFromHeaders)(this.headers),"f"),i(this,n,"f")}get(e){return this.headers&&this.headers[e.toLowerCase()]}parseFormBody(){const e=this.get(a.HeaderName.contentType);if(e)return(0,d.parseForm)(this.body,e);throw new u.AzFuncSystemError(`"${a.HeaderName.contentType}" header must be defined.`)}},n=new WeakMap},"./src/http/Response.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Response=void 0;const n=r("./src/constants.ts");t.Response=class{constructor(e){this.headers={},this.cookies=[],this.send=this.end,this.header=this.setHeader,this.set=this.setHeader,this.get=this.getHeader,this._done=e}end(e){return void 0!==e&&(this.body=e),this.setContentType(),this._done(),this}setHeader(e,t){return this.headers[e.toLowerCase()]=t,this}getHeader(e){return this.headers[e.toLowerCase()]}removeHeader(e){return delete this.headers[e.toLowerCase()],this}status(e){return this.statusCode=e,this}sendStatus(e){return this.status(e),this.end()}type(e){return this.set(n.HeaderName.contentType,e)}json(e){this.type(n.MediaType.json),this.send(e)}setContentType(){if(void 0!==this.body){if(this.get(n.HeaderName.contentType))return;Buffer.isBuffer(this.body)&&this.type(n.MediaType.octetStream)}}}},"./src/http/extractHttpUserFromHeaders.ts":(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extractHttpUserFromHeaders=void 0,t.extractHttpUserFromHeaders=function(e){let t=null;if(e["x-ms-client-principal"]){const r=JSON.parse(Buffer.from(e["x-ms-client-principal"],"base64").toString("utf-8"));t=r.identityProvider?{type:"StaticWebApps",id:r.userId,username:r.userDetails,identityProvider:r.identityProvider,claimsPrincipalData:r}:{type:"AppService",id:e["x-ms-client-principal-id"],username:e["x-ms-client-principal-name"],identityProvider:e["x-ms-client-principal-idp"],claimsPrincipalData:r}}return t}},"./src/parsers/parseForm.ts":function(e,t,r){var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.Form=t.parseForm=void 0;const o=r("./src/constants.ts"),a=r("./src/errors.ts"),c=r("./src/parsers/parseHeader.ts"),l=r("./src/parsers/parseMultipartForm.ts");t.parseForm=function(e,t){const[r,n]=(0,c.parseContentType)(t);switch(r.toLowerCase()){case o.MediaType.multipartForm:{const t=n.get("boundary"),r=(0,l.parseMultipartForm)("string"==typeof e?Buffer.from(e):e,t);return new u(r)}case o.MediaType.urlEncodedForm:{const t=new URLSearchParams(e.toString()),r=[];for(const[e,n]of t)r.push([e,{value:Buffer.from(n)}]);return new u(r)}default:throw new a.AzFuncSystemError(`Media type "${r}" does not match types supported for form parsing: "${o.MediaType.multipartForm}", "${o.MediaType.urlEncodedForm}".`)}};class u{constructor(e){n.set(this,void 0),i(this,n,e,"f")}get(e){for(const[t,r]of s(this,n,"f"))if(t===e)return r;return null}getAll(e){const t=[];for(const[r,i]of s(this,n,"f"))r===e&&t.push(i);return t}has(e){for(const[t]of s(this,n,"f"))if(t===e)return!0;return!1}[(n=new WeakMap,Symbol.iterator)](){return s(this,n,"f")[Symbol.iterator]()}get length(){return s(this,n,"f").length}}t.Form=u},"./src/parsers/parseHeader.ts":function(e,t,r){var n,i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderParams=t.parseContentDisposition=t.parseContentType=t.getHeaderValue=void 0;const s=r("./src/constants.ts"),o=r("./src/errors.ts"),a='[^ \\u0000-\\u001F\\u007F\\(\\)<>@,;:\\\\"\\/\\[\\]\\?\\.=]+',c="^\\s*",l="\\s*(.*)$",u=`\\s*;?${l}`;function d(e){const t=new h;for(;e;){let r=new RegExp(`${c}(${a})=(${a})${u}`,"i").exec(e);if(r||(r=new RegExp(`${c}(${a})="((?:[^"\\\\]|\\\\.)*)"${u}`,"i").exec(e)),!r)break;t.add(r[1],r[2].replace(/\\"/g,'"')),e=r[3]}return t}t.getHeaderValue=function(e,t){const r=new RegExp(`${c}${t}\\s*:${l}`,"i").exec(e);return r?r[1].trim():null},t.parseContentType=function(e){const t=new RegExp(`${c}(${a}\\/${a})${u}`,"i").exec(e);if(t)return[t[1],d(t[2])];throw new o.AzFuncSystemError(`${s.HeaderName.contentType} must begin with format "type/subtype".`)},t.parseContentDisposition=function(e){const t=new RegExp(`${c}(${a})${u}`,"i").exec(e);if(t)return[t[1],d(t[2])];throw new o.AzFuncSystemError(`${s.HeaderName.contentDisposition} must begin with disposition type.`)};class h{constructor(){n.set(this,{})}get(e){const t=i(this,n,"f")[e.toLowerCase()];if(void 0===t)throw new o.AzFuncSystemError(`Failed to find parameter with name "${e}".`);return t}has(e){return void 0!==i(this,n,"f")[e.toLowerCase()]}add(e,t){i(this,n,"f")[e.toLowerCase()]=t}}t.HeaderParams=h,n=new WeakMap},"./src/parsers/parseMultipartForm.ts":(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseMultipartForm=void 0;const n=r("./src/constants.ts"),i=r("./src/errors.ts"),s=r("./src/parsers/parseHeader.ts"),o=Buffer.from("\r")[0],a=Buffer.from("\n")[0];t.parseMultipartForm=function(e,t){const r=[];let c,l,u=!1;const d=Buffer.from(`--${t}`),h=Buffer.from(`--${t}--`);let p=0,f=0,g=0,m=0;for(let y=0;y<e.length;y++){let v;if(e[y]!==a)continue;f=e[y-1]===o?y-1:y,v=e.slice(p,f),p=y+1;const b=v.equals(d),S=v.equals(h);if(b||S){if(l&&(l.value=e.slice(g,m)),S)break;l={value:Buffer.from("")},u=!0}else if(u){if(!l)throw new i.AzFuncSystemError(`Expected form data to start with boundary "${t}".`);const e=v.toString();if(e){const t=(0,s.getHeaderValue)(e,n.HeaderName.contentDisposition);if(t){const[,e]=(0,s.parseContentDisposition)(t);c=e.get("name"),e.has("fileName")&&(l.fileName=e.get("fileName"))}else{const t=(0,s.getHeaderValue)(e,n.HeaderName.contentType);t&&(l.contentType=t)}}else{if(u=!1,!c)throw new i.AzFuncSystemError(`Expected part to have header "${n.HeaderName.contentDisposition}" with parameter "name".`);g=p,m=p,r.push([c,l])}}else m=f}return r}},"@azure/functions-core":e=>{e.exports=r(8789)},events:e=>{e.exports=r(4434)},"iconv-lite":e=>{e.exports=r(5249)},long:e=>{e.exports=r(8570)},util:e=>{e.exports=r(9023)},uuid:e=>{e.exports=r(4371)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var s=n[e]={exports:{}};return t[e].call(s.exports,s,s.exports,i),s.exports}var s={};(()=>{var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.setup=void 0;const t=i("@azure/functions-core"),r=i("./src/constants.ts"),n=i("./src/InvocationModel.ts");class o{constructor(){this.name="@azure/functions",this.version=r.version}getInvocationModel(e){return new n.InvocationModel(e)}}e.setup=function(){(0,t.setProgrammingModel)(new o)}})(),e.exports=s})()},2661:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addAdminServicesToServer=t.registerAdminService=void 0;const r=[];t.registerAdminService=function(e,t){r.push({getServiceDefinition:e,getHandlers:t})},t.addAdminServicesToServer=function(e){for(const{getServiceDefinition:t,getHandlers:n}of r)e.addService(t(),n())}},3956:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackoffTimeout=void 0,t.BackoffTimeout=class{constructor(e,t){this.callback=e,this.initialDelay=1e3,this.multiplier=1.6,this.maxDelay=12e4,this.jitter=.2,this.running=!1,this.hasRef=!0,this.startTime=new Date,t&&(t.initialDelay&&(this.initialDelay=t.initialDelay),t.multiplier&&(this.multiplier=t.multiplier),t.jitter&&(this.jitter=t.jitter),t.maxDelay&&(this.maxDelay=t.maxDelay)),this.nextDelay=this.initialDelay,this.timerId=setTimeout((()=>{}),0),clearTimeout(this.timerId)}runTimer(e){var t,r;clearTimeout(this.timerId),this.timerId=setTimeout((()=>{this.callback(),this.running=!1}),e),this.hasRef||null===(r=(t=this.timerId).unref)||void 0===r||r.call(t)}runOnce(){this.running=!0,this.startTime=new Date,this.runTimer(this.nextDelay);const e=Math.min(this.nextDelay*this.multiplier,this.maxDelay),t=e*this.jitter;var r,n;this.nextDelay=e+(r=-t,n=t,Math.random()*(n-r)+r)}stop(){clearTimeout(this.timerId),this.running=!1}reset(){if(this.nextDelay=this.initialDelay,this.running){const e=new Date,t=this.startTime;t.setMilliseconds(t.getMilliseconds()+this.nextDelay),clearTimeout(this.timerId),e<t?this.runTimer(t.getTime()-e.getTime()):this.running=!1}}isRunning(){return this.running}ref(){var e,t;this.hasRef=!0,null===(t=(e=this.timerId).ref)||void 0===t||t.call(e)}unref(){var e,t;this.hasRef=!1,null===(t=(e=this.timerId).unref)||void 0===t||t.call(e)}}},2267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallCredentials=void 0;const n=r(4097);class i{static createFromMetadataGenerator(e){return new o(e)}static createFromGoogleCredential(e){return i.createFromMetadataGenerator(((t,r)=>{let i;var s;i="getRequestHeaders"in(s=e)&&"function"==typeof s.getRequestHeaders?e.getRequestHeaders(t.service_url):new Promise(((r,n)=>{e.getRequestMetadata(t.service_url,((e,t)=>{e?n(e):t?r(t):n(new Error("Headers not set by metadata plugin"))}))})),i.then((e=>{const t=new n.Metadata;for(const r of Object.keys(e))t.add(r,e[r]);r(null,t)}),(e=>{r(e)}))}))}static createEmpty(){return new a}}t.CallCredentials=i;class s extends i{constructor(e){super(),this.creds=e}async generateMetadata(e){const t=new n.Metadata,r=await Promise.all(this.creds.map((t=>t.generateMetadata(e))));for(const e of r)t.merge(e);return t}compose(e){return new s(this.creds.concat([e]))}_equals(e){return this===e||e instanceof s&&this.creds.every(((t,r)=>t._equals(e.creds[r])))}}class o extends i{constructor(e){super(),this.metadataGenerator=e}generateMetadata(e){return new Promise(((t,r)=>{this.metadataGenerator(e,((e,n)=>{void 0!==n?t(n):r(e)}))}))}compose(e){return new s([this,e])}_equals(e){return this===e||e instanceof o&&this.metadataGenerator===e.metadataGenerator}}class a extends i{generateMetadata(e){return Promise.resolve(new n.Metadata)}compose(e){return e}_equals(e){return e instanceof a}}},5034:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InterceptingListenerImpl=t.isInterceptingListener=void 0,t.isInterceptingListener=function(e){return void 0!==e.onReceiveMetadata&&1===e.onReceiveMetadata.length},t.InterceptingListenerImpl=class{constructor(e,t){this.listener=e,this.nextListener=t,this.processingMetadata=!1,this.hasPendingMessage=!1,this.processingMessage=!1,this.pendingStatus=null}processPendingMessage(){this.hasPendingMessage&&(this.nextListener.onReceiveMessage(this.pendingMessage),this.pendingMessage=null,this.hasPendingMessage=!1)}processPendingStatus(){this.pendingStatus&&this.nextListener.onReceiveStatus(this.pendingStatus)}onReceiveMetadata(e){this.processingMetadata=!0,this.listener.onReceiveMetadata(e,(e=>{this.processingMetadata=!1,this.nextListener.onReceiveMetadata(e),this.processPendingMessage(),this.processPendingStatus()}))}onReceiveMessage(e){this.processingMessage=!0,this.listener.onReceiveMessage(e,(e=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessage=e,this.hasPendingMessage=!0):(this.nextListener.onReceiveMessage(e),this.processPendingStatus())}))}onReceiveStatus(e){this.listener.onReceiveStatus(e,(e=>{this.processingMetadata||this.processingMessage?this.pendingStatus=e:this.nextListener.onReceiveStatus(e)}))}}},5572:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNextCallNumber=void 0;let r=0;t.getNextCallNumber=function(){return r++}},1544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDuplexStreamImpl=t.ClientWritableStreamImpl=t.ClientReadableStreamImpl=t.ClientUnaryCallImpl=t.callErrorFromStatus=void 0;const n=r(4434),i=r(2203),s=r(131);t.callErrorFromStatus=function(e,t){const r=`${e.code} ${s.Status[e.code]}: ${e.details}`,n=`${new Error(r).stack}\nfor call at\n${t}`;return Object.assign(new Error(r),e,{stack:n})};class o extends n.EventEmitter{constructor(){super()}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}}t.ClientUnaryCallImpl=o;class a extends i.Readable{constructor(e){super({objectMode:!0}),this.deserialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}}t.ClientReadableStreamImpl=a;class c extends i.Writable{constructor(e){super({objectMode:!0}),this.serialize=e}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_write(e,t,r){var n;const i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientWritableStreamImpl=c;class l extends i.Duplex{constructor(e,t){super({objectMode:!0}),this.serialize=e,this.deserialize=t}cancel(){var e;null===(e=this.call)||void 0===e||e.cancelWithStatus(s.Status.CANCELLED,"Cancelled on client")}getPeer(){var e,t;return null!==(t=null===(e=this.call)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:"unknown"}_read(e){var t;null===(t=this.call)||void 0===t||t.startRead()}_write(e,t,r){var n;const i={callback:r},s=Number(t);Number.isNaN(s)||(i.flags=s),null===(n=this.call)||void 0===n||n.sendMessageWithContext(i,e)}_final(e){var t;null===(t=this.call)||void 0===t||t.halfClose(),e()}}t.ClientDuplexStreamImpl=l},7434:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelCredentials=void 0;const n=r(4756),i=r(2267),s=r(9167);function o(e,t){if(e&&!(e instanceof Buffer))throw new TypeError(`${t}, if provided, must be a Buffer.`)}class a{constructor(e){this.callCredentials=e||i.CallCredentials.createEmpty()}_getCallCredentials(){return this.callCredentials}static createSsl(e,t,r,i){var a;if(o(e,"Root certificate"),o(t,"Private key"),o(r,"Certificate chain"),t&&!r)throw new Error("Private key must be given with accompanying certificate chain");if(!t&&r)throw new Error("Certificate chain must be given with accompanying private key");const c=(0,n.createSecureContext)({ca:null!==(a=null!=e?e:(0,s.getDefaultRootsData)())&&void 0!==a?a:void 0,key:null!=t?t:void 0,cert:null!=r?r:void 0,ciphers:s.CIPHER_SUITES});return new l(c,null!=i?i:{})}static createFromSecureContext(e,t){return new l(e,null!=t?t:{})}static createInsecure(){return new c}}t.ChannelCredentials=a;class c extends a{constructor(e){super(e)}compose(e){throw new Error("Cannot compose insecure credentials")}_getConnectionOptions(){return null}_isSecure(){return!1}_equals(e){return e instanceof c}}class l extends a{constructor(e,t){super(),this.secureContext=e,this.verifyOptions=t,this.connectionOptions={secureContext:e},(null==t?void 0:t.checkServerIdentity)&&(this.connectionOptions.checkServerIdentity=t.checkServerIdentity)}compose(e){const t=this.callCredentials.compose(e);return new u(this,t)}_getConnectionOptions(){return Object.assign({},this.connectionOptions)}_isSecure(){return!0}_equals(e){return this===e||e instanceof l&&this.secureContext===e.secureContext&&this.verifyOptions.checkServerIdentity===e.verifyOptions.checkServerIdentity}}class u extends a{constructor(e,t){super(t),this.channelCredentials=e}compose(e){const t=this.callCredentials.compose(e);return new u(this.channelCredentials,t)}_getConnectionOptions(){return this.channelCredentials._getConnectionOptions()}_isSecure(){return!0}_equals(e){return this===e||e instanceof u&&this.channelCredentials._equals(e.channelCredentials)&&this.callCredentials._equals(e.callCredentials)}}},6998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.channelOptionsEqual=t.recognizedOptions=void 0,t.recognizedOptions={"grpc.ssl_target_name_override":!0,"grpc.primary_user_agent":!0,"grpc.secondary_user_agent":!0,"grpc.default_authority":!0,"grpc.keepalive_time_ms":!0,"grpc.keepalive_timeout_ms":!0,"grpc.keepalive_permit_without_calls":!0,"grpc.service_config":!0,"grpc.max_concurrent_streams":!0,"grpc.initial_reconnect_backoff_ms":!0,"grpc.max_reconnect_backoff_ms":!0,"grpc.use_local_subchannel_pool":!0,"grpc.max_send_message_length":!0,"grpc.max_receive_message_length":!0,"grpc.enable_http_proxy":!0,"grpc.enable_channelz":!0,"grpc.dns_min_time_between_resolutions_ms":!0,"grpc.enable_retries":!0,"grpc.per_rpc_retry_buffer_size":!0,"grpc.retry_buffer_size":!0,"grpc.max_connection_age_ms":!0,"grpc.max_connection_age_grace_ms":!0,"grpc-node.max_session_memory":!0,"grpc.service_config_disable_resolution":!0},t.channelOptionsEqual=function(e,t){const r=Object.keys(e).sort(),n=Object.keys(t).sort();if(r.length!==n.length)return!1;for(let i=0;i<r.length;i+=1){if(r[i]!==n[i])return!1;if(e[r[i]]!==t[n[i]])return!1}return!0}},3653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChannelImplementation=void 0;const n=r(7434),i=r(8899);t.ChannelImplementation=class{constructor(e,t,r){if("string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw new TypeError("Channel options must be an object");this.internalChannel=new i.InternalChannel(e,t,r)}close(){this.internalChannel.close()}getTarget(){return this.internalChannel.getTarget()}getConnectivityState(e){return this.internalChannel.getConnectivityState(e)}watchConnectivityState(e,t,r){this.internalChannel.watchConnectivityState(e,t,r)}getChannelzRef(){return this.internalChannel.getChannelzRef()}createCall(e,t,r,n,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");return this.internalChannel.createCall(e,t,r,n,i)}}},9503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.getChannelzServiceDefinition=t.getChannelzHandlers=t.unregisterChannelzRef=t.registerChannelzSocket=t.registerChannelzServer=t.registerChannelzSubchannel=t.registerChannelzChannel=t.ChannelzCallTracker=t.ChannelzChildrenTracker=t.ChannelzTrace=void 0;const n=r(9278),i=r(463),s=r(131),o=r(8996),a=r(2661),c=r(4056);function l(e){return{channel_id:e.id,name:e.name}}function u(e){return{subchannel_id:e.id,name:e.name}}function d(e){return{socket_id:e.id,name:e.name}}t.ChannelzTrace=class{constructor(){this.events=[],this.eventsLogged=0,this.creationTimestamp=new Date}addTrace(e,t,r){const n=new Date;this.events.push({description:t,severity:e,timestamp:n,childChannel:"channel"===(null==r?void 0:r.kind)?r:void 0,childSubchannel:"subchannel"===(null==r?void 0:r.kind)?r:void 0}),this.events.length>=64&&(this.events=this.events.slice(32)),this.eventsLogged+=1}getTraceMessage(){return{creation_timestamp:E(this.creationTimestamp),num_events_logged:this.eventsLogged,events:this.events.map((e=>({description:e.description,severity:e.severity,timestamp:E(e.timestamp),channel_ref:e.childChannel?l(e.childChannel):null,subchannel_ref:e.childSubchannel?u(e.childSubchannel):null})))}}},t.ChannelzChildrenTracker=class{constructor(){this.channelChildren=new Map,this.subchannelChildren=new Map,this.socketChildren=new Map}refChild(e){var t,r,n;switch(e.kind){case"channel":{let r=null!==(t=this.channelChildren.get(e.id))&&void 0!==t?t:{ref:e,count:0};r.count+=1,this.channelChildren.set(e.id,r);break}case"subchannel":{let t=null!==(r=this.subchannelChildren.get(e.id))&&void 0!==r?r:{ref:e,count:0};t.count+=1,this.subchannelChildren.set(e.id,t);break}case"socket":{let t=null!==(n=this.socketChildren.get(e.id))&&void 0!==n?n:{ref:e,count:0};t.count+=1,this.socketChildren.set(e.id,t);break}}}unrefChild(e){switch(e.kind){case"channel":{let t=this.channelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.channelChildren.delete(e.id):this.channelChildren.set(e.id,t));break}case"subchannel":{let t=this.subchannelChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.subchannelChildren.delete(e.id):this.subchannelChildren.set(e.id,t));break}case"socket":{let t=this.socketChildren.get(e.id);void 0!==t&&(t.count-=1,0===t.count?this.socketChildren.delete(e.id):this.socketChildren.set(e.id,t));break}}}getChildLists(){const e=[];for(const{ref:t}of this.channelChildren.values())e.push(t);const t=[];for(const{ref:e}of this.subchannelChildren.values())t.push(e);const r=[];for(const{ref:e}of this.socketChildren.values())r.push(e);return{channels:e,subchannels:t,sockets:r}}},t.ChannelzCallTracker=class{constructor(){this.callsStarted=0,this.callsSucceeded=0,this.callsFailed=0,this.lastCallStartedTimestamp=null}addCallStarted(){this.callsStarted+=1,this.lastCallStartedTimestamp=new Date}addCallSucceeded(){this.callsSucceeded+=1}addCallFailed(){this.callsFailed+=1}};let h=1;function p(){return h++}const f=[],g=[],m=[],y=[];function v(e){if(""===e)return[];const t=e.split(":").map((e=>function(e){const t=Number.parseInt(e,16);return[t/256|0,t%256]}(e)));return[].concat(...t)}function b(e){if((0,n.isIPv4)(e))return Buffer.from(Uint8Array.from(e.split(".").map((e=>Number.parseInt(e)))));if((0,n.isIPv6)(e)){let t,r;const n=e.indexOf("::");-1===n?(t=e,r=""):(t=e.substring(0,n),r=e.substring(n+2));const i=Buffer.from(v(t)),s=Buffer.from(v(r)),o=Buffer.alloc(16-i.length-s.length,0);return Buffer.concat([i,o,s])}return null}function S(e){switch(e){case i.ConnectivityState.CONNECTING:return{state:"CONNECTING"};case i.ConnectivityState.IDLE:return{state:"IDLE"};case i.ConnectivityState.READY:return{state:"READY"};case i.ConnectivityState.SHUTDOWN:return{state:"SHUTDOWN"};case i.ConnectivityState.TRANSIENT_FAILURE:return{state:"TRANSIENT_FAILURE"};default:return{state:"UNKNOWN"}}}function E(e){if(!e)return null;const t=e.getTime();return{seconds:t/1e3|0,nanos:t%1e3*1e6}}function _(e){const t=e.getInfo();return{ref:l(e.ref),data:{target:t.target,state:S(t.state),calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:E(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},channel_ref:t.children.channels.map((e=>l(e))),subchannel_ref:t.children.subchannels.map((e=>u(e)))}}function w(e,t){const r=Number.parseInt(e.request.channel_id),n=f[r];void 0!==n?t(null,{channel:_(n)}):t({code:s.Status.NOT_FOUND,details:"No channel data found for id "+r})}function C(e,t){const r=Number.parseInt(e.request.max_results),n=[];let i=Number.parseInt(e.request.start_channel_id);for(;i<f.length;i++){const e=f[i];if(void 0!==e&&(n.push(_(e)),n.length>=r))break}t(null,{channel:n,end:i>=m.length})}function T(e){const t=e.getInfo();return{ref:(r=e.ref,{server_id:r.id}),data:{calls_started:t.callTracker.callsStarted,calls_succeeded:t.callTracker.callsSucceeded,calls_failed:t.callTracker.callsFailed,last_call_started_timestamp:E(t.callTracker.lastCallStartedTimestamp),trace:t.trace.getTraceMessage()},listen_socket:t.listenerChildren.sockets.map((e=>d(e)))};var r}function R(e,t){const r=Number.parseInt(e.request.server_id),n=m[r];void 0!==n?t(null,{server:T(n)}):t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r})}function k(e,t){const r=Number.parseInt(e.request.max_results),n=[];let i=Number.parseInt(e.request.start_server_id);for(;i<m.length;i++){const e=m[i];if(void 0!==e&&(n.push(T(e)),n.length>=r))break}t(null,{server:n,end:i>=m.length})}function A(e,t){const r=Number.parseInt(e.request.subchannel_id),n=g[r];if(void 0===n)return void t({code:s.Status.NOT_FOUND,details:"No subchannel data found for id "+r});const i=n.getInfo();t(null,{subchannel:{ref:u(n.ref),data:{target:i.target,state:S(i.state),calls_started:i.callTracker.callsStarted,calls_succeeded:i.callTracker.callsSucceeded,calls_failed:i.callTracker.callsFailed,last_call_started_timestamp:E(i.callTracker.lastCallStartedTimestamp),trace:i.trace.getTraceMessage()},socket_ref:i.children.sockets.map((e=>d(e)))}})}function O(e){var t;return(0,o.isTcpSubchannelAddress)(e)?{address:"tcpip_address",tcpip_address:{ip_address:null!==(t=b(e.host))&&void 0!==t?t:void 0,port:e.port}}:{address:"uds_address",uds_address:{filename:e.path}}}function x(e,t){var r,n,i,o,a;const c=Number.parseInt(e.request.socket_id),l=y[c];if(void 0===l)return void t({code:s.Status.NOT_FOUND,details:"No socket data found for id "+c});const u=l.getInfo(),h=u.security?{model:"tls",tls:{cipher_suite:u.security.cipherSuiteStandardName?"standard_name":"other_name",standard_name:null!==(r=u.security.cipherSuiteStandardName)&&void 0!==r?r:void 0,other_name:null!==(n=u.security.cipherSuiteOtherName)&&void 0!==n?n:void 0,local_certificate:null!==(i=u.security.localCertificate)&&void 0!==i?i:void 0,remote_certificate:null!==(o=u.security.remoteCertificate)&&void 0!==o?o:void 0}}:null;t(null,{socket:{ref:d(l.ref),local:u.localAddress?O(u.localAddress):null,remote:u.remoteAddress?O(u.remoteAddress):null,remote_name:null!==(a=u.remoteName)&&void 0!==a?a:void 0,security:h,data:{keep_alives_sent:u.keepAlivesSent,streams_started:u.streamsStarted,streams_succeeded:u.streamsSucceeded,streams_failed:u.streamsFailed,last_local_stream_created_timestamp:E(u.lastLocalStreamCreatedTimestamp),last_remote_stream_created_timestamp:E(u.lastRemoteStreamCreatedTimestamp),messages_received:u.messagesReceived,messages_sent:u.messagesSent,last_message_received_timestamp:E(u.lastMessageReceivedTimestamp),last_message_sent_timestamp:E(u.lastMessageSentTimestamp),local_flow_control_window:u.localFlowControlWindow?{value:u.localFlowControlWindow}:null,remote_flow_control_window:u.remoteFlowControlWindow?{value:u.remoteFlowControlWindow}:null}}})}function N(e,t){const r=Number.parseInt(e.request.server_id),n=m[r];if(void 0===n)return void t({code:s.Status.NOT_FOUND,details:"No server data found for id "+r});const i=Number.parseInt(e.request.start_socket_id),o=Number.parseInt(e.request.max_results),a=n.getInfo().sessionChildren.sockets.sort(((e,t)=>e.id-t.id)),c=[];let l=0;for(;l<a.length&&!(a[l].id>=i&&(c.push(d(a[l])),c.length>=o));l++);t(null,{socket_ref:c,end:l>=a.length})}function P(){return{GetChannel:w,GetTopChannels:C,GetServer:R,GetServers:k,GetSubchannel:A,GetSocket:x,GetServerSockets:N}}t.registerChannelzChannel=function(e,t,r){const n=p(),i={id:n,name:e,kind:"channel"};return r&&(f[n]={ref:i,getInfo:t}),i},t.registerChannelzSubchannel=function(e,t,r){const n=p(),i={id:n,name:e,kind:"subchannel"};return r&&(g[n]={ref:i,getInfo:t}),i},t.registerChannelzServer=function(e,t){const r=p(),n={id:r,kind:"server"};return t&&(m[r]={ref:n,getInfo:e}),n},t.registerChannelzSocket=function(e,t,r){const n=p(),i={id:n,name:e,kind:"socket"};return r&&(y[n]={ref:i,getInfo:t}),i},t.unregisterChannelzRef=function(e){switch(e.kind){case"channel":return void delete f[e.id];case"subchannel":return void delete g[e.id];case"server":return void delete m[e.id];case"socket":return void delete y[e.id]}},t.getChannelzHandlers=P;let M=null;function L(){if(M)return M;const e=(0,r(6340).loadSync)("channelz.proto",{keepCase:!0,longs:String,enums:String,defaults:!0,oneofs:!0,includeDirs:[`${__dirname}/../../proto`]}),t=(0,c.loadPackageDefinition)(e);return M=t.grpc.channelz.v1.Channelz.service,M}t.getChannelzServiceDefinition=L,t.setup=function(){(0,a.registerAdminService)(L,P)}},3952:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInterceptingCall=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.InterceptorConfigurationError=void 0;const n=r(4097),i=r(5034),s=r(131),o=r(9752);class a extends Error{constructor(e){super(e),this.name="InterceptorConfigurationError",Error.captureStackTrace(this,a)}}t.InterceptorConfigurationError=a,t.ListenerBuilder=class{constructor(){this.metadata=void 0,this.message=void 0,this.status=void 0}withOnReceiveMetadata(e){return this.metadata=e,this}withOnReceiveMessage(e){return this.message=e,this}withOnReceiveStatus(e){return this.status=e,this}build(){return{onReceiveMetadata:this.metadata,onReceiveMessage:this.message,onReceiveStatus:this.status}}},t.RequesterBuilder=class{constructor(){this.start=void 0,this.message=void 0,this.halfClose=void 0,this.cancel=void 0}withStart(e){return this.start=e,this}withSendMessage(e){return this.message=e,this}withHalfClose(e){return this.halfClose=e,this}withCancel(e){return this.cancel=e,this}build(){return{start:this.start,sendMessage:this.message,halfClose:this.halfClose,cancel:this.cancel}}};const c={onReceiveMetadata:(e,t)=>{t(e)},onReceiveMessage:(e,t)=>{t(e)},onReceiveStatus:(e,t)=>{t(e)}},l={start:(e,t,r)=>{r(e,t)},sendMessage:(e,t)=>{t(e)},halfClose:e=>{e()},cancel:e=>{e()}};t.InterceptingCall=class{constructor(e,t){var r,n,i,s;this.nextCall=e,this.processingMetadata=!1,this.pendingMessageContext=null,this.processingMessage=!1,this.pendingHalfClose=!1,this.requester=t?{start:null!==(r=t.start)&&void 0!==r?r:l.start,sendMessage:null!==(n=t.sendMessage)&&void 0!==n?n:l.sendMessage,halfClose:null!==(i=t.halfClose)&&void 0!==i?i:l.halfClose,cancel:null!==(s=t.cancel)&&void 0!==s?s:l.cancel}:l}cancelWithStatus(e,t){this.requester.cancel((()=>{this.nextCall.cancelWithStatus(e,t)}))}getPeer(){return this.nextCall.getPeer()}processPendingMessage(){this.pendingMessageContext&&(this.nextCall.sendMessageWithContext(this.pendingMessageContext,this.pendingMessage),this.pendingMessageContext=null,this.pendingMessage=null)}processPendingHalfClose(){this.pendingHalfClose&&this.nextCall.halfClose()}start(e,t){var r,n,s,o,a,l;const u={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:null!==(o=null===(s=null==t?void 0:t.onReceiveMessage)||void 0===s?void 0:s.bind(t))&&void 0!==o?o:e=>{},onReceiveStatus:null!==(l=null===(a=null==t?void 0:t.onReceiveStatus)||void 0===a?void 0:a.bind(t))&&void 0!==l?l:e=>{}};this.processingMetadata=!0,this.requester.start(e,u,((e,t)=>{var r,n,s;let o;if(this.processingMetadata=!1,(0,i.isInterceptingListener)(t))o=t;else{const e={onReceiveMetadata:null!==(r=t.onReceiveMetadata)&&void 0!==r?r:c.onReceiveMetadata,onReceiveMessage:null!==(n=t.onReceiveMessage)&&void 0!==n?n:c.onReceiveMessage,onReceiveStatus:null!==(s=t.onReceiveStatus)&&void 0!==s?s:c.onReceiveStatus};o=new i.InterceptingListenerImpl(e,u)}this.nextCall.start(e,o),this.processPendingMessage(),this.processPendingHalfClose()}))}sendMessageWithContext(e,t){this.processingMessage=!0,this.requester.sendMessage(t,(r=>{this.processingMessage=!1,this.processingMetadata?(this.pendingMessageContext=e,this.pendingMessage=t):(this.nextCall.sendMessageWithContext(e,r),this.processPendingHalfClose())}))}sendMessage(e){this.sendMessageWithContext({},e)}startRead(){this.nextCall.startRead()}halfClose(){this.requester.halfClose((()=>{this.processingMetadata||this.processingMessage?this.pendingHalfClose=!0:this.nextCall.halfClose()}))}};class u{constructor(e,t){this.call=e,this.methodDefinition=t}cancelWithStatus(e,t){this.call.cancelWithStatus(e,t)}getPeer(){return this.call.getPeer()}sendMessageWithContext(e,t){let r;try{r=this.methodDefinition.requestSerialize(t)}catch(e){return void this.call.cancelWithStatus(s.Status.INTERNAL,`Request message serialization failure: ${(0,o.getErrorMessage)(e)}`)}this.call.sendMessageWithContext(e,r)}sendMessage(e){this.sendMessageWithContext({},e)}start(e,t){let r=null;this.call.start(e,{onReceiveMetadata:e=>{var r;null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r||r.call(t,e)},onReceiveMessage:e=>{var i;let a;try{a=this.methodDefinition.responseDeserialize(e)}catch(e){return r={code:s.Status.INTERNAL,details:`Response message parsing error: ${(0,o.getErrorMessage)(e)}`,metadata:new n.Metadata},void this.call.cancelWithStatus(r.code,r.details)}null===(i=null==t?void 0:t.onReceiveMessage)||void 0===i||i.call(t,a)},onReceiveStatus:e=>{var n,i;r?null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,r):null===(i=null==t?void 0:t.onReceiveStatus)||void 0===i||i.call(t,e)}})}startRead(){this.call.startRead()}halfClose(){this.call.halfClose()}}class d extends u{constructor(e,t){super(e,t)}start(e,t){var r,n;let i=!1;const s={onReceiveMetadata:null!==(n=null===(r=null==t?void 0:t.onReceiveMetadata)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e=>{},onReceiveMessage:e=>{var r;i=!0,null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,e)},onReceiveStatus:e=>{var r,n;i||null===(r=null==t?void 0:t.onReceiveMessage)||void 0===r||r.call(t,null),null===(n=null==t?void 0:t.onReceiveStatus)||void 0===n||n.call(t,e)}};super.start(e,s),this.call.startRead()}}class h extends u{}t.getInterceptingCall=function(e,t,r,n){if(e.clientInterceptors.length>0&&e.clientInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(e.callInterceptors.length>0&&e.callInterceptorProviders.length>0)throw new a("Both interceptors and interceptor_providers were passed as call options. Only one of these is allowed.");let i=[];i=e.callInterceptors.length>0||e.callInterceptorProviders.length>0?[].concat(e.callInterceptors,e.callInterceptorProviders.map((e=>e(t)))).filter((e=>e)):[].concat(e.clientInterceptors,e.clientInterceptorProviders.map((e=>e(t)))).filter((e=>e));const s=Object.assign({},r,{method_definition:t});return i.reduceRight(((e,t)=>r=>t(r,e)),(e=>function(e,t,r){const n=function(e,t,r){var n,i;const s=null!==(n=r.deadline)&&void 0!==n?n:1/0,o=r.host,a=null!==(i=r.parent)&&void 0!==i?i:null,c=r.propagate_flags,l=r.credentials,u=e.createCall(t,s,o,a,c);return l&&u.setCredentials(l),u}(e,r.path,t);return r.responseStream?new h(n,r):new d(n,r)}(n,e,t)))(s)}},5563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const n=r(1544),i=r(3653),s=r(463),o=r(131),a=r(4097),c=r(3952),l=Symbol(),u=Symbol(),d=Symbol(),h=Symbol();function p(e){return"function"==typeof e}function f(e){return e.stack.split("\n").slice(1).join("\n")}t.Client=class{constructor(e,t,r={}){var n,s;if(r=Object.assign({},r),this[u]=null!==(n=r.interceptors)&&void 0!==n?n:[],delete r.interceptors,this[d]=null!==(s=r.interceptor_providers)&&void 0!==s?s:[],delete r.interceptor_providers,this[u].length>0&&this[d].length>0)throw new Error("Both interceptors and interceptor_providers were passed as options to the client constructor. Only one of these is allowed.");if(this[h]=r.callInvocationTransformer,delete r.callInvocationTransformer,r.channelOverride)this[l]=r.channelOverride;else if(r.channelFactoryOverride){const n=r.channelFactoryOverride;delete r.channelFactoryOverride,this[l]=n(e,t,r)}else this[l]=new i.ChannelImplementation(e,t,r)}close(){this[l].close()}getChannel(){return this[l]}waitForReady(e,t){const r=n=>{if(n)return void t(new Error("Failed to connect before the deadline"));let i;try{i=this[l].getConnectivityState(!0)}catch(e){return void t(new Error("The channel has been closed"))}if(i===s.ConnectivityState.READY)t();else try{this[l].watchConnectivityState(i,e,r)}catch(e){t(new Error("The channel has been closed"))}};setImmediate(r)}checkOptionalUnaryResponseArguments(e,t,r){if(p(e))return{metadata:new a.Metadata,options:{},callback:e};if(p(t))return e instanceof a.Metadata?{metadata:e,options:{},callback:t}:{metadata:new a.Metadata,options:e,callback:t};if(!(e instanceof a.Metadata&&t instanceof Object&&p(r)))throw new Error("Incorrect arguments passed");return{metadata:e,options:t,callback:r}}makeUnaryRequest(e,t,r,i,s,a,p){var g,m;const y=this.checkOptionalUnaryResponseArguments(s,a,p),v={path:e,requestStream:!1,responseStream:!1,requestSerialize:t,responseDeserialize:r};let b={argument:i,metadata:y.metadata,call:new n.ClientUnaryCallImpl,channel:this[l],methodDefinition:v,callOptions:y.options,callback:y.callback};this[h]&&(b=this[h](b));const S=b.call,E={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(g=b.callOptions.interceptors)&&void 0!==g?g:[],callInterceptorProviders:null!==(m=b.callOptions.interceptor_providers)&&void 0!==m?m:[]},_=(0,c.getInterceptingCall)(E,b.methodDefinition,b.callOptions,b.channel);S.call=_;let w=null,C=!1,T=new Error;return _.start(b.metadata,{onReceiveMetadata:e=>{S.emit("metadata",e)},onReceiveMessage(e){null!==w&&_.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),w=e},onReceiveStatus(e){if(!C){if(C=!0,e.code===o.Status.OK)if(null===w){const t=f(T);b.callback((0,n.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else b.callback(null,w);else{const t=f(T);b.callback((0,n.callErrorFromStatus)(e,t))}T=null,S.emit("status",e)}}}),_.sendMessage(i),_.halfClose(),S}makeClientStreamRequest(e,t,r,i,s,a){var p,g;const m=this.checkOptionalUnaryResponseArguments(i,s,a),y={path:e,requestStream:!0,responseStream:!1,requestSerialize:t,responseDeserialize:r};let v={metadata:m.metadata,call:new n.ClientWritableStreamImpl(t),channel:this[l],methodDefinition:y,callOptions:m.options,callback:m.callback};this[h]&&(v=this[h](v));const b=v.call,S={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(p=v.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(g=v.callOptions.interceptor_providers)&&void 0!==g?g:[]},E=(0,c.getInterceptingCall)(S,v.methodDefinition,v.callOptions,v.channel);b.call=E;let _=null,w=!1,C=new Error;return E.start(v.metadata,{onReceiveMetadata:e=>{b.emit("metadata",e)},onReceiveMessage(e){null!==_&&E.cancelWithStatus(o.Status.INTERNAL,"Too many responses received"),_=e},onReceiveStatus(e){if(!w){if(w=!0,e.code===o.Status.OK)if(null===_){const t=f(C);v.callback((0,n.callErrorFromStatus)({code:o.Status.INTERNAL,details:"No message received",metadata:e.metadata},t))}else v.callback(null,_);else{const t=f(C);v.callback((0,n.callErrorFromStatus)(e,t))}C=null,b.emit("status",e)}}}),b}checkMetadataAndOptions(e,t){let r,n;return e instanceof a.Metadata?(r=e,n=t||{}):(n=e||{},r=new a.Metadata),{metadata:r,options:n}}makeServerStreamRequest(e,t,r,i,s,a){var p,g;const m=this.checkMetadataAndOptions(s,a),y={path:e,requestStream:!1,responseStream:!0,requestSerialize:t,responseDeserialize:r};let v={argument:i,metadata:m.metadata,call:new n.ClientReadableStreamImpl(r),channel:this[l],methodDefinition:y,callOptions:m.options};this[h]&&(v=this[h](v));const b=v.call,S={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(p=v.callOptions.interceptors)&&void 0!==p?p:[],callInterceptorProviders:null!==(g=v.callOptions.interceptor_providers)&&void 0!==g?g:[]},E=(0,c.getInterceptingCall)(S,v.methodDefinition,v.callOptions,v.channel);b.call=E;let _=!1,w=new Error;return E.start(v.metadata,{onReceiveMetadata(e){b.emit("metadata",e)},onReceiveMessage(e){b.push(e)},onReceiveStatus(e){if(!_){if(_=!0,b.push(null),e.code!==o.Status.OK){const t=f(w);b.emit("error",(0,n.callErrorFromStatus)(e,t))}w=null,b.emit("status",e)}}}),E.sendMessage(i),E.halfClose(),b}makeBidiStreamRequest(e,t,r,i,s){var a,p;const g=this.checkMetadataAndOptions(i,s),m={path:e,requestStream:!0,responseStream:!0,requestSerialize:t,responseDeserialize:r};let y={metadata:g.metadata,call:new n.ClientDuplexStreamImpl(t,r),channel:this[l],methodDefinition:m,callOptions:g.options};this[h]&&(y=this[h](y));const v=y.call,b={clientInterceptors:this[u],clientInterceptorProviders:this[d],callInterceptors:null!==(a=y.callOptions.interceptors)&&void 0!==a?a:[],callInterceptorProviders:null!==(p=y.callOptions.interceptor_providers)&&void 0!==p?p:[]},S=(0,c.getInterceptingCall)(b,y.methodDefinition,y.callOptions,y.channel);v.call=S;let E=!1,_=new Error;return S.start(y.metadata,{onReceiveMetadata(e){v.emit("metadata",e)},onReceiveMessage(e){v.push(e)},onReceiveStatus(e){if(!E){if(E=!0,v.push(null),e.code!==o.Status.OK){const t=f(_);v.emit("error",(0,n.callErrorFromStatus)(e,t))}_=null,v.emit("status",e)}}}),v}}},5179:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionAlgorithms=void 0,(r=t.CompressionAlgorithms||(t.CompressionAlgorithms={}))[r.identity=0]="identity",r[r.deflate=1]="deflate",r[r.gzip=2]="gzip"},4987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompressionFilterFactory=t.CompressionFilter=void 0;const n=r(3106),i=r(5179),s=r(131),o=r(2558),a=r(267);class c{async writeMessage(e,t){let r=e;t&&(r=await this.compressMessage(r));const n=Buffer.allocUnsafe(r.length+5);return n.writeUInt8(t?1:0,0),n.writeUInt32BE(r.length,1),r.copy(n,5),n}async readMessage(e){const t=1===e.readUInt8(0);let r=e.slice(5);return t&&(r=await this.decompressMessage(r)),r}}class l extends c{async compressMessage(e){return e}async writeMessage(e,t){const r=Buffer.allocUnsafe(e.length+5);return r.writeUInt8(0,0),r.writeUInt32BE(e.length,1),e.copy(r,5),r}decompressMessage(e){return Promise.reject(new Error('Received compressed message but "grpc-encoding" header was identity'))}}class u extends c{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise(((t,r)=>{n.deflate(e,((e,n)=>{e?r(e):t(n)}))}))}decompressMessage(e){return new Promise(((t,r)=>{let i=0;const o=[],a=n.createInflate();a.on("data",(e=>{o.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))})),a.on("end",(()=>{t(Buffer.concat(o))})),a.write(e),a.end()}))}}class d extends c{constructor(e){super(),this.maxRecvMessageLength=e}compressMessage(e){return new Promise(((t,r)=>{n.gzip(e,((e,n)=>{e?r(e):t(n)}))}))}decompressMessage(e){return new Promise(((t,r)=>{let i=0;const o=[],a=n.createGunzip();a.on("data",(e=>{o.push(e),i+=e.byteLength,-1!==this.maxRecvMessageLength&&i>this.maxRecvMessageLength&&(a.destroy(),r({code:s.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxRecvMessageLength}`}))})),a.on("end",(()=>{t(Buffer.concat(o))})),a.write(e),a.end()}))}}class h extends c{constructor(e){super(),this.compressionName=e}compressMessage(e){return Promise.reject(new Error(`Received message compressed with unsupported compression method ${this.compressionName}`))}decompressMessage(e){return Promise.reject(new Error(`Compression method not supported: ${this.compressionName}`))}}function p(e,t){switch(e){case"identity":return new l;case"deflate":return new u(t);case"gzip":return new d(t);default:return new h(e)}}class f extends o.BaseFilter{constructor(e,t){var r,n;super(),this.sharedFilterConfig=t,this.sendCompression=new l,this.receiveCompression=new l,this.currentCompressionAlgorithm="identity";const o=e["grpc.default_compression_algorithm"];if(this.maxReceiveMessageLength=null!==(r=e["grpc.max_receive_message_length"])&&void 0!==r?r:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,void 0!==o)if("number"==typeof(c=o)&&"string"==typeof i.CompressionAlgorithms[c]){const e=i.CompressionAlgorithms[o],r=null===(n=t.serverSupportedEncodingHeader)||void 0===n?void 0:n.split(",");r&&!r.includes(e)||(this.currentCompressionAlgorithm=e,this.sendCompression=p(this.currentCompressionAlgorithm,-1))}else a.log(s.LogVerbosity.ERROR,`Invalid value provided for grpc.default_compression_algorithm option: ${o}`);var c}async sendMetadata(e){const t=await e;return t.set("grpc-accept-encoding","identity,deflate,gzip"),t.set("accept-encoding","identity"),"identity"===this.currentCompressionAlgorithm?t.remove("grpc-encoding"):t.set("grpc-encoding",this.currentCompressionAlgorithm),t}receiveMetadata(e){const t=e.get("grpc-encoding");if(t.length>0){const e=t[0];"string"==typeof e&&(this.receiveCompression=p(e,this.maxReceiveMessageLength))}e.remove("grpc-encoding");const r=e.get("grpc-accept-encoding")[0];return r&&(this.sharedFilterConfig.serverSupportedEncodingHeader=r,r.split(",").includes(this.currentCompressionAlgorithm)||(this.sendCompression=new l,this.currentCompressionAlgorithm="identity")),e.remove("grpc-accept-encoding"),e}async sendMessage(e){var t;const r=await e;let n;return n=!(this.sendCompression instanceof l||2&(null!==(t=r.flags)&&void 0!==t?t:0)),{message:await this.sendCompression.writeMessage(r.message,n),flags:r.flags}}async receiveMessage(e){return this.receiveCompression.readMessage(await e)}}t.CompressionFilter=f,t.CompressionFilterFactory=class{constructor(e,t){this.options=t,this.sharedFilterConfig={}}createFilter(){return new f(this.options,this.sharedFilterConfig)}}},463:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityState=void 0,(r=t.ConnectivityState||(t.ConnectivityState={}))[r.IDLE=0]="IDLE",r[r.CONNECTING=1]="CONNECTING",r[r.READY=2]="READY",r[r.TRANSIENT_FAILURE=3]="TRANSIENT_FAILURE",r[r.SHUTDOWN=4]="SHUTDOWN"},131:(e,t)=>{"use strict";var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=t.Propagate=t.LogVerbosity=t.Status=void 0,(i=t.Status||(t.Status={}))[i.OK=0]="OK",i[i.CANCELLED=1]="CANCELLED",i[i.UNKNOWN=2]="UNKNOWN",i[i.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",i[i.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",i[i.NOT_FOUND=5]="NOT_FOUND",i[i.ALREADY_EXISTS=6]="ALREADY_EXISTS",i[i.PERMISSION_DENIED=7]="PERMISSION_DENIED",i[i.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",i[i.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",i[i.ABORTED=10]="ABORTED",i[i.OUT_OF_RANGE=11]="OUT_OF_RANGE",i[i.UNIMPLEMENTED=12]="UNIMPLEMENTED",i[i.INTERNAL=13]="INTERNAL",i[i.UNAVAILABLE=14]="UNAVAILABLE",i[i.DATA_LOSS=15]="DATA_LOSS",i[i.UNAUTHENTICATED=16]="UNAUTHENTICATED",(n=t.LogVerbosity||(t.LogVerbosity={}))[n.DEBUG=0]="DEBUG",n[n.INFO=1]="INFO",n[n.ERROR=2]="ERROR",n[n.NONE=3]="NONE",(r=t.Propagate||(t.Propagate={}))[r.DEADLINE=1]="DEADLINE",r[r.CENSUS_STATS_CONTEXT=2]="CENSUS_STATS_CONTEXT",r[r.CENSUS_TRACING_CONTEXT=4]="CENSUS_TRACING_CONTEXT",r[r.CANCELLATION=8]="CANCELLATION",r[r.DEFAULTS=65535]="DEFAULTS",t.DEFAULT_MAX_SEND_MESSAGE_LENGTH=-1,t.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH=4194304},6067:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.restrictControlPlaneStatusCode=void 0;const n=r(131),i=[n.Status.OK,n.Status.INVALID_ARGUMENT,n.Status.NOT_FOUND,n.Status.ALREADY_EXISTS,n.Status.FAILED_PRECONDITION,n.Status.ABORTED,n.Status.OUT_OF_RANGE,n.Status.DATA_LOSS];t.restrictControlPlaneStatusCode=function(e,t){return i.includes(e)?{code:n.Status.INTERNAL,details:`Invalid status from control plane: ${e} ${n.Status[e]} ${t}`}:{code:e,details:t}}},6308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deadlineToString=t.getRelativeTimeout=t.getDeadlineTimeoutString=t.minDeadline=void 0,t.minDeadline=function(...e){let t=1/0;for(const r of e){const e=r instanceof Date?r.getTime():r;e<t&&(t=e)}return t};const r=[["m",1],["S",1e3],["M",6e4],["H",36e5]];t.getDeadlineTimeoutString=function(e){const t=(new Date).getTime();e instanceof Date&&(e=e.getTime());const n=Math.max(e-t,0);for(const[e,t]of r){const r=n/t;if(r<1e8)return String(Math.ceil(r))+e}throw new Error("Deadline is too far in the future")},t.getRelativeTimeout=function(e){const t=(e instanceof Date?e.getTime():e)-(new Date).getTime();return t<0?0:t>2147483647?1/0:t},t.deadlineToString=function(e){if(e instanceof Date)return e.toISOString();{const t=new Date(e);return Number.isNaN(t.getTime())?""+e:t.toISOString()}}},4700:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.durationToMs=t.msToDuration=void 0,t.msToDuration=function(e){return{seconds:e/1e3|0,nanos:e%1e3*1e6|0}},t.durationToMs=function(e){return 1e3*e.seconds+e.nanos/1e6|0},t.isDuration=function(e){return"number"==typeof e.seconds&&"number"==typeof e.nanos}},9752:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorCode=t.getErrorMessage=void 0,t.getErrorMessage=function(e){return e instanceof Error?e.message:String(e)},t.getErrorCode=function(e){return"object"==typeof e&&null!==e&&"code"in e&&"number"==typeof e.code?e.code:null}},342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutlierDetectionLoadBalancingConfig=t.BaseSubchannelWrapper=t.registerAdminService=t.FilterStackFactory=t.BaseFilter=t.PickResultType=t.QueuePicker=t.UnavailablePicker=t.ChildLoadBalancerHandler=t.subchannelAddressToString=t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.registerLoadBalancerType=t.createChildChannelControlHelper=t.BackoffTimeout=t.durationToMs=t.uriToString=t.registerResolver=t.log=t.trace=void 0;var n=r(267);Object.defineProperty(t,"trace",{enumerable:!0,get:function(){return n.trace}}),Object.defineProperty(t,"log",{enumerable:!0,get:function(){return n.log}});var i=r(9302);Object.defineProperty(t,"registerResolver",{enumerable:!0,get:function(){return i.registerResolver}});var s=r(3822);Object.defineProperty(t,"uriToString",{enumerable:!0,get:function(){return s.uriToString}});var o=r(4700);Object.defineProperty(t,"durationToMs",{enumerable:!0,get:function(){return o.durationToMs}});var a=r(3956);Object.defineProperty(t,"BackoffTimeout",{enumerable:!0,get:function(){return a.BackoffTimeout}});var c=r(8923);Object.defineProperty(t,"createChildChannelControlHelper",{enumerable:!0,get:function(){return c.createChildChannelControlHelper}}),Object.defineProperty(t,"registerLoadBalancerType",{enumerable:!0,get:function(){return c.registerLoadBalancerType}}),Object.defineProperty(t,"getFirstUsableConfig",{enumerable:!0,get:function(){return c.getFirstUsableConfig}}),Object.defineProperty(t,"validateLoadBalancingConfig",{enumerable:!0,get:function(){return c.validateLoadBalancingConfig}});var l=r(8996);Object.defineProperty(t,"subchannelAddressToString",{enumerable:!0,get:function(){return l.subchannelAddressToString}});var u=r(533);Object.defineProperty(t,"ChildLoadBalancerHandler",{enumerable:!0,get:function(){return u.ChildLoadBalancerHandler}});var d=r(178);Object.defineProperty(t,"UnavailablePicker",{enumerable:!0,get:function(){return d.UnavailablePicker}}),Object.defineProperty(t,"QueuePicker",{enumerable:!0,get:function(){return d.QueuePicker}}),Object.defineProperty(t,"PickResultType",{enumerable:!0,get:function(){return d.PickResultType}});var h=r(2558);Object.defineProperty(t,"BaseFilter",{enumerable:!0,get:function(){return h.BaseFilter}});var p=r(1703);Object.defineProperty(t,"FilterStackFactory",{enumerable:!0,get:function(){return p.FilterStackFactory}});var f=r(2661);Object.defineProperty(t,"registerAdminService",{enumerable:!0,get:function(){return f.registerAdminService}});var g=r(2379);Object.defineProperty(t,"BaseSubchannelWrapper",{enumerable:!0,get:function(){return g.BaseSubchannelWrapper}});var m=r(9012);Object.defineProperty(t,"OutlierDetectionLoadBalancingConfig",{enumerable:!0,get:function(){return m.OutlierDetectionLoadBalancingConfig}})},1703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FilterStackFactory=t.FilterStack=void 0;class r{constructor(e){this.filters=e}sendMetadata(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMetadata(t);return t}receiveMetadata(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMetadata(t);return t}sendMessage(e){let t=e;for(let e=0;e<this.filters.length;e++)t=this.filters[e].sendMessage(t);return t}receiveMessage(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveMessage(t);return t}receiveTrailers(e){let t=e;for(let e=this.filters.length-1;e>=0;e--)t=this.filters[e].receiveTrailers(t);return t}push(e){this.filters.unshift(...e)}getFilters(){return this.filters}}t.FilterStack=r;class n{constructor(e){this.factories=e}push(e){this.factories.unshift(...e)}clone(){return new n([...this.factories])}createFilter(){return new r(this.factories.map((e=>e.createFilter())))}}t.FilterStackFactory=n},2558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFilter=void 0,t.BaseFilter=class{async sendMetadata(e){return e}receiveMetadata(e){return e}async sendMessage(e){return e}async receiveMessage(e){return e}receiveTrailers(e){return e}}},7803:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxiedConnection=t.mapProxyName=void 0;const n=r(267),i=r(131),s=r(9302),o=r(8611),a=r(4756),c=r(267),l=r(8996),u=r(3822),d=r(7016);function h(e){c.trace(i.LogVerbosity.DEBUG,"proxy",e)}t.mapProxyName=function(e,t){var r;const s={target:e,extraOptions:{}};if(0===(null!==(r=t["grpc.enable_http_proxy"])&&void 0!==r?r:1))return s;if("unix"===e.scheme)return s;const o=function(){let e,t="",r="";if(process.env.grpc_proxy)r="grpc_proxy",t=process.env.grpc_proxy;else if(process.env.https_proxy)r="https_proxy",t=process.env.https_proxy;else{if(!process.env.http_proxy)return{};r="http_proxy",t=process.env.http_proxy}try{e=new d.URL(t)}catch(e){return(0,n.log)(i.LogVerbosity.ERROR,`cannot parse value of "${r}" env var`),{}}if("http:"!==e.protocol)return(0,n.log)(i.LogVerbosity.ERROR,`"${e.protocol}" scheme not supported in proxy URI`),{};let s=null;e.username&&(e.password?((0,n.log)(i.LogVerbosity.INFO,"userinfo found in proxy URI"),s=`${e.username}:${e.password}`):s=e.username);const o=e.hostname;let a=e.port;""===a&&(a="80");const c={address:`${o}:${a}`};return s&&(c.creds=s),h("Proxy server "+c.address+" set by environment variable "+r),c}();if(!o.address)return s;const a=(0,u.splitHostPort)(e.path);if(!a)return s;const c=a.host;for(const t of function(){let e=process.env.no_grpc_proxy,t="no_grpc_proxy";return e||(e=process.env.no_proxy,t="no_proxy"),e?(h("No proxy server list set by environment variable "+t),e.split(",")):[]}())if(t===c)return h("Not using proxy for target in no_proxy list: "+(0,u.uriToString)(e)),s;const l={"grpc.http_connect_target":(0,u.uriToString)(e)};return o.creds&&(l["grpc.http_connect_creds"]=o.creds),{target:{scheme:"dns",path:o.address},extraOptions:l}},t.getProxiedConnection=function(e,t,r){if(!("grpc.http_connect_target"in t))return Promise.resolve({});const c=t["grpc.http_connect_target"],d=(0,u.parseUri)(c);if(null===d)return Promise.resolve({});const p={method:"CONNECT",path:d.path},f={Host:d.path};(0,l.isTcpSubchannelAddress)(e)?(p.host=e.host,p.port=e.port):p.socketPath=e.path,"grpc.http_connect_creds"in t&&(f["Proxy-Authorization"]="Basic "+Buffer.from(t["grpc.http_connect_creds"]).toString("base64")),p.headers=f;const g=(0,l.subchannelAddressToString)(e);return h("Using proxy "+g+" to connect to "+p.path),new Promise(((e,t)=>{const c=o.request(p);c.once("connect",((o,l,f)=>{var m;if(c.removeAllListeners(),l.removeAllListeners(),200===o.statusCode)if(h("Successfully connected to "+p.path+" through proxy "+g),"secureContext"in r){const n=(0,s.getDefaultAuthority)(d),i=(0,u.splitHostPort)(n),o=null!==(m=null==i?void 0:i.host)&&void 0!==m?m:n,c=a.connect(Object.assign({host:o,servername:o,socket:l},r),(()=>{h("Successfully established a TLS connection to "+p.path+" through proxy "+g),e({socket:c,realTarget:d})}));c.on("error",(e=>{h("Failed to establish a TLS connection to "+p.path+" through proxy "+g+" with error "+e.message),t()}))}else h("Successfully established a plaintext connection to "+p.path+" through proxy "+g),e({socket:l,realTarget:d});else(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to "+p.path+" through proxy "+g+" with status "+o.statusCode),t()})),c.once("error",(e=>{c.removeAllListeners(),(0,n.log)(i.LogVerbosity.ERROR,"Failed to connect to proxy "+g+" with error "+e.message),t()})),c.end()}))}},674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.experimental=t.addAdminServicesToServer=t.getChannelzHandlers=t.getChannelzServiceDefinition=t.InterceptorConfigurationError=t.InterceptingCall=t.RequesterBuilder=t.ListenerBuilder=t.StatusBuilder=t.getClientChannel=t.ServerCredentials=t.Server=t.setLogVerbosity=t.setLogger=t.load=t.loadObject=t.CallCredentials=t.ChannelCredentials=t.waitForClientReady=t.closeClient=t.Channel=t.makeGenericClientConstructor=t.makeClientConstructor=t.loadPackageDefinition=t.Client=t.compressionAlgorithms=t.propagate=t.connectivityState=t.status=t.logVerbosity=t.Metadata=t.credentials=void 0;const n=r(2267);Object.defineProperty(t,"CallCredentials",{enumerable:!0,get:function(){return n.CallCredentials}});const i=r(3653);Object.defineProperty(t,"Channel",{enumerable:!0,get:function(){return i.ChannelImplementation}});const s=r(5179);Object.defineProperty(t,"compressionAlgorithms",{enumerable:!0,get:function(){return s.CompressionAlgorithms}});const o=r(463);Object.defineProperty(t,"connectivityState",{enumerable:!0,get:function(){return o.ConnectivityState}});const a=r(7434);Object.defineProperty(t,"ChannelCredentials",{enumerable:!0,get:function(){return a.ChannelCredentials}});const c=r(5563);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return c.Client}});const l=r(131);Object.defineProperty(t,"logVerbosity",{enumerable:!0,get:function(){return l.LogVerbosity}}),Object.defineProperty(t,"status",{enumerable:!0,get:function(){return l.Status}}),Object.defineProperty(t,"propagate",{enumerable:!0,get:function(){return l.Propagate}});const u=r(267),d=r(4056);Object.defineProperty(t,"loadPackageDefinition",{enumerable:!0,get:function(){return d.loadPackageDefinition}}),Object.defineProperty(t,"makeClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}}),Object.defineProperty(t,"makeGenericClientConstructor",{enumerable:!0,get:function(){return d.makeClientConstructor}});const h=r(4097);Object.defineProperty(t,"Metadata",{enumerable:!0,get:function(){return h.Metadata}});const p=r(5943);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return p.Server}});const f=r(8692);Object.defineProperty(t,"ServerCredentials",{enumerable:!0,get:function(){return f.ServerCredentials}});const g=r(2284);Object.defineProperty(t,"StatusBuilder",{enumerable:!0,get:function(){return g.StatusBuilder}}),t.credentials={combineChannelCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),combineCallCredentials:(e,...t)=>t.reduce(((e,t)=>e.compose(t)),e),createInsecure:a.ChannelCredentials.createInsecure,createSsl:a.ChannelCredentials.createSsl,createFromSecureContext:a.ChannelCredentials.createFromSecureContext,createFromMetadataGenerator:n.CallCredentials.createFromMetadataGenerator,createFromGoogleCredential:n.CallCredentials.createFromGoogleCredential,createEmpty:n.CallCredentials.createEmpty},t.closeClient=e=>e.close(),t.waitForClientReady=(e,t,r)=>e.waitForReady(t,r),t.loadObject=(e,t)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.load=(e,t,r)=>{throw new Error("Not available in this library. Use @grpc/proto-loader and loadPackageDefinition instead")},t.setLogger=e=>{u.setLogger(e)},t.setLogVerbosity=e=>{u.setLoggerVerbosity(e)},t.getClientChannel=e=>c.Client.prototype.getChannel.call(e);var m=r(3952);Object.defineProperty(t,"ListenerBuilder",{enumerable:!0,get:function(){return m.ListenerBuilder}}),Object.defineProperty(t,"RequesterBuilder",{enumerable:!0,get:function(){return m.RequesterBuilder}}),Object.defineProperty(t,"InterceptingCall",{enumerable:!0,get:function(){return m.InterceptingCall}}),Object.defineProperty(t,"InterceptorConfigurationError",{enumerable:!0,get:function(){return m.InterceptorConfigurationError}});var y=r(9503);Object.defineProperty(t,"getChannelzServiceDefinition",{enumerable:!0,get:function(){return y.getChannelzServiceDefinition}}),Object.defineProperty(t,"getChannelzHandlers",{enumerable:!0,get:function(){return y.getChannelzHandlers}});var v=r(2661);Object.defineProperty(t,"addAdminServicesToServer",{enumerable:!0,get:function(){return v.addAdminServicesToServer}});const b=r(342);t.experimental=b;const S=r(6700),E=r(305),_=r(82),w=r(6486),C=r(1563),T=r(9012),R=r(9503),k=r(9943).rE;u.trace(l.LogVerbosity.DEBUG,"index","Loading @grpc/grpc-js version "+k),S.setup(),E.setup(),_.setup(),w.setup(),C.setup(),T.setup(),R.setup()},8899:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalChannel=void 0;const n=r(7434),i=r(4973),s=r(5716),o=r(178),a=r(131),c=r(1703),l=r(4987),u=r(9302),d=r(267),h=r(7803),p=r(3822),f=r(463),g=r(9503),m=r(2611),y=r(6308),v=r(8446),b=r(5572),S=r(6067),E=r(3135),_=r(2379),w=new Map;class C extends _.BaseSubchannelWrapper{constructor(e,t){super(e),this.channel=t,this.refCount=0,this.subchannelStateListener=(e,r,n,i)=>{t.throttleKeepalive(i)},e.addConnectivityStateListener(this.subchannelStateListener)}ref(){this.child.ref(),this.refCount+=1}unref(){this.child.unref(),this.refCount-=1,this.refCount<=0&&(this.child.removeConnectivityStateListener(this.subchannelStateListener),this.channel.removeWrappedSubchannel(this))}}t.InternalChannel=class{constructor(e,t,r){var m,y,v,b,_,T,R;if(this.credentials=t,this.options=r,this.connectivityState=f.ConnectivityState.IDLE,this.currentPicker=new o.UnavailablePicker,this.configSelectionQueue=[],this.pickQueue=[],this.connectivityStateWatchers=[],this.configSelector=null,this.currentResolutionError=null,this.wrappedSubchannels=new Set,this.channelzEnabled=!0,this.callTracker=new g.ChannelzCallTracker,this.childrenTracker=new g.ChannelzChildrenTracker,"string"!=typeof e)throw new TypeError("Channel target must be a string");if(!(t instanceof n.ChannelCredentials))throw new TypeError("Channel credentials must be a ChannelCredentials object");if(r&&"object"!=typeof r)throw new TypeError("Channel options must be an object");this.originalTarget=e;const k=(0,p.parseUri)(e);if(null===k)throw new Error(`Could not parse target name "${e}"`);const A=(0,u.mapUriDefaultScheme)(k);if(null===A)throw new Error(`Could not find a default scheme for target name "${e}"`);this.callRefTimer=setInterval((()=>{}),2147483647),null===(y=(m=this.callRefTimer).unref)||void 0===y||y.call(m),0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new g.ChannelzTrace,this.channelzRef=(0,g.registerChannelzChannel)(e,(()=>this.getChannelzInfo()),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Channel created"),this.options["grpc.default_authority"]?this.defaultAuthority=this.options["grpc.default_authority"]:this.defaultAuthority=(0,u.getDefaultAuthority)(A);const O=(0,h.mapProxyName)(A,r);this.target=O.target,this.options=Object.assign({},this.options,O.extraOptions),this.subchannelPool=(0,s.getSubchannelPool)(0===(null!==(v=r["grpc.use_local_subchannel_pool"])&&void 0!==v?v:0)),this.retryBufferTracker=new E.MessageBufferTracker(null!==(b=r["grpc.retry_buffer_size"])&&void 0!==b?b:16777216,null!==(_=r["grpc.per_rpc_retry_buffer_size"])&&void 0!==_?_:1048576),this.keepaliveTime=null!==(T=r["grpc.keepalive_time_ms"])&&void 0!==T?T:-1;const x={createSubchannel:(e,t)=>{const r=this.subchannelPool.getOrCreateSubchannel(this.target,e,Object.assign({},this.options,t),this.credentials);r.throttleKeepalive(this.keepaliveTime),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Created subchannel or used existing subchannel",r.getChannelzRef());const n=new C(r,this);return this.wrappedSubchannels.add(n),n},updateState:(e,t)=>{this.currentPicker=t;const r=this.pickQueue.slice();this.pickQueue=[],this.callRefTimerUnref();for(const e of r)e.doPick();this.updateState(e)},requestReresolution:()=>{throw new Error("Resolving load balancer should never call requestReresolution")},addChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.refChild(e)},removeChannelzChild:e=>{this.channelzEnabled&&this.childrenTracker.unrefChild(e)}};this.resolvingLoadBalancer=new i.ResolvingLoadBalancer(this.target,x,r,((e,t)=>{e.retryThrottling?w.set(this.getTarget(),new E.RetryThrottler(e.retryThrottling.maxTokens,e.retryThrottling.tokenRatio,w.get(this.getTarget()))):w.delete(this.getTarget()),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Address resolution succeeded"),this.configSelector=t,this.currentResolutionError=null,process.nextTick((()=>{const e=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const t of e)t.getConfig();this.configSelectionQueue=[]}))}),(e=>{this.channelzEnabled&&this.channelzTrace.addTrace("CT_WARNING","Address resolution failed with code "+e.code+' and details "'+e.details+'"'),this.configSelectionQueue.length>0&&this.trace("Name resolution failed with calls queued for config selection"),null===this.configSelector&&(this.currentResolutionError=Object.assign(Object.assign({},(0,S.restrictControlPlaneStatusCode)(e.code,e.details)),{metadata:e.metadata}));const t=this.configSelectionQueue;this.configSelectionQueue=[],this.callRefTimerUnref();for(const r of t)r.reportResolverError(e)})),this.filterStackFactory=new c.FilterStackFactory([new l.CompressionFilterFactory(this,this.options)]),this.trace("Channel constructed with options "+JSON.stringify(r,void 0,2));const N=new Error;(0,d.trace)(a.LogVerbosity.DEBUG,"channel_stacktrace","("+this.channelzRef.id+") Channel constructed \n"+(null===(R=N.stack)||void 0===R?void 0:R.substring(N.stack.indexOf("\n")+1)))}getChannelzInfo(){return{target:this.originalTarget,state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists()}}trace(e,t){(0,d.trace)(null!=t?t:a.LogVerbosity.DEBUG,"channel","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+e)}callRefTimerRef(){var e,t,r,n;(null===(t=(e=this.callRefTimer).hasRef)||void 0===t?void 0:t.call(e))||(this.trace("callRefTimer.ref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(n=(r=this.callRefTimer).ref)||void 0===n||n.call(r))}callRefTimerUnref(){var e,t;this.callRefTimer.hasRef&&!this.callRefTimer.hasRef()||(this.trace("callRefTimer.unref | configSelectionQueue.length="+this.configSelectionQueue.length+" pickQueue.length="+this.pickQueue.length),null===(t=(e=this.callRefTimer).unref)||void 0===t||t.call(e))}removeConnectivityStateWatcher(e){const t=this.connectivityStateWatchers.findIndex((t=>t===e));t>=0&&this.connectivityStateWatchers.splice(t,1)}updateState(e){(0,d.trace)(a.LogVerbosity.DEBUG,"connectivity_state","("+this.channelzRef.id+") "+(0,p.uriToString)(this.target)+" "+f.ConnectivityState[this.connectivityState]+" -> "+f.ConnectivityState[e]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO",f.ConnectivityState[this.connectivityState]+" -> "+f.ConnectivityState[e]),this.connectivityState=e;const t=this.connectivityStateWatchers.slice();for(const r of t)e!==r.currentState&&(r.timer&&clearTimeout(r.timer),this.removeConnectivityStateWatcher(r),r.callback());e!==f.ConnectivityState.TRANSIENT_FAILURE&&(this.currentResolutionError=null)}throttleKeepalive(e){if(e>this.keepaliveTime){this.keepaliveTime=e;for(const t of this.wrappedSubchannels)t.throttleKeepalive(e)}}removeWrappedSubchannel(e){this.wrappedSubchannels.delete(e)}doPick(e,t){return this.currentPicker.pick({metadata:e,extraPickInfo:t})}queueCallForPick(e){this.pickQueue.push(e),this.callRefTimerRef()}getConfig(e,t){return this.resolvingLoadBalancer.exitIdle(),this.configSelector?{type:"SUCCESS",config:this.configSelector(e,t)}:this.currentResolutionError?{type:"ERROR",error:this.currentResolutionError}:{type:"NONE"}}queueCallForConfig(e){this.configSelectionQueue.push(e),this.callRefTimerRef()}createLoadBalancingCall(e,t,r,n,i){const s=(0,b.getNextCallNumber)();return this.trace("createLoadBalancingCall ["+s+'] method="'+t+'"'),new m.LoadBalancingCall(this,e,t,r,n,i,s)}createRetryingCall(e,t,r,n,i){const s=(0,b.getNextCallNumber)();return this.trace("createRetryingCall ["+s+'] method="'+t+'"'),new E.RetryingCall(this,e,t,r,n,i,s,this.retryBufferTracker,w.get(this.getTarget()))}createInnerCall(e,t,r,n,i){return 0===this.options["grpc.enable_retries"]?this.createLoadBalancingCall(e,t,r,n,i):this.createRetryingCall(e,t,r,n,i)}createResolvingCall(e,t,r,n,i){const s=(0,b.getNextCallNumber)();this.trace("createResolvingCall ["+s+'] method="'+e+'", deadline='+(0,y.deadlineToString)(t));const o={deadline:t,flags:null!=i?i:a.Propagate.DEFAULTS,host:null!=r?r:this.defaultAuthority,parentCall:n},c=new v.ResolvingCall(this,e,o,this.filterStackFactory.clone(),this.credentials._getCallCredentials(),s);return this.channelzEnabled&&(this.callTracker.addCallStarted(),c.addStatusWatcher((e=>{e.code===a.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}))),c}close(){this.resolvingLoadBalancer.destroy(),this.updateState(f.ConnectivityState.SHUTDOWN),clearInterval(this.callRefTimer),this.channelzEnabled&&(0,g.unregisterChannelzRef)(this.channelzRef),this.subchannelPool.unrefUnusedSubchannels()}getTarget(){return(0,p.uriToString)(this.target)}getConnectivityState(e){const t=this.connectivityState;return e&&this.resolvingLoadBalancer.exitIdle(),t}watchConnectivityState(e,t,r){if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");let n=null;if(t!==1/0){const e=t instanceof Date?t:new Date(t),s=new Date;if(t===-1/0||e<=s)return void process.nextTick(r,new Error("Deadline passed without connectivity state change"));n=setTimeout((()=>{this.removeConnectivityStateWatcher(i),r(new Error("Deadline passed without connectivity state change"))}),e.getTime()-s.getTime())}const i={currentState:e,callback:r,timer:n};this.connectivityStateWatchers.push(i)}getChannelzRef(){return this.channelzRef}createCall(e,t,r,n,i){if("string"!=typeof e)throw new TypeError("Channel#createCall: method must be a string");if(!("number"==typeof t||t instanceof Date))throw new TypeError("Channel#createCall: deadline must be a number or Date");if(this.connectivityState===f.ConnectivityState.SHUTDOWN)throw new Error("Channel has been shut down");return this.createResolvingCall(e,t,r,n,i)}}},533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChildLoadBalancerHandler=void 0;const n=r(8923),i=r(463);t.ChildLoadBalancerHandler=class{constructor(e){this.channelControlHelper=e,this.currentChild=null,this.pendingChild=null,this.ChildPolicyHelper=class{constructor(e){this.parent=e,this.child=null}createSubchannel(e,t){return this.parent.channelControlHelper.createSubchannel(e,t)}updateState(e,t){var r;if(this.calledByPendingChild()){if(e===i.ConnectivityState.CONNECTING)return;null===(r=this.parent.currentChild)||void 0===r||r.destroy(),this.parent.currentChild=this.parent.pendingChild,this.parent.pendingChild=null}else if(!this.calledByCurrentChild())return;this.parent.channelControlHelper.updateState(e,t)}requestReresolution(){var e;const t=null!==(e=this.parent.pendingChild)&&void 0!==e?e:this.parent.currentChild;this.child===t&&this.parent.channelControlHelper.requestReresolution()}setChild(e){this.child=e}addChannelzChild(e){this.parent.channelControlHelper.addChannelzChild(e)}removeChannelzChild(e){this.parent.channelControlHelper.removeChannelzChild(e)}calledByPendingChild(){return this.child===this.parent.pendingChild}calledByCurrentChild(){return this.child===this.parent.currentChild}}}updateAddressList(e,t,r){let i;if(null===this.currentChild||this.currentChild.getTypeName()!==t.getLoadBalancerName()){const e=new this.ChildPolicyHelper(this),r=(0,n.createLoadBalancer)(t,e);e.setChild(r),null===this.currentChild?(this.currentChild=r,i=this.currentChild):(this.pendingChild&&this.pendingChild.destroy(),this.pendingChild=r,i=this.pendingChild)}else i=null===this.pendingChild?this.currentChild:this.pendingChild;i.updateAddressList(e,t,r)}exitIdle(){this.currentChild&&(this.currentChild.exitIdle(),this.pendingChild&&this.pendingChild.exitIdle())}resetBackoff(){this.currentChild&&(this.currentChild.resetBackoff(),this.pendingChild&&this.pendingChild.resetBackoff())}destroy(){this.currentChild&&(this.currentChild.destroy(),this.currentChild=null),this.pendingChild&&(this.pendingChild.destroy(),this.pendingChild=null)}getTypeName(){return"child_load_balancer_helper"}}},9012:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.OutlierDetectionLoadBalancer=t.OutlierDetectionLoadBalancingConfig=void 0;const i=r(463),s=r(131),o=r(4700),a=r(342),c=r(8923),l=r(533),u=r(178),d=r(8996),h=r(2379),p=r(267);function f(e){p.trace(s.LogVerbosity.DEBUG,"outlier_detection",e)}const g="outlier_detection",m="true"===(null!==(n=process.env.GRPC_EXPERIMENTAL_ENABLE_OUTLIER_DETECTION)&&void 0!==n?n:"true"),y={stdev_factor:1900,enforcement_percentage:100,minimum_hosts:5,request_volume:100},v={threshold:85,enforcement_percentage:100,minimum_hosts:5,request_volume:50};function b(e,t,r,n){if(t in e&&typeof e[t]!==r)throw new Error(`outlier detection config ${n?`${n}.${t}`:t} parse error: expected ${r}, got ${typeof e[t]}`)}function S(e,t,r){const n=r?`${r}.${t}`:t;if(t in e){if(!(0,o.isDuration)(e[t]))throw new Error(`outlier detection config ${n} parse error: expected Duration, got ${typeof e[t]}`);if(!(e[t].seconds>=0&&e[t].seconds<=315576e6&&e[t].nanos>=0&&e[t].nanos<=999999999))throw new Error(`outlier detection config ${n} parse error: values out of range for non-negative Duaration`)}}function E(e,t,r){const n=r?`${r}.${t}`:t;if(b(e,t,"number",r),t in e&&!(e[t]>=0&&e[t]<=100))throw new Error(`outlier detection config ${n} parse error: value out of range for percentage (0-100)`)}class _{constructor(e,t,r,n,i,s,o){if(this.childPolicy=o,o.length>0&&"pick_first"===o[0].getLoadBalancerName())throw new Error("outlier_detection LB policy cannot have a pick_first child policy");this.intervalMs=null!=e?e:1e4,this.baseEjectionTimeMs=null!=t?t:3e4,this.maxEjectionTimeMs=null!=r?r:3e5,this.maxEjectionPercent=null!=n?n:10,this.successRateEjection=i?Object.assign(Object.assign({},y),i):null,this.failurePercentageEjection=s?Object.assign(Object.assign({},v),s):null}getLoadBalancerName(){return g}toJsonObject(){return{interval:(0,o.msToDuration)(this.intervalMs),base_ejection_time:(0,o.msToDuration)(this.baseEjectionTimeMs),max_ejection_time:(0,o.msToDuration)(this.maxEjectionTimeMs),max_ejection_percent:this.maxEjectionPercent,success_rate_ejection:this.successRateEjection,failure_percentage_ejection:this.failurePercentageEjection,child_policy:this.childPolicy.map((e=>e.toJsonObject()))}}getIntervalMs(){return this.intervalMs}getBaseEjectionTimeMs(){return this.baseEjectionTimeMs}getMaxEjectionTimeMs(){return this.maxEjectionTimeMs}getMaxEjectionPercent(){return this.maxEjectionPercent}getSuccessRateEjectionConfig(){return this.successRateEjection}getFailurePercentageEjectionConfig(){return this.failurePercentageEjection}getChildPolicy(){return this.childPolicy}copyWithChildPolicy(e){return new _(this.intervalMs,this.baseEjectionTimeMs,this.maxEjectionTimeMs,this.maxEjectionPercent,this.successRateEjection,this.failurePercentageEjection,e)}static createFromJson(e){var t;if(S(e,"interval"),S(e,"base_ejection_time"),S(e,"max_ejection_time"),E(e,"max_ejection_percent"),"success_rate_ejection"in e){if("object"!=typeof e.success_rate_ejection)throw new Error("outlier detection config success_rate_ejection must be an object");b(e.success_rate_ejection,"stdev_factor","number","success_rate_ejection"),E(e.success_rate_ejection,"enforcement_percentage","success_rate_ejection"),b(e.success_rate_ejection,"minimum_hosts","number","success_rate_ejection"),b(e.success_rate_ejection,"request_volume","number","success_rate_ejection")}if("failure_percentage_ejection"in e){if("object"!=typeof e.failure_percentage_ejection)throw new Error("outlier detection config failure_percentage_ejection must be an object");E(e.failure_percentage_ejection,"threshold","failure_percentage_ejection"),E(e.failure_percentage_ejection,"enforcement_percentage","failure_percentage_ejection"),b(e.failure_percentage_ejection,"minimum_hosts","number","failure_percentage_ejection"),b(e.failure_percentage_ejection,"request_volume","number","failure_percentage_ejection")}return new _(e.interval?(0,o.durationToMs)(e.interval):null,e.base_ejection_time?(0,o.durationToMs)(e.base_ejection_time):null,e.max_ejection_time?(0,o.durationToMs)(e.max_ejection_time):null,null!==(t=e.max_ejection_percent)&&void 0!==t?t:null,e.success_rate_ejection,e.failure_percentage_ejection,e.child_policy.map(c.validateLoadBalancingConfig))}}t.OutlierDetectionLoadBalancingConfig=_;class w extends h.BaseSubchannelWrapper{constructor(e,t){super(e),this.mapEntry=t,this.stateListeners=[],this.ejected=!1,this.refCount=0,this.childSubchannelState=e.getConnectivityState(),e.addConnectivityStateListener(((e,t,r,n)=>{if(this.childSubchannelState=r,!this.ejected)for(const e of this.stateListeners)e(this,t,r,n)}))}getConnectivityState(){return this.ejected?i.ConnectivityState.TRANSIENT_FAILURE:this.childSubchannelState}addConnectivityStateListener(e){this.stateListeners.push(e)}removeConnectivityStateListener(e){const t=this.stateListeners.indexOf(e);t>-1&&this.stateListeners.splice(t,1)}ref(){this.child.ref(),this.refCount+=1}unref(){if(this.child.unref(),this.refCount-=1,this.refCount<=0&&this.mapEntry){const e=this.mapEntry.subchannelWrappers.indexOf(this);e>=0&&this.mapEntry.subchannelWrappers.splice(e,1)}}eject(){this.ejected=!0;for(const e of this.stateListeners)e(this,this.childSubchannelState,i.ConnectivityState.TRANSIENT_FAILURE,-1)}uneject(){this.ejected=!1;for(const e of this.stateListeners)e(this,i.ConnectivityState.TRANSIENT_FAILURE,this.childSubchannelState,-1)}getMapEntry(){return this.mapEntry}getWrappedSubchannel(){return this.child}}class C{constructor(){this.activeBucket={success:0,failure:0},this.inactiveBucket={success:0,failure:0}}addSuccess(){this.activeBucket.success+=1}addFailure(){this.activeBucket.failure+=1}switchBuckets(){this.inactiveBucket=this.activeBucket,this.activeBucket={success:0,failure:0}}getLastSuccesses(){return this.inactiveBucket.success}getLastFailures(){return this.inactiveBucket.failure}}class T{constructor(e,t){this.wrappedPicker=e,this.countCalls=t}pick(e){const t=this.wrappedPicker.pick(e);if(t.pickResultType===u.PickResultType.COMPLETE){const e=t.subchannel,r=e.getMapEntry();if(r){let n=t.onCallEnded;return this.countCalls&&(n=e=>{var n;e===s.Status.OK?r.counter.addSuccess():r.counter.addFailure(),null===(n=t.onCallEnded)||void 0===n||n.call(t,e)}),Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel(),onCallEnded:n})}return Object.assign(Object.assign({},t),{subchannel:e.getWrappedSubchannel()})}return t}}class R{constructor(e){this.addressMap=new Map,this.latestConfig=null,this.timerStartTime=null,this.childBalancer=new l.ChildLoadBalancerHandler((0,a.createChildChannelControlHelper)(e,{createSubchannel:(t,r)=>{const n=e.createSubchannel(t,r),i=this.addressMap.get((0,d.subchannelAddressToString)(t)),s=new w(n,i);return null!==(null==i?void 0:i.currentEjectionTimestamp)&&s.eject(),null==i||i.subchannelWrappers.push(s),s},updateState:(t,r)=>{t===i.ConnectivityState.READY?e.updateState(t,new T(r,this.isCountingEnabled())):e.updateState(t,r)}})),this.ejectionTimer=setInterval((()=>{}),0),clearInterval(this.ejectionTimer)}isCountingEnabled(){return null!==this.latestConfig&&(null!==this.latestConfig.getSuccessRateEjectionConfig()||null!==this.latestConfig.getFailurePercentageEjectionConfig())}getCurrentEjectionPercent(){let e=0;for(const t of this.addressMap.values())null!==t.currentEjectionTimestamp&&(e+=1);return 100*e/this.addressMap.size}runSuccessRateCheck(e){if(!this.latestConfig)return;const t=this.latestConfig.getSuccessRateEjectionConfig();if(!t)return;f("Running success rate check");const r=t.request_volume;let n=0;const i=[];for(const[e,t]of this.addressMap){const s=t.counter.getLastSuccesses(),o=t.counter.getLastFailures();f("Stats for "+e+": successes="+s+" failures="+o+" targetRequestVolume="+r),s+o>=r&&(n+=1,i.push(s/(s+o)))}if(f("Found "+n+" success rate candidates; currentEjectionPercent="+this.getCurrentEjectionPercent()+" successRates=["+i+"]"),n<t.minimum_hosts)return;const s=i.reduce(((e,t)=>e+t))/i.length;let o=0;for(const e of i){const t=e-s;o+=t*t}const a=o/i.length,c=Math.sqrt(a),l=s-c*(t.stdev_factor/1e3);f("stdev="+c+" ejectionThreshold="+l);for(const[n,i]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const s=i.counter.getLastSuccesses(),o=i.counter.getLastFailures();if(s+o<r)continue;const a=s/(s+o);if(f("Checking candidate "+n+" successRate="+a),a<l){const r=100*Math.random();f("Candidate "+n+" randomNumber="+r+" enforcement_percentage="+t.enforcement_percentage),r<t.enforcement_percentage&&(f("Ejecting candidate "+n),this.eject(i,e))}}}runFailurePercentageCheck(e){if(!this.latestConfig)return;const t=this.latestConfig.getFailurePercentageEjectionConfig();if(!t)return;f("Running failure percentage check. threshold="+t.threshold+" request volume threshold="+t.request_volume);let r=0;for(const e of this.addressMap.values())e.counter.getLastSuccesses()+e.counter.getLastFailures()>=t.request_volume&&(r+=1);if(!(r<t.minimum_hosts))for(const[r,n]of this.addressMap.entries()){if(this.getCurrentEjectionPercent()>=this.latestConfig.getMaxEjectionPercent())break;const i=n.counter.getLastSuccesses(),s=n.counter.getLastFailures();if((f("Candidate successes="+i+" failures="+s),!(i+s<t.request_volume))&&100*s/(s+i)>t.threshold){const i=100*Math.random();f("Candidate "+r+" randomNumber="+i+" enforcement_percentage="+t.enforcement_percentage),i<t.enforcement_percentage&&(f("Ejecting candidate "+r),this.eject(n,e))}}}eject(e,t){e.currentEjectionTimestamp=new Date,e.ejectionTimeMultiplier+=1;for(const t of e.subchannelWrappers)t.eject()}uneject(e){e.currentEjectionTimestamp=null;for(const t of e.subchannelWrappers)t.uneject()}switchAllBuckets(){for(const e of this.addressMap.values())e.counter.switchBuckets()}startTimer(e){var t,r;this.ejectionTimer=setTimeout((()=>this.runChecks()),e),null===(r=(t=this.ejectionTimer).unref)||void 0===r||r.call(t)}runChecks(){const e=new Date;if(f("Ejection timer running"),this.switchAllBuckets(),this.latestConfig){this.timerStartTime=e,this.startTimer(this.latestConfig.getIntervalMs()),this.runSuccessRateCheck(e),this.runFailurePercentageCheck(e);for(const[e,t]of this.addressMap.entries())if(null===t.currentEjectionTimestamp)t.ejectionTimeMultiplier>0&&(t.ejectionTimeMultiplier-=1);else{const r=this.latestConfig.getBaseEjectionTimeMs(),n=this.latestConfig.getMaxEjectionTimeMs(),i=new Date(t.currentEjectionTimestamp.getTime());i.setMilliseconds(i.getMilliseconds()+Math.min(r*t.ejectionTimeMultiplier,Math.max(r,n))),i<new Date&&(f("Unejecting "+e),this.uneject(t))}}}updateAddressList(e,t,r){if(!(t instanceof _))return;const n=new Set;for(const t of e)n.add((0,d.subchannelAddressToString)(t));for(const e of n)this.addressMap.has(e)||(f("Adding map entry for "+e),this.addressMap.set(e,{counter:new C,currentEjectionTimestamp:null,ejectionTimeMultiplier:0,subchannelWrappers:[]}));for(const e of this.addressMap.keys())n.has(e)||(f("Removing map entry for "+e),this.addressMap.delete(e));const i=(0,c.getFirstUsableConfig)(t.getChildPolicy(),!0);if(this.childBalancer.updateAddressList(e,i,r),t.getSuccessRateEjectionConfig()||t.getFailurePercentageEjectionConfig())if(this.timerStartTime){f("Previous timer existed. Replacing timer"),clearTimeout(this.ejectionTimer);const e=t.getIntervalMs()-((new Date).getTime()-this.timerStartTime.getTime());this.startTimer(e)}else f("Starting new timer"),this.timerStartTime=new Date,this.startTimer(t.getIntervalMs()),this.switchAllBuckets();else{f("Counting disabled. Cancelling timer."),this.timerStartTime=null,clearTimeout(this.ejectionTimer);for(const e of this.addressMap.values())this.uneject(e),e.ejectionTimeMultiplier=0}this.latestConfig=t}exitIdle(){this.childBalancer.exitIdle()}resetBackoff(){this.childBalancer.resetBackoff()}destroy(){clearTimeout(this.ejectionTimer),this.childBalancer.destroy()}getTypeName(){return g}}t.OutlierDetectionLoadBalancer=R,t.setup=function(){m&&(0,a.registerLoadBalancerType)(g,R,_)}},6486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.PickFirstLoadBalancer=t.PickFirstLoadBalancingConfig=void 0;const n=r(8923),i=r(463),s=r(178),o=r(8996),a=r(267),c=r(131);function l(e){a.trace(c.LogVerbosity.DEBUG,"pick_first",e)}const u="pick_first";class d{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new d}}t.PickFirstLoadBalancingConfig=d;class h{constructor(e){this.subchannel=e}pick(e){return{pickResultType:s.PickResultType.COMPLETE,subchannel:this.subchannel,status:null,onCallStarted:null,onCallEnded:null}}}class p{constructor(e){this.channelControlHelper=e,this.latestAddressList=[],this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentSubchannelIndex=0,this.currentPick=null,this.triedAllSubchannels=!1,this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{if(this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,e.getRealSubchannel()===this.subchannels[this.currentSubchannelIndex].getRealSubchannel()&&r===i.ConnectivityState.TRANSIENT_FAILURE&&this.startNextSubchannelConnecting(),r!==i.ConnectivityState.READY){if(this.triedAllSubchannels&&this.subchannelStateCounts[i.ConnectivityState.IDLE]===this.subchannels.length)return this.resetSubchannelList(!1),void this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this));if(null===this.currentPick)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[i.ConnectivityState.CONNECTING]>0?i.ConnectivityState.CONNECTING:this.subchannelStateCounts[i.ConnectivityState.TRANSIENT_FAILURE]>0?i.ConnectivityState.TRANSIENT_FAILURE:i.ConnectivityState.IDLE,e!==this.currentState&&(e===i.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new s.UnavailablePicker):this.updateState(e,new s.QueuePicker(this)))}else this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this))}else this.pickSubchannel(e)},this.pickedSubchannelStateListener=(e,t,r)=>{if(r!==i.ConnectivityState.READY)if(this.currentPick=null,e.unref(),e.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef()),this.subchannels.length>0)if(this.triedAllSubchannels){let e;e=this.subchannelStateCounts[i.ConnectivityState.CONNECTING]>0?i.ConnectivityState.CONNECTING:this.subchannelStateCounts[i.ConnectivityState.TRANSIENT_FAILURE]>0?i.ConnectivityState.TRANSIENT_FAILURE:i.ConnectivityState.IDLE,e===i.ConnectivityState.TRANSIENT_FAILURE?this.updateState(e,new s.UnavailablePicker):this.updateState(e,new s.QueuePicker(this))}else this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this));else this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))},this.connectionDelayTimeout=setTimeout((()=>{}),0),clearTimeout(this.connectionDelayTimeout)}startNextSubchannelConnecting(){if(!this.triedAllSubchannels){for(const[e,t]of this.subchannels.entries())if(e>this.currentSubchannelIndex){const r=t.getConnectivityState();if(r===i.ConnectivityState.IDLE||r===i.ConnectivityState.CONNECTING)return void this.startConnecting(e)}this.triedAllSubchannels=!0}}startConnecting(e){clearTimeout(this.connectionDelayTimeout),this.currentSubchannelIndex=e,this.subchannels[e].getConnectivityState()===i.ConnectivityState.IDLE&&(l("Start connecting to subchannel with address "+this.subchannels[e].getAddress()),process.nextTick((()=>{this.subchannels[e].startConnecting()}))),this.connectionDelayTimeout=setTimeout((()=>{this.startNextSubchannelConnecting()}),250)}pickSubchannel(e){l("Pick subchannel with address "+e.getAddress()),null!==this.currentPick&&(this.currentPick.unref(),this.currentPick.removeConnectivityStateListener(this.pickedSubchannelStateListener)),this.currentPick=e,e.addConnectivityStateListener(this.pickedSubchannelStateListener),e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef()),this.resetSubchannelList(),clearTimeout(this.connectionDelayTimeout),this.updateState(i.ConnectivityState.READY,new h(e))}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(e=!0){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.currentSubchannelIndex=0,this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[],e&&(this.triedAllSubchannels=!1)}connectToAddressList(){this.resetSubchannelList(),l("Connect to address list "+this.latestAddressList.map((e=>(0,o.subchannelAddressToString)(e)))),this.subchannels=this.latestAddressList.map((e=>this.channelControlHelper.createSubchannel(e,{})));for(const e of this.subchannels)e.ref(),this.channelControlHelper.addChannelzChild(e.getChannelzRef());for(const e of this.subchannels)if(e.addConnectivityStateListener(this.subchannelStateListener),this.subchannelStateCounts[e.getConnectivityState()]+=1,e.getConnectivityState()===i.ConnectivityState.READY)return this.pickSubchannel(e),void this.resetSubchannelList();for(const[e,t]of this.subchannels.entries()){const r=t.getConnectivityState();if(r===i.ConnectivityState.IDLE||r===i.ConnectivityState.CONNECTING)return this.startConnecting(e),void(null===this.currentPick&&this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)))}null===this.currentPick&&this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker)}updateAddressList(e,t){0!==this.subchannels.length&&this.latestAddressList.length===e.length&&this.latestAddressList.every(((t,r)=>e[r]&&(0,o.subchannelAddressEqual)(e[r],t)))||(this.latestAddressList=e,this.connectToAddressList())}exitIdle(){(this.currentState===i.ConnectivityState.IDLE||this.triedAllSubchannels)&&this.channelControlHelper.requestReresolution();for(const e of this.subchannels)e.startConnecting();this.currentState===i.ConnectivityState.IDLE&&this.latestAddressList.length>0&&this.connectToAddressList()}resetBackoff(){}destroy(){if(this.resetSubchannelList(),null!==this.currentPick){const e=this.currentPick;e.unref(),e.removeConnectivityStateListener(this.pickedSubchannelStateListener),this.channelControlHelper.removeChannelzChild(e.getChannelzRef())}}getTypeName(){return u}}t.PickFirstLoadBalancer=p,t.setup=function(){(0,n.registerLoadBalancerType)(u,p,d),(0,n.registerDefaultLoadBalancerType)(u)}},1563:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=t.RoundRobinLoadBalancer=void 0;const n=r(8923),i=r(463),s=r(178),o=r(8996),a=r(267),c=r(131);function l(e){a.trace(c.LogVerbosity.DEBUG,"round_robin",e)}const u="round_robin";class d{getLoadBalancerName(){return u}constructor(){}toJsonObject(){return{[u]:{}}}static createFromJson(e){return new d}}class h{constructor(e,t=0){this.subchannelList=e,this.nextIndex=t}pick(e){const t=this.subchannelList[this.nextIndex];return this.nextIndex=(this.nextIndex+1)%this.subchannelList.length,{pickResultType:s.PickResultType.COMPLETE,subchannel:t,status:null,onCallStarted:null,onCallEnded:null}}peekNextSubchannel(){return this.subchannelList[this.nextIndex]}}class p{constructor(e){this.channelControlHelper=e,this.subchannels=[],this.currentState=i.ConnectivityState.IDLE,this.currentReadyPicker=null,this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannelStateListener=(e,t,r)=>{this.subchannelStateCounts[t]-=1,this.subchannelStateCounts[r]+=1,this.calculateAndUpdateState(),r!==i.ConnectivityState.TRANSIENT_FAILURE&&r!==i.ConnectivityState.IDLE||(this.channelControlHelper.requestReresolution(),e.startConnecting())}}calculateAndUpdateState(){if(this.subchannelStateCounts[i.ConnectivityState.READY]>0){const e=this.subchannels.filter((e=>e.getConnectivityState()===i.ConnectivityState.READY));let t=0;null!==this.currentReadyPicker&&(t=e.indexOf(this.currentReadyPicker.peekNextSubchannel()),t<0&&(t=0)),this.updateState(i.ConnectivityState.READY,new h(e,t))}else this.subchannelStateCounts[i.ConnectivityState.CONNECTING]>0?this.updateState(i.ConnectivityState.CONNECTING,new s.QueuePicker(this)):this.subchannelStateCounts[i.ConnectivityState.TRANSIENT_FAILURE]>0?this.updateState(i.ConnectivityState.TRANSIENT_FAILURE,new s.UnavailablePicker):this.updateState(i.ConnectivityState.IDLE,new s.QueuePicker(this))}updateState(e,t){l(i.ConnectivityState[this.currentState]+" -> "+i.ConnectivityState[e]),e===i.ConnectivityState.READY?this.currentReadyPicker=t:this.currentReadyPicker=null,this.currentState=e,this.channelControlHelper.updateState(e,t)}resetSubchannelList(){for(const e of this.subchannels)e.removeConnectivityStateListener(this.subchannelStateListener),e.unref(),this.channelControlHelper.removeChannelzChild(e.getChannelzRef());this.subchannelStateCounts={[i.ConnectivityState.CONNECTING]:0,[i.ConnectivityState.IDLE]:0,[i.ConnectivityState.READY]:0,[i.ConnectivityState.SHUTDOWN]:0,[i.ConnectivityState.TRANSIENT_FAILURE]:0},this.subchannels=[]}updateAddressList(e,t){this.resetSubchannelList(),l("Connect to address list "+e.map((e=>(0,o.subchannelAddressToString)(e)))),this.subchannels=e.map((e=>this.channelControlHelper.createSubchannel(e,{})));for(const e of this.subchannels){e.ref(),e.addConnectivityStateListener(this.subchannelStateListener),this.channelControlHelper.addChannelzChild(e.getChannelzRef());const t=e.getConnectivityState();this.subchannelStateCounts[t]+=1,t!==i.ConnectivityState.IDLE&&t!==i.ConnectivityState.TRANSIENT_FAILURE||e.startConnecting()}this.calculateAndUpdateState()}exitIdle(){for(const e of this.subchannels)e.startConnecting()}resetBackoff(){}destroy(){this.resetSubchannelList()}getTypeName(){return u}}t.RoundRobinLoadBalancer=p,t.setup=function(){(0,n.registerLoadBalancerType)(u,p,d)}},8923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateLoadBalancingConfig=t.getFirstUsableConfig=t.isLoadBalancerNameRegistered=t.createLoadBalancer=t.registerDefaultLoadBalancerType=t.registerLoadBalancerType=t.createChildChannelControlHelper=void 0,t.createChildChannelControlHelper=function(e,t){var r,n,i,s,o,a,c,l,u,d;return{createSubchannel:null!==(n=null===(r=t.createSubchannel)||void 0===r?void 0:r.bind(t))&&void 0!==n?n:e.createSubchannel.bind(e),updateState:null!==(s=null===(i=t.updateState)||void 0===i?void 0:i.bind(t))&&void 0!==s?s:e.updateState.bind(e),requestReresolution:null!==(a=null===(o=t.requestReresolution)||void 0===o?void 0:o.bind(t))&&void 0!==a?a:e.requestReresolution.bind(e),addChannelzChild:null!==(l=null===(c=t.addChannelzChild)||void 0===c?void 0:c.bind(t))&&void 0!==l?l:e.addChannelzChild.bind(e),removeChannelzChild:null!==(d=null===(u=t.removeChannelzChild)||void 0===u?void 0:u.bind(t))&&void 0!==d?d:e.removeChannelzChild.bind(e)}};const r={};let n=null;t.registerLoadBalancerType=function(e,t,n){r[e]={LoadBalancer:t,LoadBalancingConfig:n}},t.registerDefaultLoadBalancerType=function(e){n=e},t.createLoadBalancer=function(e,t){const n=e.getLoadBalancerName();return n in r?new r[n].LoadBalancer(t):null},t.isLoadBalancerNameRegistered=function(e){return e in r},t.getFirstUsableConfig=function(e,t=!1){for(const t of e)if(t.getLoadBalancerName()in r)return t;return t&&n?new r[n].LoadBalancingConfig:null},t.validateLoadBalancingConfig=function(e){if(null===e||"object"!=typeof e)throw new Error("Load balancing config must be an object");const t=Object.keys(e);if(1!==t.length)throw new Error("Provided load balancing config has multiple conflicting entries");const n=t[0];if(n in r)return r[n].LoadBalancingConfig.createFromJson(e[n]);throw new Error(`Unrecognized load balancing config name ${n}`)}},2611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoadBalancingCall=void 0;const n=r(463),i=r(131),s=r(6308),o=r(4097),a=r(178),c=r(3822),l=r(267),u=r(6067),d=r(5675);t.LoadBalancingCall=class{constructor(e,t,r,n,i,s,o){var a,l;this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=o,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.metadata=null,this.listener=null,this.onCallEnded=null;const u=this.methodName.split("/");let d="";u.length>=2&&(d=u[1]);const h=null!==(l=null===(a=(0,c.splitHostPort)(this.host))||void 0===a?void 0:a.host)&&void 0!==l?l:"localhost";this.serviceUrl=`https://${h}/${d}`}trace(e){l.trace(i.LogVerbosity.DEBUG,"load_balancing_call","["+this.callNumber+"] "+e)}outputStatus(e,t){var r,n;if(!this.ended){this.ended=!0,this.trace("ended with status: code="+e.code+' details="'+e.details+'"');const i=Object.assign(Object.assign({},e),{progress:t});null===(r=this.listener)||void 0===r||r.onReceiveStatus(i),null===(n=this.onCallEnded)||void 0===n||n.call(this,i.code)}}doPick(){var e,t;if(this.ended)return;if(!this.metadata)throw new Error("doPick called before start");this.trace("Pick called");const r=this.channel.doPick(this.metadata,this.callConfig.pickInformation),c=r.subchannel?"("+r.subchannel.getChannelzRef().id+") "+r.subchannel.getAddress():""+r.subchannel;switch(this.trace("Pick result: "+a.PickResultType[r.pickResultType]+" subchannel: "+c+" status: "+(null===(e=r.status)||void 0===e?void 0:e.code)+" "+(null===(t=r.status)||void 0===t?void 0:t.details)),r.pickResultType){case a.PickResultType.COMPLETE:this.credentials.generateMetadata({service_url:this.serviceUrl}).then((e=>{var t,a,l;const u=this.metadata.clone();if(u.merge(e),u.get("authorization").length>1&&this.outputStatus({code:i.Status.INTERNAL,details:'"authorization" metadata cannot have multiple values',metadata:new o.Metadata},"PROCESSED"),r.subchannel.getConnectivityState()!==n.ConnectivityState.READY)return this.trace("Picked subchannel "+c+" has state "+n.ConnectivityState[r.subchannel.getConnectivityState()]+" after getting credentials metadata. Retrying pick"),void this.doPick();this.deadline!==1/0&&u.set("grpc-timeout",(0,s.getDeadlineTimeoutString)(this.deadline));try{this.child=r.subchannel.getRealSubchannel().createCall(u,this.host,this.methodName,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(e)},onReceiveMessage:e=>{this.trace("Received message"),this.listener.onReceiveMessage(e)},onReceiveStatus:e=>{this.trace("Received status"),e.rstCode===d.constants.NGHTTP2_REFUSED_STREAM?this.outputStatus(e,"REFUSED"):this.outputStatus(e,"PROCESSED")}})}catch(e){return this.trace("Failed to start call on picked subchannel "+c+" with error "+e.message),void this.outputStatus({code:i.Status.INTERNAL,details:"Failed to start HTTP/2 stream with error "+e.message,metadata:new o.Metadata},"NOT_STARTED")}null===(a=(t=this.callConfig).onCommitted)||void 0===a||a.call(t),null===(l=r.onCallStarted)||void 0===l||l.call(r),this.onCallEnded=r.onCallEnded,this.trace("Created child call ["+this.child.getCallNumber()+"]"),this.readPending&&this.child.startRead(),this.pendingMessage&&this.child.sendMessageWithContext(this.pendingMessage.context,this.pendingMessage.message),this.pendingHalfClose&&this.child.halfClose()}),(e=>{const{code:t,details:r}=(0,u.restrictControlPlaneStatusCode)("number"==typeof e.code?e.code:i.Status.UNKNOWN,`Getting metadata from plugin failed with error: ${e.message}`);this.outputStatus({code:t,details:r,metadata:new o.Metadata},"PROCESSED")}));break;case a.PickResultType.DROP:const{code:e,details:t}=(0,u.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate((()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"DROP")}));break;case a.PickResultType.TRANSIENT_FAILURE:if(this.metadata.getOptions().waitForReady)this.channel.queueCallForPick(this);else{const{code:e,details:t}=(0,u.restrictControlPlaneStatusCode)(r.status.code,r.status.details);setImmediate((()=>{this.outputStatus({code:e,details:t,metadata:r.status.metadata},"PROCESSED")}))}break;case a.PickResultType.QUEUE:this.channel.queueCallForPick(this)}}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new o.Metadata},"PROCESSED")}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.listener=t,this.metadata=e,this.doPick()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.child.sendMessageWithContext(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){throw new Error("Method not implemented.")}getCallNumber(){return this.callNumber}}},267:(e,t,r)=>{"use strict";var n,i,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.isTracerEnabled=t.trace=t.log=t.setLoggerVerbosity=t.setLogger=t.getLogger=void 0;const a=r(131);let c={error:(e,...t)=>{console.error("E "+e,...t)},info:(e,...t)=>{console.error("I "+e,...t)},debug:(e,...t)=>{console.error("D "+e,...t)}},l=a.LogVerbosity.ERROR;switch((null!==(i=null!==(n=process.env.GRPC_NODE_VERBOSITY)&&void 0!==n?n:process.env.GRPC_VERBOSITY)&&void 0!==i?i:"").toUpperCase()){case"DEBUG":l=a.LogVerbosity.DEBUG;break;case"INFO":l=a.LogVerbosity.INFO;break;case"ERROR":l=a.LogVerbosity.ERROR;break;case"NONE":l=a.LogVerbosity.NONE}t.getLogger=()=>c,t.setLogger=e=>{c=e},t.setLoggerVerbosity=e=>{l=e},t.log=(e,...t)=>{let r;if(e>=l){switch(e){case a.LogVerbosity.DEBUG:r=c.debug;break;case a.LogVerbosity.INFO:r=c.info;break;case a.LogVerbosity.ERROR:r=c.error}r||(r=c.error),r&&r.bind(c)(...t)}};const u=null!==(o=null!==(s=process.env.GRPC_NODE_TRACE)&&void 0!==s?s:process.env.GRPC_TRACE)&&void 0!==o?o:"",d=new Set,h=new Set;for(const e of u.split(","))e.startsWith("-")?h.add(e.substring(1)):d.add(e);const p=d.has("all");function f(e){return!h.has(e)&&(p||d.has(e))}t.trace=function(e,r,n){f(r)&&(0,t.log)(e,(new Date).toISOString()+" | "+r+" | "+n)},t.isTracerEnabled=f},4056:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadPackageDefinition=t.makeClientConstructor=void 0;const n=r(5563),i={unary:n.Client.prototype.makeUnaryRequest,server_stream:n.Client.prototype.makeServerStreamRequest,client_stream:n.Client.prototype.makeClientStreamRequest,bidi:n.Client.prototype.makeBidiStreamRequest};function s(e){return["__proto__","prototype","constructor"].includes(e)}function o(e,t,r){r||(r={});class o extends n.Client{}return Object.keys(e).forEach((t=>{if(s(t))return;const r=e[t];let n;if("string"==typeof t&&"$"===t.charAt(0))throw new Error("Method names cannot start with $");n=r.requestStream?r.responseStream?"bidi":"client_stream":r.responseStream?"server_stream":"unary";const a=r.requestSerialize,c=r.responseDeserialize,l=function(e,t,r,n){return function(...i){return e.call(this,t,r,n,...i)}}(i[n],r.path,a,c);o.prototype[t]=l,Object.assign(o.prototype[t],r),r.originalName&&!s(r.originalName)&&(o.prototype[r.originalName]=o.prototype[t])})),o.service=e,o.serviceName=t,o}t.makeClientConstructor=o,t.loadPackageDefinition=function(e){const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n],a=n.split(".");if(a.some((e=>s(e))))continue;const c=a[a.length-1];let l=t;for(const e of a.slice(0,-1))l[e]||(l[e]={}),l=l[e];r=i,l[c]="format"in r?i:o(i,c,{})}var r;return t}},4097:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;const n=r(267),i=r(131),s=r(9752),o=/^[0-9a-z_.-]+$/,a=/^[ -~]*$/;function c(e){return e.endsWith("-bin")}function l(e){return!e.startsWith("grpc-")}function u(e){return e.toLowerCase()}function d(e,t){if(!function(e){return o.test(e)}(e))throw new Error('Metadata key "'+e+'" contains illegal characters');if(null!=t)if(c(e)){if(!Buffer.isBuffer(t))throw new Error("keys that end with '-bin' must have Buffer values")}else{if(Buffer.isBuffer(t))throw new Error("keys that don't end with '-bin' must have String values");if(!function(e){return a.test(e)}(t))throw new Error('Metadata string value "'+t+'" contains illegal characters')}}class h{constructor(e={}){this.internalRepr=new Map,this.options=e}set(e,t){d(e=u(e),t),this.internalRepr.set(e,[t])}add(e,t){d(e=u(e),t);const r=this.internalRepr.get(e);void 0===r?this.internalRepr.set(e,[t]):r.push(t)}remove(e){e=u(e),this.internalRepr.delete(e)}get(e){return e=u(e),this.internalRepr.get(e)||[]}getMap(){const e={};for(const[t,r]of this.internalRepr)if(r.length>0){const n=r[0];e[t]=Buffer.isBuffer(n)?Buffer.from(n):n}return e}clone(){const e=new h(this.options),t=e.internalRepr;for(const[e,r]of this.internalRepr){const n=r.map((e=>Buffer.isBuffer(e)?Buffer.from(e):e));t.set(e,n)}return e}merge(e){for(const[t,r]of e.internalRepr){const e=(this.internalRepr.get(t)||[]).concat(r);this.internalRepr.set(t,e)}}setOptions(e){this.options=e}getOptions(){return this.options}toHttp2Headers(){const e={};for(const[t,r]of this.internalRepr)e[t]=r.map(p);return e}toJSON(){const e={};for(const[t,r]of this.internalRepr)e[t]=r;return e}static fromHttp2Headers(e){const t=new h;for(const r of Object.keys(e)){if(":"===r.charAt(0))continue;const o=e[r];try{c(r)?Array.isArray(o)?o.forEach((e=>{t.add(r,Buffer.from(e,"base64"))})):void 0!==o&&(l(r)?o.split(",").forEach((e=>{t.add(r,Buffer.from(e.trim(),"base64"))})):t.add(r,Buffer.from(o,"base64"))):Array.isArray(o)?o.forEach((e=>{t.add(r,e)})):void 0!==o&&t.add(r,o)}catch(e){const t=`Failed to add metadata entry ${r}: ${o}. ${(0,s.getErrorMessage)(e)}. For more information see https://github.com/grpc/grpc-node/issues/1173`;(0,n.log)(i.LogVerbosity.ERROR,t)}}return t}}t.Metadata=h;const p=e=>Buffer.isBuffer(e)?e.toString("base64"):e},178:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueuePicker=t.UnavailablePicker=t.PickResultType=void 0;const n=r(4097),i=r(131);var s;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.QUEUE=1]="QUEUE",e[e.TRANSIENT_FAILURE=2]="TRANSIENT_FAILURE",e[e.DROP=3]="DROP"}(s=t.PickResultType||(t.PickResultType={})),t.UnavailablePicker=class{constructor(e){this.status=void 0!==e?e:{code:i.Status.UNAVAILABLE,details:"No connection established",metadata:new n.Metadata}}pick(e){return{pickResultType:s.TRANSIENT_FAILURE,subchannel:null,status:this.status,onCallStarted:null,onCallEnded:null}}},t.QueuePicker=class{constructor(e){this.loadBalancer=e,this.calledExitIdle=!1}pick(e){return this.calledExitIdle||(process.nextTick((()=>{this.loadBalancer.exitIdle()})),this.calledExitIdle=!0),{pickResultType:s.QUEUE,subchannel:null,status:null,onCallStarted:null,onCallEnded:null}}}},6700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(9302),i=r(2250),s=r(9023),o=r(5656),a=r(131),c=r(4097),l=r(267),u=r(131),d=r(3822),h=r(9278),p=r(3956);function f(e){l.trace(u.LogVerbosity.DEBUG,"dns_resolver",e)}const g=s.promisify(i.resolveTxt),m=s.promisify(i.lookup);class y{constructor(e,t,r){var n,i,s;this.target=e,this.listener=t,this.pendingLookupPromise=null,this.pendingTxtPromise=null,this.latestLookupResult=null,this.latestServiceConfig=null,this.latestServiceConfigError=null,this.continueResolving=!1,this.isNextResolutionTimerRunning=!1,this.isServiceConfigEnabled=!0,f("Resolver constructed for target "+(0,d.uriToString)(e));const o=(0,d.splitHostPort)(e.path);null===o?(this.ipResult=null,this.dnsHostname=null,this.port=null):(0,h.isIPv4)(o.host)||(0,h.isIPv6)(o.host)?(this.ipResult=[{host:o.host,port:null!==(n=o.port)&&void 0!==n?n:443}],this.dnsHostname=null,this.port=null):(this.ipResult=null,this.dnsHostname=o.host,this.port=null!==(i=o.port)&&void 0!==i?i:443),this.percentage=100*Math.random(),1===r["grpc.service_config_disable_resolution"]&&(this.isServiceConfigEnabled=!1),this.defaultResolutionError={code:a.Status.UNAVAILABLE,details:`Name resolution failed for target ${(0,d.uriToString)(this.target)}`,metadata:new c.Metadata};const l={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoff=new p.BackoffTimeout((()=>{this.continueResolving&&this.startResolutionWithBackoff()}),l),this.backoff.unref(),this.minTimeBetweenResolutionsMs=null!==(s=r["grpc.dns_min_time_between_resolutions_ms"])&&void 0!==s?s:3e4,this.nextResolutionTimer=setTimeout((()=>{}),0),clearTimeout(this.nextResolutionTimer)}startResolution(){if(null!==this.ipResult)return f("Returning IP address for target "+(0,d.uriToString)(this.target)),setImmediate((()=>{this.listener.onSuccessfulResolution(this.ipResult,null,null,null,{})})),this.backoff.stop(),void this.backoff.reset();if(null===this.dnsHostname)f("Failed to parse DNS address "+(0,d.uriToString)(this.target)),setImmediate((()=>{this.listener.onError({code:a.Status.UNAVAILABLE,details:`Failed to parse DNS address ${(0,d.uriToString)(this.target)}`,metadata:new c.Metadata})})),this.stopNextResolutionTimer();else{if(null!==this.pendingLookupPromise)return;f("Looking up DNS hostname "+this.dnsHostname),this.latestLookupResult=null;const e=this.dnsHostname;this.pendingLookupPromise=m(e,{all:!0}),this.pendingLookupPromise.then((e=>{this.pendingLookupPromise=null,this.backoff.reset(),this.backoff.stop();const t=e.filter((e=>4===e.family)),r=e.filter((e=>6===e.family));this.latestLookupResult=function(...e){const t=[];for(let r=0;r<Math.max.apply(null,e.map((e=>e.length)));r++)for(const n of e)r<n.length&&t.push(n[r]);return t}(r,t).map((e=>({host:e.address,port:+this.port})));const n="["+this.latestLookupResult.map((e=>e.host+":"+e.port)).join(",")+"]";f("Resolved addresses for target "+(0,d.uriToString)(this.target)+": "+n),0!==this.latestLookupResult.length?this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{}):this.listener.onError(this.defaultResolutionError)}),(e=>{f("Resolution error for target "+(0,d.uriToString)(this.target)+": "+e.message),this.pendingLookupPromise=null,this.stopNextResolutionTimer(),this.listener.onError(this.defaultResolutionError)})),this.isServiceConfigEnabled&&null===this.pendingTxtPromise&&(this.pendingTxtPromise=g(e),this.pendingTxtPromise.then((e=>{this.pendingTxtPromise=null;try{this.latestServiceConfig=(0,o.extractAndSelectServiceConfig)(e,this.percentage)}catch(e){this.latestServiceConfigError={code:a.Status.UNAVAILABLE,details:`Parsing service config failed with error ${e.message}`,metadata:new c.Metadata}}null!==this.latestLookupResult&&this.listener.onSuccessfulResolution(this.latestLookupResult,this.latestServiceConfig,this.latestServiceConfigError,null,{})}),(e=>{})))}}startNextResolutionTimer(){var e,t;clearTimeout(this.nextResolutionTimer),this.nextResolutionTimer=null===(t=(e=setTimeout((()=>{this.stopNextResolutionTimer(),this.continueResolving&&this.startResolutionWithBackoff()}),this.minTimeBetweenResolutionsMs)).unref)||void 0===t?void 0:t.call(e),this.isNextResolutionTimerRunning=!0}stopNextResolutionTimer(){clearTimeout(this.nextResolutionTimer),this.isNextResolutionTimerRunning=!1}startResolutionWithBackoff(){null===this.pendingLookupPromise&&(this.continueResolving=!1,this.startResolution(),this.backoff.runOnce(),this.startNextResolutionTimer())}updateResolution(){null===this.pendingLookupPromise&&(this.isNextResolutionTimerRunning||this.backoff.isRunning()?this.continueResolving=!0:this.startResolutionWithBackoff())}destroy(){this.continueResolving=!1,this.backoff.stop(),this.stopNextResolutionTimer()}static getDefaultAuthority(e){return e.path}}t.setup=function(){(0,n.registerResolver)("dns",y),(0,n.registerDefaultScheme)("dns")}},82:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(9278),i=r(131),s=r(4097),o=r(9302),a=r(3822),c=r(267);function l(e){c.trace(i.LogVerbosity.DEBUG,"ip_resolver",e)}const u="ipv4",d="ipv6";class h{constructor(e,t,r){var o;this.listener=t,this.addresses=[],this.error=null,l("Resolver constructed for target "+(0,a.uriToString)(e));const c=[];if(e.scheme!==u&&e.scheme!==d)return void(this.error={code:i.Status.UNAVAILABLE,details:`Unrecognized scheme ${e.scheme} in IP resolver`,metadata:new s.Metadata});const h=e.path.split(",");for(const t of h){const r=(0,a.splitHostPort)(t);if(null===r)return void(this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata});if(e.scheme===u&&!(0,n.isIPv4)(r.host)||e.scheme===d&&!(0,n.isIPv6)(r.host))return void(this.error={code:i.Status.UNAVAILABLE,details:`Failed to parse ${e.scheme} address ${t}`,metadata:new s.Metadata});c.push({host:r.host,port:null!==(o=r.port)&&void 0!==o?o:443})}this.addresses=c,l("Parsed "+e.scheme+" address list "+this.addresses)}updateResolution(){process.nextTick((()=>{this.error?this.listener.onError(this.error):this.listener.onSuccessfulResolution(this.addresses,null,null,null,{})}))}destroy(){}static getDefaultAuthority(e){return e.path.split(",")[0]}}t.setup=function(){(0,o.registerResolver)(u,h),(0,o.registerResolver)(d,h)}},305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;const n=r(9302);class i{constructor(e,t,r){let n;this.listener=t,this.addresses=[],n=""===e.authority?"/"+e.path:e.path,this.addresses=[{path:n}]}updateResolution(){process.nextTick(this.listener.onSuccessfulResolution,this.addresses,null,null,null,{})}destroy(){}static getDefaultAuthority(e){return"localhost"}}t.setup=function(){(0,n.registerResolver)("unix",i)}},9302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapUriDefaultScheme=t.getDefaultAuthority=t.createResolver=t.registerDefaultScheme=t.registerResolver=void 0;const n=r(3822),i={};let s=null;t.registerResolver=function(e,t){i[e]=t},t.registerDefaultScheme=function(e){s=e},t.createResolver=function(e,t,r){if(void 0!==e.scheme&&e.scheme in i)return new i[e.scheme](e,t,r);throw new Error(`No resolver could be created for target ${(0,n.uriToString)(e)}`)},t.getDefaultAuthority=function(e){if(void 0!==e.scheme&&e.scheme in i)return i[e.scheme].getDefaultAuthority(e);throw new Error(`Invalid target ${(0,n.uriToString)(e)}`)},t.mapUriDefaultScheme=function(e){return void 0!==e.scheme&&e.scheme in i?e:null!==s?{scheme:s,authority:void 0,path:(0,n.uriToString)(e)}:null}},8446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingCall=void 0;const n=r(131),i=r(6308),s=r(4097),o=r(267),a=r(6067);t.ResolvingCall=class{constructor(e,t,r,s,o,a){this.channel=e,this.method=t,this.filterStackFactory=s,this.credentials=o,this.callNumber=a,this.child=null,this.readPending=!1,this.pendingMessage=null,this.pendingHalfClose=!1,this.ended=!1,this.readFilterPending=!1,this.writeFilterPending=!1,this.pendingChildStatus=null,this.metadata=null,this.listener=null,this.statusWatchers=[],this.deadlineTimer=setTimeout((()=>{}),0),this.filterStack=null,this.deadline=r.deadline,this.host=r.host,r.parentCall&&(r.flags&n.Propagate.CANCELLATION&&r.parentCall.on("cancelled",(()=>{this.cancelWithStatus(n.Status.CANCELLED,"Cancelled by parent call")})),r.flags&n.Propagate.DEADLINE&&(this.trace("Propagating deadline from parent: "+r.parentCall.getDeadline()),this.deadline=(0,i.minDeadline)(this.deadline,r.parentCall.getDeadline()))),this.trace("Created"),this.runDeadlineTimer()}trace(e){o.trace(n.LogVerbosity.DEBUG,"resolving_call","["+this.callNumber+"] "+e)}runDeadlineTimer(){clearTimeout(this.deadlineTimer),this.trace("Deadline: "+(0,i.deadlineToString)(this.deadline));const e=(0,i.getRelativeTimeout)(this.deadline);if(e!==1/0){this.trace("Deadline will be reached in "+e+"ms");const t=()=>{this.cancelWithStatus(n.Status.DEADLINE_EXCEEDED,"Deadline exceeded")};e<=0?process.nextTick(t):this.deadlineTimer=setTimeout(t,e)}}outputStatus(e){if(!this.ended){this.ended=!0,this.filterStack||(this.filterStack=this.filterStackFactory.createFilter()),clearTimeout(this.deadlineTimer);const t=this.filterStack.receiveTrailers(e);this.trace("ended with status: code="+t.code+' details="'+t.details+'"'),this.statusWatchers.forEach((e=>e(t))),process.nextTick((()=>{var e;null===(e=this.listener)||void 0===e||e.onReceiveStatus(t)}))}}sendMessageOnChild(e,t){if(!this.child)throw new Error("sendMessageonChild called with child not populated");const r=this.child;this.writeFilterPending=!0,this.filterStack.sendMessage(Promise.resolve({message:t,flags:e.flags})).then((t=>{this.writeFilterPending=!1,r.sendMessageWithContext(e,t.message),this.pendingHalfClose&&r.halfClose()}),(e=>{this.cancelWithStatus(e.code,e.details)}))}getConfig(){if(this.ended)return;if(!this.metadata||!this.listener)throw new Error("getConfig called before start");const e=this.channel.getConfig(this.method,this.metadata);if("NONE"===e.type)return void this.channel.queueCallForConfig(this);if("ERROR"===e.type)return void(this.metadata.getOptions().waitForReady?this.channel.queueCallForConfig(this):this.outputStatus(e.error));const t=e.config;if(t.status===n.Status.OK){if(t.methodConfig.timeout){const e=new Date;e.setSeconds(e.getSeconds()+t.methodConfig.timeout.seconds),e.setMilliseconds(e.getMilliseconds()+t.methodConfig.timeout.nanos/1e6),this.deadline=(0,i.minDeadline)(this.deadline,e),this.runDeadlineTimer()}this.filterStackFactory.push(t.dynamicFilterFactories),this.filterStack=this.filterStackFactory.createFilter(),this.filterStack.sendMetadata(Promise.resolve(this.metadata)).then((e=>{this.child=this.channel.createInnerCall(t,this.method,this.host,this.credentials,this.deadline),this.trace("Created child ["+this.child.getCallNumber()+"]"),this.child.start(e,{onReceiveMetadata:e=>{this.trace("Received metadata"),this.listener.onReceiveMetadata(this.filterStack.receiveMetadata(e))},onReceiveMessage:e=>{this.trace("Received message"),this.readFilterPending=!0,this.filterStack.receiveMessage(e).then((e=>{this.trace("Finished filtering received message"),this.readFilterPending=!1,this.listener.onReceiveMessage(e),this.pendingChildStatus&&this.outputStatus(this.pendingChildStatus)}),(e=>{this.cancelWithStatus(e.code,e.details)}))},onReceiveStatus:e=>{this.trace("Received status"),this.readFilterPending?this.pendingChildStatus=e:this.outputStatus(e)}}),this.readPending&&this.child.startRead(),this.pendingMessage?this.sendMessageOnChild(this.pendingMessage.context,this.pendingMessage.message):this.pendingHalfClose&&this.child.halfClose()}),(e=>{this.outputStatus(e)}))}else{const{code:e,details:r}=(0,a.restrictControlPlaneStatusCode)(t.status,"Failed to route call to method "+this.method);this.outputStatus({code:e,details:r,metadata:new s.Metadata})}}reportResolverError(e){var t;(null===(t=this.metadata)||void 0===t?void 0:t.getOptions().waitForReady)?this.channel.queueCallForConfig(this):this.outputStatus(e)}cancelWithStatus(e,t){var r;this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),null===(r=this.child)||void 0===r||r.cancelWithStatus(e,t),this.outputStatus({code:e,details:t,metadata:new s.Metadata})}getPeer(){var e,t;return null!==(t=null===(e=this.child)||void 0===e?void 0:e.getPeer())&&void 0!==t?t:this.channel.getTarget()}start(e,t){this.trace("start called"),this.metadata=e.clone(),this.listener=t,this.getConfig()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length),this.child?this.sendMessageOnChild(e,t):this.pendingMessage={context:e,message:t}}startRead(){this.trace("startRead called"),this.child?this.child.startRead():this.readPending=!0}halfClose(){this.trace("halfClose called"),this.child&&!this.writeFilterPending?this.child.halfClose():this.pendingHalfClose=!0}setCredentials(e){this.credentials=this.credentials.compose(e)}addStatusWatcher(e){this.statusWatchers.push(e)}getCallNumber(){return this.callNumber}}},4973:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResolvingLoadBalancer=void 0;const n=r(8923),i=r(5656),s=r(463),o=r(9302),a=r(178),c=r(3956),l=r(131),u=r(4097),d=r(267),h=r(131),p=r(3822),f=r(533);t.ResolvingLoadBalancer=class{constructor(e,t,r,d,h){this.target=e,this.channelControlHelper=t,this.onSuccessfulResolution=d,this.onFailedResolution=h,this.latestChildState=s.ConnectivityState.IDLE,this.latestChildPicker=new a.QueuePicker(this),this.currentState=s.ConnectivityState.IDLE,this.previousServiceConfig=null,this.continueResolving=!1,r["grpc.service_config"]?this.defaultServiceConfig=(0,i.validateServiceConfig)(JSON.parse(r["grpc.service_config"])):this.defaultServiceConfig={loadBalancingConfig:[],methodConfig:[]},this.updateState(s.ConnectivityState.IDLE,new a.QueuePicker(this)),this.childLoadBalancer=new f.ChildLoadBalancerHandler({createSubchannel:t.createSubchannel.bind(t),requestReresolution:()=>{this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()},updateState:(e,t)=>{this.latestChildState=e,this.latestChildPicker=t,this.updateState(e,t)},addChannelzChild:t.addChannelzChild.bind(t),removeChannelzChild:t.removeChannelzChild.bind(t)}),this.innerResolver=(0,o.createResolver)(e,{onSuccessfulResolution:(e,t,r,i,s)=>{var o;let a=null;null===t?null===r?(this.previousServiceConfig=null,a=this.defaultServiceConfig):null===this.previousServiceConfig?this.handleResolutionFailure(r):a=this.previousServiceConfig:(a=t,this.previousServiceConfig=t);const c=null!==(o=null==a?void 0:a.loadBalancingConfig)&&void 0!==o?o:[],d=(0,n.getFirstUsableConfig)(c,!0);if(null===d)return void this.handleResolutionFailure({code:l.Status.UNAVAILABLE,details:"All load balancer options in service config are not compatible",metadata:new u.Metadata});this.childLoadBalancer.updateAddressList(e,d,s);const h=null!=a?a:this.defaultServiceConfig;this.onSuccessfulResolution(h,null!=i?i:function(e){return function(t,r){var n,i;const s=t.split("/").filter((e=>e.length>0)),o=null!==(n=s[0])&&void 0!==n?n:"",a=null!==(i=s[1])&&void 0!==i?i:"";if(e&&e.methodConfig)for(const t of e.methodConfig)for(const e of t.name)if(e.service===o&&(void 0===e.method||e.method===a))return{methodConfig:t,pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]};return{methodConfig:{name:[]},pickInformation:{},status:l.Status.OK,dynamicFilterFactories:[]}}}(h))},onError:e=>{this.handleResolutionFailure(e)}},r);const p={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new c.BackoffTimeout((()=>{this.continueResolving?(this.updateResolution(),this.continueResolving=!1):this.updateState(this.latestChildState,this.latestChildPicker)}),p),this.backoffTimeout.unref()}updateResolution(){this.innerResolver.updateResolution(),this.currentState===s.ConnectivityState.IDLE&&this.updateState(s.ConnectivityState.CONNECTING,new a.QueuePicker(this)),this.backoffTimeout.runOnce()}updateState(e,t){var r;r=(0,p.uriToString)(this.target)+" "+s.ConnectivityState[this.currentState]+" -> "+s.ConnectivityState[e],d.trace(h.LogVerbosity.DEBUG,"resolving_load_balancer",r),e===s.ConnectivityState.IDLE&&(t=new a.QueuePicker(this)),this.currentState=e,this.channelControlHelper.updateState(e,t)}handleResolutionFailure(e){this.latestChildState===s.ConnectivityState.IDLE&&(this.updateState(s.ConnectivityState.TRANSIENT_FAILURE,new a.UnavailablePicker(e)),this.onFailedResolution(e))}exitIdle(){this.currentState!==s.ConnectivityState.IDLE&&this.currentState!==s.ConnectivityState.TRANSIENT_FAILURE||(this.backoffTimeout.isRunning()?this.continueResolving=!0:this.updateResolution()),this.childLoadBalancer.exitIdle()}updateAddressList(e,t){throw new Error("updateAddressList not supported on ResolvingLoadBalancer")}resetBackoff(){this.backoffTimeout.reset(),this.childLoadBalancer.resetBackoff()}destroy(){this.childLoadBalancer.destroy(),this.innerResolver.destroy(),this.updateState(s.ConnectivityState.SHUTDOWN,new a.UnavailablePicker)}getTypeName(){return"resolving_load_balancer"}}},3135:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetryingCall=t.MessageBufferTracker=t.RetryThrottler=void 0;const n=r(131),i=r(4097),s=r(267);t.RetryThrottler=class{constructor(e,t,r){this.maxTokens=e,this.tokenRatio=t,this.tokens=r?r.tokens*(e/r.maxTokens):e}addCallSucceeded(){this.tokens=Math.max(this.tokens+this.tokenRatio,this.maxTokens)}addCallFailed(){this.tokens=Math.min(this.tokens-1,0)}canRetryCall(){return this.tokens>this.maxTokens/2}},t.MessageBufferTracker=class{constructor(e,t){this.totalLimit=e,this.limitPerCall=t,this.totalAllocated=0,this.allocatedPerCall=new Map}allocate(e,t){var r;const n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;return!(this.limitPerCall-n<e||this.totalLimit-this.totalAllocated<e||(this.allocatedPerCall.set(t,n+e),this.totalAllocated+=e,0))}free(e,t){var r;if(this.totalAllocated<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > total allocated ${this.totalAllocated}`);this.totalAllocated-=e;const n=null!==(r=this.allocatedPerCall.get(t))&&void 0!==r?r:0;if(n<e)throw new Error(`Invalid buffer allocation state: call ${t} freed ${e} > allocated for call ${n}`);this.allocatedPerCall.set(t,n-e)}freeAll(e){var t;const r=null!==(t=this.allocatedPerCall.get(e))&&void 0!==t?t:0;if(this.totalAllocated<r)throw new Error(`Invalid buffer allocation state: call ${e} allocated ${r} > total allocated ${this.totalAllocated}`);this.totalAllocated-=r,this.allocatedPerCall.delete(e)}};const o="grpc-previous-rpc-attempts";t.RetryingCall=class{constructor(e,t,r,n,i,s,o,a,c){if(this.channel=e,this.callConfig=t,this.methodName=r,this.host=n,this.credentials=i,this.deadline=s,this.callNumber=o,this.bufferTracker=a,this.retryThrottler=c,this.listener=null,this.initialMetadata=null,this.underlyingCalls=[],this.writeBuffer=[],this.writeBufferOffset=0,this.readStarted=!1,this.transparentRetryUsed=!1,this.attempts=0,this.hedgingTimer=null,this.committedCallIndex=null,this.initialRetryBackoffSec=0,this.nextRetryBackoffSec=0,t.methodConfig.retryPolicy){this.state="RETRY";const e=t.methodConfig.retryPolicy;this.nextRetryBackoffSec=this.initialRetryBackoffSec=Number(e.initialBackoff.substring(0,e.initialBackoff.length-1))}else t.methodConfig.hedgingPolicy?this.state="HEDGING":this.state="TRANSPARENT_ONLY"}getCallNumber(){return this.callNumber}trace(e){s.trace(n.LogVerbosity.DEBUG,"retrying_call","["+this.callNumber+"] "+e)}reportStatus(e){this.trace("ended with status: code="+e.code+' details="'+e.details+'"'),this.bufferTracker.freeAll(this.callNumber),this.writeBufferOffset=this.writeBufferOffset+this.writeBuffer.length,this.writeBuffer=[],process.nextTick((()=>{var t;null===(t=this.listener)||void 0===t||t.onReceiveStatus({code:e.code,details:e.details,metadata:e.metadata})}))}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.reportStatus({code:e,details:t,metadata:new i.Metadata});for(const{call:r}of this.underlyingCalls)r.cancelWithStatus(e,t)}getPeer(){return null!==this.committedCallIndex?this.underlyingCalls[this.committedCallIndex].call.getPeer():"unknown"}getBufferEntry(e){var t;return null!==(t=this.writeBuffer[e-this.writeBufferOffset])&&void 0!==t?t:{entryType:"FREED",allocated:!1}}getNextBufferIndex(){return this.writeBufferOffset+this.writeBuffer.length}clearSentMessages(){if("COMMITTED"!==this.state)return;const e=this.underlyingCalls[this.committedCallIndex].nextMessageToSend;for(let t=this.writeBufferOffset;t<e;t++){const e=this.getBufferEntry(t);e.allocated&&this.bufferTracker.free(e.message.message.length,this.callNumber)}this.writeBuffer=this.writeBuffer.slice(e-this.writeBufferOffset),this.writeBufferOffset=e}commitCall(e){if("COMMITTED"!==this.state&&"COMPLETED"!==this.underlyingCalls[e].state){this.trace("Committing call ["+this.underlyingCalls[e].call.getCallNumber()+"] at index "+e),this.state="COMMITTED",this.committedCallIndex=e;for(let t=0;t<this.underlyingCalls.length;t++)t!==e&&"COMPLETED"!==this.underlyingCalls[t].state&&(this.underlyingCalls[t].state="COMPLETED",this.underlyingCalls[t].call.cancelWithStatus(n.Status.CANCELLED,"Discarded in favor of other hedged attempt"));this.clearSentMessages()}}commitCallWithMostMessages(){if("COMMITTED"===this.state)return;let e=-1,t=-1;for(const[r,n]of this.underlyingCalls.entries())"ACTIVE"===n.state&&n.nextMessageToSend>e&&(e=n.nextMessageToSend,t=r);-1===t?this.state="TRANSPARENT_ONLY":this.commitCall(t)}isStatusCodeInList(e,t){return e.some((e=>e===t||e.toString().toLowerCase()===n.Status[t].toLowerCase()))}getNextRetryBackoffMs(){var e;const t=null===(e=this.callConfig)||void 0===e?void 0:e.methodConfig.retryPolicy;if(!t)return 0;const r=Math.random()*this.nextRetryBackoffSec*1e3,n=Number(t.maxBackoff.substring(0,t.maxBackoff.length-1));return this.nextRetryBackoffSec=Math.min(this.nextRetryBackoffSec*t.backoffMultiplier,n),r}maybeRetryCall(e,t){if("RETRY"!==this.state)return void t(!1);const r=this.callConfig.methodConfig.retryPolicy;if(this.attempts>=Math.min(r.maxAttempts,5))return void t(!1);let n;if(null===e)n=this.getNextRetryBackoffMs();else{if(e<0)return this.state="TRANSPARENT_ONLY",void t(!1);n=e,this.nextRetryBackoffSec=this.initialRetryBackoffSec}setTimeout((()=>{var e,r;"RETRY"===this.state?(null===(r=null===(e=this.retryThrottler)||void 0===e?void 0:e.canRetryCall())||void 0===r||r)&&(t(!0),this.attempts+=1,this.startNewAttempt()):t(!1)}),n)}countActiveCalls(){let e=0;for(const t of this.underlyingCalls)"ACTIVE"===(null==t?void 0:t.state)&&(e+=1);return e}handleProcessedStatus(e,t,r){var n,i,s;switch(this.state){case"COMMITTED":case"TRANSPARENT_ONLY":this.commitCall(t),this.reportStatus(e);break;case"HEDGING":if(this.isStatusCodeInList(null!==(n=this.callConfig.methodConfig.hedgingPolicy.nonFatalStatusCodes)&&void 0!==n?n:[],e.code)){let n;if(null===(i=this.retryThrottler)||void 0===i||i.addCallFailed(),null===r)n=0;else{if(r<0)return this.state="TRANSPARENT_ONLY",this.commitCall(t),void this.reportStatus(e);n=r}setTimeout((()=>{this.maybeStartHedgingAttempt(),0===this.countActiveCalls()&&(this.commitCall(t),this.reportStatus(e))}),n)}else this.commitCall(t),this.reportStatus(e);break;case"RETRY":this.isStatusCodeInList(this.callConfig.methodConfig.retryPolicy.retryableStatusCodes,e.code)?(null===(s=this.retryThrottler)||void 0===s||s.addCallFailed(),this.maybeRetryCall(r,(r=>{r||(this.commitCall(t),this.reportStatus(e))}))):(this.commitCall(t),this.reportStatus(e))}}getPushback(e){const t=e.get("grpc-retry-pushback-ms");if(0===t.length)return null;try{return parseInt(t[0])}catch(e){return-1}}handleChildStatus(e,t){var r;if("COMPLETED"===this.underlyingCalls[t].state)return;if(this.trace("state="+this.state+" handling status with progress "+e.progress+" from child ["+this.underlyingCalls[t].call.getCallNumber()+"] in state "+this.underlyingCalls[t].state),this.underlyingCalls[t].state="COMPLETED",e.code===n.Status.OK)return null===(r=this.retryThrottler)||void 0===r||r.addCallSucceeded(),this.commitCall(t),void this.reportStatus(e);if("COMMITTED"===this.state)return void this.reportStatus(e);const i=this.getPushback(e.metadata);switch(e.progress){case"NOT_STARTED":this.startNewAttempt();break;case"REFUSED":this.transparentRetryUsed?this.handleProcessedStatus(e,t,i):(this.transparentRetryUsed=!0,this.startNewAttempt());break;case"DROP":this.commitCall(t),this.reportStatus(e);break;case"PROCESSED":this.handleProcessedStatus(e,t,i)}}maybeStartHedgingAttempt(){if("HEDGING"!==this.state)return;if(!this.callConfig.methodConfig.hedgingPolicy)return;const e=this.callConfig.methodConfig.hedgingPolicy;this.attempts>=Math.min(e.maxAttempts,5)||(this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer())}maybeStartHedgingTimer(){var e,t,r;if(this.hedgingTimer&&clearTimeout(this.hedgingTimer),"HEDGING"!==this.state)return;if(!this.callConfig.methodConfig.hedgingPolicy)return;const n=this.callConfig.methodConfig.hedgingPolicy;if(this.attempts>=Math.min(n.maxAttempts,5))return;const i=null!==(e=n.hedgingDelay)&&void 0!==e?e:"0s",s=Number(i.substring(0,i.length-1));this.hedgingTimer=setTimeout((()=>{this.maybeStartHedgingAttempt()}),1e3*s),null===(r=(t=this.hedgingTimer).unref)||void 0===r||r.call(t)}startNewAttempt(){const e=this.channel.createLoadBalancingCall(this.callConfig,this.methodName,this.host,this.credentials,this.deadline);this.trace("Created child call ["+e.getCallNumber()+"] for attempt "+this.attempts);const t=this.underlyingCalls.length;this.underlyingCalls.push({state:"ACTIVE",call:e,nextMessageToSend:0});const r=this.attempts-1,n=this.initialMetadata.clone();r>0&&n.set(o,`${r}`);let i=!1;e.start(n,{onReceiveMetadata:n=>{this.trace("Received metadata from child ["+e.getCallNumber()+"]"),this.commitCall(t),i=!0,r>0&&n.set(o,`${r}`),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMetadata(n)},onReceiveMessage:r=>{this.trace("Received message from child ["+e.getCallNumber()+"]"),this.commitCall(t),"ACTIVE"===this.underlyingCalls[t].state&&this.listener.onReceiveMessage(r)},onReceiveStatus:n=>{this.trace("Received status from child ["+e.getCallNumber()+"]"),!i&&r>0&&n.metadata.set(o,`${r}`),this.handleChildStatus(n,t)}}),this.sendNextChildMessage(t),this.readStarted&&e.startRead()}start(e,t){this.trace("start called"),this.listener=t,this.initialMetadata=e,this.attempts+=1,this.startNewAttempt(),this.maybeStartHedgingTimer()}handleChildWriteCompleted(e){var t,r;const n=this.underlyingCalls[e],i=n.nextMessageToSend;null===(r=(t=this.getBufferEntry(i)).callback)||void 0===r||r.call(t),this.clearSentMessages(),n.nextMessageToSend+=1,this.sendNextChildMessage(e)}sendNextChildMessage(e){const t=this.underlyingCalls[e];if("COMPLETED"!==t.state&&this.getBufferEntry(t.nextMessageToSend)){const r=this.getBufferEntry(t.nextMessageToSend);switch(r.entryType){case"MESSAGE":t.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},r.message.message);break;case"HALF_CLOSE":t.nextMessageToSend+=1,t.call.halfClose()}}}sendMessageWithContext(e,t){var r;this.trace("write() called with message of length "+t.length);const n={message:t,flags:e.flags},i=this.getNextBufferIndex(),s={entryType:"MESSAGE",message:n,allocated:this.bufferTracker.allocate(t.length,this.callNumber)};if(this.writeBuffer.push(s),s.allocated){null===(r=e.callback)||void 0===r||r.call(e);for(const[e,r]of this.underlyingCalls.entries())"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:t=>{this.handleChildWriteCompleted(e)}},t)}else{if(this.commitCallWithMostMessages(),null===this.committedCallIndex)return;const r=this.underlyingCalls[this.committedCallIndex];s.callback=e.callback,"ACTIVE"===r.state&&r.nextMessageToSend===i&&r.call.sendMessageWithContext({callback:e=>{this.handleChildWriteCompleted(this.committedCallIndex)}},t)}}startRead(){this.trace("startRead called"),this.readStarted=!0;for(const e of this.underlyingCalls)"ACTIVE"===(null==e?void 0:e.state)&&e.call.startRead()}halfClose(){this.trace("halfClose called");const e=this.getNextBufferIndex();this.writeBuffer.push({entryType:"HALF_CLOSE",allocated:!1});for(const t of this.underlyingCalls)"ACTIVE"===(null==t?void 0:t.state)&&t.nextMessageToSend===e&&(t.nextMessageToSend+=1,t.call.halfClose())}setCredentials(e){throw new Error("Method not implemented.")}getMethod(){return this.methodName}getHost(){return this.host}}},6860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2ServerCallStream=t.ServerDuplexStreamImpl=t.ServerWritableStreamImpl=t.ServerReadableStreamImpl=t.ServerUnaryCallImpl=void 0;const n=r(4434),i=r(5675),s=r(2203),o=r(3106),a=r(131),c=r(4097),l=r(9453),u=r(267),d=r(9752),h="server_call";function p(e){u.trace(a.LogVerbosity.DEBUG,h,e)}const f="grpc-accept-encoding",g="grpc-encoding",m="grpc-message",y="grpc-status",v="grpc-timeout",b=/(\d{1,8})\s*([HMSmun])/,S={H:36e5,M:6e4,S:1e3,m:1,u:.001,n:1e-6},E={[f]:"identity,deflate,gzip",[g]:"identity"},_={[i.constants.HTTP2_HEADER_STATUS]:i.constants.HTTP_STATUS_OK,[i.constants.HTTP2_HEADER_CONTENT_TYPE]:"application/grpc+proto"},w={waitForTrailers:!0};class C extends n.EventEmitter{constructor(e,t,r){super(),this.call=e,this.metadata=t,this.request=r,this.cancelled=!1,this.call.setupSurfaceCall(this)}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerUnaryCallImpl=C;class T extends s.Readable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.deserialize=r,this.cancelled=!1,this.call.setupSurfaceCall(this),this.call.setupReadable(this,n)}_read(e){this.call.consumeUnpushedMessages(this)&&this.call.resume()}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}}t.ServerReadableStreamImpl=T;class R extends s.Writable{constructor(e,t,r,n){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.request=n,this.cancelled=!1,this.trailingMetadata=new c.Metadata,this.call.setupSurfaceCall(this),this.on("error",(e=>{this.call.sendError(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}_write(e,t,r){try{const t=this.call.serializeMessage(e);if(!this.call.write(t))return void this.call.once("drain",r)}catch(e){this.emit("error",{details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}r()}_final(e){this.call.sendStatus({code:a.Status.OK,details:"OK",metadata:this.trailingMetadata}),e(null)}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerWritableStreamImpl=R;class k extends s.Duplex{constructor(e,t,r,n,i){super({objectMode:!0}),this.call=e,this.metadata=t,this.serialize=r,this.deserialize=n,this.cancelled=!1,this.trailingMetadata=new c.Metadata,this.call.setupSurfaceCall(this),this.call.setupReadable(this,i),this.on("error",(e=>{this.call.sendError(e),this.end()}))}getPeer(){return this.call.getPeer()}sendMetadata(e){this.call.sendMetadata(e)}getDeadline(){return this.call.getDeadline()}getPath(){return this.call.getPath()}end(e){return e&&(this.trailingMetadata=e),super.end()}}t.ServerDuplexStreamImpl=k,k.prototype._read=T.prototype._read,k.prototype._write=R.prototype._write,k.prototype._final=R.prototype._final;class A extends n.EventEmitter{constructor(e,t,r){super(),this.stream=e,this.handler=t,this.cancelled=!1,this.deadlineTimer=null,this.statusSent=!1,this.deadline=1/0,this.wantTrailers=!1,this.metadataSent=!1,this.canPush=!1,this.isPushPending=!1,this.bufferedMessages=[],this.messagesToPush=[],this.maxSendMessageSize=a.DEFAULT_MAX_SEND_MESSAGE_LENGTH,this.maxReceiveMessageSize=a.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH,this.stream.once("error",(e=>{})),this.stream.once("close",(()=>{var e;p("Request to method "+(null===(e=this.handler)||void 0===e?void 0:e.path)+" stream closed with rstCode "+this.stream.rstCode),this.statusSent||(this.cancelled=!0,this.emit("cancelled","cancelled"),this.emit("streamEnd",!1),this.sendStatus({code:a.Status.CANCELLED,details:"Cancelled by client",metadata:null}))})),this.stream.on("drain",(()=>{this.emit("drain")})),"grpc.max_send_message_length"in r&&(this.maxSendMessageSize=r["grpc.max_send_message_length"]),"grpc.max_receive_message_length"in r&&(this.maxReceiveMessageSize=r["grpc.max_receive_message_length"])}checkCancelled(){return(this.stream.destroyed||this.stream.closed)&&(this.cancelled=!0),this.cancelled}getDecompressedMessage(e,t){const r=e.subarray(5);if("identity"===t)return r;if("deflate"===t||"gzip"===t){let e;return e="deflate"===t?o.createInflate():o.createGunzip(),new Promise(((t,n)=>{let i=0;const s=[];e.on("data",(t=>{s.push(t),i+=t.byteLength,-1!==this.maxReceiveMessageSize&&i>this.maxReceiveMessageSize&&(e.destroy(),n({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message that decompresses to a size larger than ${this.maxReceiveMessageSize}`}))})),e.on("end",(()=>{t(Buffer.concat(s))})),e.write(r),e.end()}))}return Promise.reject({code:a.Status.UNIMPLEMENTED,details:`Received message compressed with unsupported encoding "${t}"`})}sendMetadata(e){if(this.checkCancelled())return;if(this.metadataSent)return;this.metadataSent=!0;const t=e?e.toHttp2Headers():null,r=Object.assign(Object.assign(Object.assign({},_),E),t);this.stream.respond(r,w)}receiveMetadata(e){const t=c.Metadata.fromHttp2Headers(e);u.isTracerEnabled(h)&&p("Request to "+this.handler.path+" received headers "+JSON.stringify(t.toJSON()));const r=t.get(v);if(r.length>0){const e=r[0].toString().match(b);if(null===e){const e=new Error("Invalid deadline");return e.code=a.Status.OUT_OF_RANGE,this.sendError(e),t}const n=+e[1]*S[e[2]]|0,i=new Date;this.deadline=i.setMilliseconds(i.getMilliseconds()+n),this.deadlineTimer=setTimeout(O,n,this),t.remove(v)}return t.remove(i.constants.HTTP2_HEADER_ACCEPT_ENCODING),t.remove(i.constants.HTTP2_HEADER_TE),t.remove(i.constants.HTTP2_HEADER_CONTENT_TYPE),t.remove("grpc-accept-encoding"),t}receiveUnaryMessage(e,t){const{stream:r}=this;let n=0;const i=this,s=[],o=this.maxReceiveMessageSize;function c(e){if(n+=e.byteLength,-1!==o&&n>o)return r.removeListener("data",c),r.removeListener("end",l),r.removeListener("error",l),void t({code:a.Status.RESOURCE_EXHAUSTED,details:`Received message larger than max (${n} vs. ${o})`});s.push(e)}function l(o){if(r.removeListener("data",c),r.removeListener("end",l),r.removeListener("error",l),void 0!==o)return void t({code:a.Status.INTERNAL,details:o.message});if(0===n)return void t({code:a.Status.INTERNAL,details:"received empty unary message"});i.emit("receiveMessage");const u=Buffer.concat(s,n),d=1===u.readUInt8(0)?e:"identity",h=i.getDecompressedMessage(u,d);Buffer.isBuffer(h)?i.safeDeserializeMessage(h,t):h.then((e=>i.safeDeserializeMessage(e,t)),(r=>t(r.code?r:{code:a.Status.INTERNAL,details:`Received "grpc-encoding" header "${e}" but ${e} decompression failed`})))}r.on("data",c),r.on("end",l),r.on("error",l)}safeDeserializeMessage(e,t){try{t(null,this.deserializeMessage(e))}catch(e){t({details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}}serializeMessage(e){const t=this.handler.serialize(e),r=t.byteLength,n=Buffer.allocUnsafe(r+5);return n.writeUInt8(0,0),n.writeUInt32BE(r,1),t.copy(n,5),n}deserializeMessage(e){return this.handler.deserialize(e)}async sendUnaryMessage(e,t,r,n){if(!this.checkCancelled()){if(void 0===r&&(r=null),e)return!Object.prototype.hasOwnProperty.call(e,"metadata")&&r&&(e.metadata=r),void this.sendError(e);try{const e=this.serializeMessage(t);this.write(e),this.sendStatus({code:a.Status.OK,details:"OK",metadata:r})}catch(e){this.sendError({details:(0,d.getErrorMessage)(e),code:a.Status.INTERNAL})}}}sendStatus(e){var t,r;if(this.emit("callEnd",e.code),this.emit("streamEnd",e.code===a.Status.OK),!this.checkCancelled())if(p("Request to method "+(null===(t=this.handler)||void 0===t?void 0:t.path)+" ended with status code: "+a.Status[e.code]+" details: "+e.details),this.deadlineTimer&&clearTimeout(this.deadlineTimer),this.stream.headersSent)this.wantTrailers||(this.wantTrailers=!0,this.stream.once("wantTrailers",(()=>{var t;const r=Object.assign({[y]:e.code,[m]:encodeURI(e.details)},null===(t=e.metadata)||void 0===t?void 0:t.toHttp2Headers());this.stream.sendTrailers(r),this.statusSent=!0})),this.stream.end());else{const t=Object.assign(Object.assign({[y]:e.code,[m]:encodeURI(e.details)},_),null===(r=e.metadata)||void 0===r?void 0:r.toHttp2Headers());this.stream.respond(t,{endStream:!0}),this.statusSent=!0}}sendError(e){const t={code:a.Status.UNKNOWN,details:"message"in e?e.message:"Unknown Error",metadata:"metadata"in e&&void 0!==e.metadata?e.metadata:null};"code"in e&&"number"==typeof e.code&&Number.isInteger(e.code)&&(t.code=e.code,"details"in e&&"string"==typeof e.details&&(t.details=e.details)),this.sendStatus(t)}write(e){if(!this.checkCancelled()){if(!(-1!==this.maxSendMessageSize&&e.length>this.maxSendMessageSize))return this.sendMetadata(),this.emit("sendMessage"),this.stream.write(e);this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:`Sent message larger than max (${e.length} vs. ${this.maxSendMessageSize})`})}}resume(){this.stream.resume()}setupSurfaceCall(e){this.once("cancelled",(t=>{e.cancelled=!0,e.emit("cancelled",t)})),this.once("callEnd",(t=>e.emit("callEnd",t)))}setupReadable(e,t){const r=new l.StreamDecoder(this.maxReceiveMessageSize);let n=!1,i=!1,s=!1;const o=async()=>{s||!n||i||(s=!0,await this.pushOrBufferMessage(e,null))};this.stream.on("data",(async n=>{let s;try{s=r.write(n)}catch(e){return void this.sendError({code:a.Status.RESOURCE_EXHAUSTED,details:e.message})}i=!0,this.stream.pause();for(const r of s){this.emit("receiveMessage");const n=1===r.readUInt8(0)?t:"identity";let i;try{i=await this.getDecompressedMessage(r,n)}catch(e){return void this.sendError(e)}if(!i)return;await this.pushOrBufferMessage(e,i)}i=!1,this.stream.resume(),await o()})),this.stream.once("end",(async()=>{n=!0,await o()}))}consumeUnpushedMessages(e){for(this.canPush=!0;this.messagesToPush.length>0;){const t=this.messagesToPush.shift(),r=e.push(t);if(null===t||!1===r){this.canPush=!1;break}}return this.canPush}async pushOrBufferMessage(e,t){this.isPushPending?this.bufferedMessages.push(t):await this.pushMessage(e,t)}async pushMessage(e,t){if(null===t)return p("Received end of stream"),void(this.canPush?e.push(null):this.messagesToPush.push(null));p("Received message of length "+t.length),this.isPushPending=!0;try{const r=await this.deserializeMessage(t);this.canPush?e.push(r)||(this.canPush=!1,this.stream.pause()):this.messagesToPush.push(r)}catch(t){this.bufferedMessages.length=0;let r=(0,d.getErrorCode)(t);(null===r||r<a.Status.OK||r>a.Status.UNAUTHENTICATED)&&(r=a.Status.INTERNAL),e.emit("error",{details:(0,d.getErrorMessage)(t),code:r})}this.isPushPending=!1,this.bufferedMessages.length>0&&await this.pushMessage(e,this.bufferedMessages.shift())}getPeer(){var e;const t=null===(e=this.stream.session)||void 0===e?void 0:e.socket;return(null==t?void 0:t.remoteAddress)?t.remotePort?`${t.remoteAddress}:${t.remotePort}`:t.remoteAddress:"unknown"}getDeadline(){return this.deadline}getPath(){return this.handler.path}}function O(e){const t=new Error("Deadline exceeded");t.code=a.Status.DEADLINE_EXCEEDED,e.sendError(t),e.cancelled=!0,e.emit("cancelled","deadline")}t.Http2ServerCallStream=A},8692:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerCredentials=void 0;const n=r(9167);class i{static createInsecure(){return new s}static createSsl(e,t,r=!1){if(null!==e&&!Buffer.isBuffer(e))throw new TypeError("rootCerts must be null or a Buffer");if(!Array.isArray(t))throw new TypeError("keyCertPairs must be an array");if("boolean"!=typeof r)throw new TypeError("checkClientCertificate must be a boolean");const i=[],s=[];for(let e=0;e<t.length;e++){const r=t[e];if(null===r||"object"!=typeof r)throw new TypeError(`keyCertPair[${e}] must be an object`);if(!Buffer.isBuffer(r.private_key))throw new TypeError(`keyCertPair[${e}].private_key must be a Buffer`);if(!Buffer.isBuffer(r.cert_chain))throw new TypeError(`keyCertPair[${e}].cert_chain must be a Buffer`);i.push(r.cert_chain),s.push(r.private_key)}return new o({ca:e||(0,n.getDefaultRootsData)()||void 0,cert:i,key:s,requestCert:r,ciphers:n.CIPHER_SUITES})}}t.ServerCredentials=i;class s extends i{_isSecure(){return!1}_getSettings(){return null}}class o extends i{constructor(e){super(),this.options=e}_isSecure(){return!0}_getSettings(){return this.options}}},5943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=void 0;const n=r(5675),i=r(131),s=r(6860),o=r(8692),a=r(9302),c=r(267),l=r(8996),u=r(3822),d=r(9503),h=~(1<<31),{HTTP2_HEADER_PATH:p}=n.constants;function f(){}function g(e){return{code:i.Status.UNIMPLEMENTED,details:`The server does not implement the method ${e}`}}t.Server=class{constructor(e){var t,r,n,i;this.http2ServerList=[],this.handlers=new Map,this.sessions=new Map,this.started=!1,this.serverAddressString="null",this.channelzEnabled=!0,this.channelzTrace=new d.ChannelzTrace,this.callTracker=new d.ChannelzCallTracker,this.listenerChildrenTracker=new d.ChannelzChildrenTracker,this.sessionChildrenTracker=new d.ChannelzChildrenTracker,this.options=null!=e?e:{},0===this.options["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,d.registerChannelzServer)((()=>this.getChannelzInfo()),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Server created"),this.maxConnectionAgeMs=null!==(t=this.options["grpc.max_connection_age_ms"])&&void 0!==t?t:h,this.maxConnectionAgeGraceMs=null!==(r=this.options["grpc.max_connection_age_grace_ms"])&&void 0!==r?r:h,this.keepaliveTimeMs=null!==(n=this.options["grpc.keepalive_time_ms"])&&void 0!==n?n:2147483647,this.keepaliveTimeoutMs=null!==(i=this.options["grpc.keepalive_timeout_ms"])&&void 0!==i?i:2e4,this.trace("Server constructed")}getChannelzInfo(){return{trace:this.channelzTrace,callTracker:this.callTracker,listenerChildren:this.listenerChildrenTracker.getChildLists(),sessionChildren:this.sessionChildrenTracker.getChildLists()}}getChannelzSessionInfoGetter(e){return()=>{var t,r,n;const i=this.sessions.get(e),s=e.socket,o=s.remoteAddress?(0,l.stringToSubchannelAddress)(s.remoteAddress,s.remotePort):null,a=s.localAddress?(0,l.stringToSubchannelAddress)(s.localAddress,s.localPort):null;let c;if(e.encrypted){const e=s,r=e.getCipher(),n=e.getCertificate(),i=e.getPeerCertificate();c={cipherSuiteStandardName:null!==(t=r.standardName)&&void 0!==t?t:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:n&&"raw"in n?n.raw:null,remoteCertificate:i&&"raw"in i?i.raw:null}}else c=null;return{remoteAddress:o,localAddress:a,security:c,remoteName:null,streamsStarted:i.streamTracker.callsStarted,streamsSucceeded:i.streamTracker.callsSucceeded,streamsFailed:i.streamTracker.callsFailed,messagesSent:i.messagesSent,messagesReceived:i.messagesReceived,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:i.streamTracker.lastCallStartedTimestamp,lastMessageSentTimestamp:i.lastMessageSentTimestamp,lastMessageReceivedTimestamp:i.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(r=e.state.localWindowSize)&&void 0!==r?r:null,remoteFlowControlWindow:null!==(n=e.state.remoteWindowSize)&&void 0!==n?n:null}}}trace(e){c.trace(i.LogVerbosity.DEBUG,"server","("+this.channelzRef.id+") "+e)}addProtoService(){throw new Error("Not implemented. Use addService() instead")}addService(e,t){if(null===e||"object"!=typeof e||null===t||"object"!=typeof t)throw new Error("addService() requires two objects as arguments");const r=Object.keys(e);if(0===r.length)throw new Error("Cannot add an empty service to a server");r.forEach((r=>{const n=e[r];let i;i=n.requestStream?n.responseStream?"bidi":"clientStream":n.responseStream?"serverStream":"unary";let s,o=t[r];if(void 0===o&&"string"==typeof n.originalName&&(o=t[n.originalName]),s=void 0!==o?o.bind(t):function(e,t){const r=g(t);switch(e){case"unary":case"clientStream":return(e,t)=>{t(r,null)};case"serverStream":case"bidi":return e=>{e.emit("error",r)};default:throw new Error(`Invalid handlerType ${e}`)}}(i,r),!1===this.register(n.path,s,n.responseSerialize,n.requestDeserialize,i))throw new Error(`Method handler for ${n.path} already provided.`)}))}removeService(e){if(null===e||"object"!=typeof e)throw new Error("removeService() requires object as argument");Object.keys(e).forEach((t=>{const r=e[t];this.unregister(r.path)}))}bind(e,t){throw new Error("Not implemented. Use bindAsync() instead")}bindAsync(e,t,r){if(!0===this.started)throw new Error("server is already started");if("string"!=typeof e)throw new TypeError("port must be a string");if(null===t||!(t instanceof o.ServerCredentials))throw new TypeError("creds must be a ServerCredentials object");if("function"!=typeof r)throw new TypeError("callback must be a function");const s=(0,u.parseUri)(e);if(null===s)throw new Error(`Could not parse port "${e}"`);const h=(0,a.mapUriDefaultScheme)(s);if(null===h)throw new Error(`Could not get a default scheme for port "${e}"`);const p={maxSendHeaderBlockLength:Number.MAX_SAFE_INTEGER};"grpc-node.max_session_memory"in this.options?p.maxSessionMemory=this.options["grpc-node.max_session_memory"]:p.maxSessionMemory=Number.MAX_SAFE_INTEGER,"grpc.max_concurrent_streams"in this.options&&(p.settings={maxConcurrentStreams:this.options["grpc.max_concurrent_streams"]});const g=(e,t)=>{process.nextTick((()=>r(e,t)))},m=()=>{let e;if(t._isSecure()){const r=Object.assign(p,t._getSettings());e=n.createSecureServer(r),e.on("secureConnection",(e=>{e.on("error",(e=>{this.trace("An incoming TLS connection closed with error: "+e.message)}))}))}else e=n.createServer(p);return e.setTimeout(0,f),this._setupHandlers(e),e},y=(e,t,r)=>0===e.length?Promise.resolve({port:t,count:r}):Promise.all(e.map((e=>{let r;this.trace("Attempting to bind "+(0,l.subchannelAddressToString)(e)),r=(0,l.isTcpSubchannelAddress)(e)?{host:e.host,port:t}:e;const n=m();return new Promise(((i,s)=>{const o=t=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(e)+" with error "+t.message),i(t)};n.once("error",o),n.listen(r,(()=>{const e=n.address();let r,s;r="string"==typeof e?{path:e}:{host:e.address,port:e.port},s=(0,d.registerChannelzSocket)((0,l.subchannelAddressToString)(r),(()=>({localAddress:r,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null})),this.channelzEnabled),this.channelzEnabled&&this.listenerChildrenTracker.refChild(s),this.http2ServerList.push({server:n,channelzRef:s}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(r)),i("port"in r?r.port:t),n.removeListener("error",o)}))}))}))).then((e=>{let n=0;for(const r of e)if("number"==typeof r&&(n+=1,r!==t))throw new Error("Invalid state: multiple port numbers added from single address");return{port:t,count:n+r}})),v=e=>{if(0===e.length)return Promise.resolve({port:0,count:0});const t=e[0],r=m();return new Promise(((n,i)=>{const s=r=>{this.trace("Failed to bind "+(0,l.subchannelAddressToString)(t)+" with error "+r.message),n(v(e.slice(1)))};r.once("error",s),r.listen(t,(()=>{const t=r.address(),i={host:t.address,port:t.port};let o;o=(0,d.registerChannelzSocket)((0,l.subchannelAddressToString)(i),(()=>({localAddress:i,remoteAddress:null,security:null,remoteName:null,streamsStarted:0,streamsSucceeded:0,streamsFailed:0,messagesSent:0,messagesReceived:0,keepAlivesSent:0,lastLocalStreamCreatedTimestamp:null,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null,localFlowControlWindow:null,remoteFlowControlWindow:null})),this.channelzEnabled),this.channelzEnabled&&this.listenerChildrenTracker.refChild(o),this.http2ServerList.push({server:r,channelzRef:o}),this.trace("Successfully bound "+(0,l.subchannelAddressToString)(i)),n(y(e.slice(1),t.port,1)),r.removeListener("error",s)}))}))},b={onSuccessfulResolution:(t,r,n)=>{if(b.onSuccessfulResolution=()=>{},0===t.length)return void g(new Error(`No addresses resolved for port ${e}`),0);let s;s=(0,l.isTcpSubchannelAddress)(t[0])?0===t[0].port?v(t):y(t,t[0].port,0):y(t,1,0),s.then((e=>{if(0===e.count){const e=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,e),g(new Error(e),0)}else e.count<t.length&&c.log(i.LogVerbosity.INFO,`WARNING Only ${e.count} addresses added out of total ${t.length} resolved`),g(null,e.port)}),(e=>{const r=`No address added out of total ${t.length} resolved`;c.log(i.LogVerbosity.ERROR,r),g(new Error(r),0)}))},onError:e=>{g(new Error(e.details),0)}};(0,a.createResolver)(h,b,this.options).updateResolution()}forceShutdown(){for(const{server:e,channelzRef:t}of this.http2ServerList)e.listening&&e.close((()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,d.unregisterChannelzRef)(t))}));this.started=!1,this.sessions.forEach(((e,t)=>{t.destroy(n.constants.NGHTTP2_CANCEL)})),this.sessions.clear(),this.channelzEnabled&&(0,d.unregisterChannelzRef)(this.channelzRef)}register(e,t,r,n,i){return!this.handlers.has(e)&&(this.handlers.set(e,{func:t,serialize:r,deserialize:n,type:i,path:e}),!0)}unregister(e){return this.handlers.delete(e)}start(){if(0===this.http2ServerList.length||this.http2ServerList.every((({server:e})=>!0!==e.listening)))throw new Error("server must be bound in order to start");if(!0===this.started)throw new Error("server is already started");this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Starting"),this.started=!0}tryShutdown(e){const t=t=>{this.channelzEnabled&&(0,d.unregisterChannelzRef)(this.channelzRef),e(t)};let r=0;function n(){r--,0===r&&t()}this.started=!1;for(const{server:e,channelzRef:t}of this.http2ServerList)e.listening&&(r++,e.close((()=>{this.channelzEnabled&&(this.listenerChildrenTracker.unrefChild(t),(0,d.unregisterChannelzRef)(t)),n()})));this.sessions.forEach(((e,t)=>{t.closed||(r+=1,t.close(n))})),0===r&&t()}addHttp2Port(){throw new Error("Not yet implemented")}getChannelzRef(){return this.channelzRef}_verifyContentType(e,t){const r=t[n.constants.HTTP2_HEADER_CONTENT_TYPE];return!("string"!=typeof r||!r.startsWith("application/grpc"))||(e.respond({[n.constants.HTTP2_HEADER_STATUS]:n.constants.HTTP_STATUS_UNSUPPORTED_MEDIA_TYPE},{endStream:!0}),!1)}_retrieveHandler(e){this.trace("Received call to method "+e+" at address "+this.serverAddressString);const t=this.handlers.get(e);return void 0===t?(this.trace("No handler registered for method "+e+". Sending UNIMPLEMENTED status."),null):t}_respondWithError(e,t,r=null){const n=new s.Http2ServerCallStream(t,null,this.options);void 0===e.code&&(e.code=i.Status.INTERNAL),this.channelzEnabled&&(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed()),n.sendError(e)}_channelzHandler(e,t){const r=this.sessions.get(e.session);if(this.callTracker.addCallStarted(),null==r||r.streamTracker.addCallStarted(),!this._verifyContentType(e,t))return this.callTracker.addCallFailed(),void(null==r||r.streamTracker.addCallFailed());const n=t[p],o=this._retrieveHandler(n);if(!o)return void this._respondWithError(g(n),e,r);const a=new s.Http2ServerCallStream(e,o,this.options);a.once("callEnd",(e=>{e===i.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()})),r&&(a.once("streamEnd",(e=>{e?r.streamTracker.addCallSucceeded():r.streamTracker.addCallFailed()})),a.on("sendMessage",(()=>{r.messagesSent+=1,r.lastMessageSentTimestamp=new Date})),a.on("receiveMessage",(()=>{r.messagesReceived+=1,r.lastMessageReceivedTimestamp=new Date}))),this._runHandlerForCall(a,o,t)||(this.callTracker.addCallFailed(),null==r||r.streamTracker.addCallFailed(),a.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${o.type}`}))}_streamHandler(e,t){if(!0!==this._verifyContentType(e,t))return;const r=t[p],n=this._retrieveHandler(r);if(!n)return void this._respondWithError(g(r),e,null);const o=new s.Http2ServerCallStream(e,n,this.options);this._runHandlerForCall(o,n,t)||o.sendError({code:i.Status.INTERNAL,details:`Unknown handler type: ${n.type}`})}_runHandlerForCall(e,t,r){var n;const i=e.receiveMetadata(r),o=null!==(n=i.get("grpc-encoding")[0])&&void 0!==n?n:"identity";i.remove("grpc-encoding");const{type:a}=t;if("unary"===a)!function(e,t,r,n){e.receiveUnaryMessage(n,((n,i)=>{if(n)return void e.sendError(n);if(void 0===i||e.cancelled)return;const o=new s.ServerUnaryCallImpl(e,r,i);t.func(o,((t,r,n,i)=>{e.sendUnaryMessage(t,r,n,i)}))}))}(e,t,i,o);else if("clientStream"===a)!function(e,t,r,n){const i=new s.ServerReadableStreamImpl(e,r,t.deserialize,n);function o(t,r,n,s){i.destroy(),e.sendUnaryMessage(t,r,n,s)}e.cancelled||(i.on("error",o),t.func(i,o))}(e,t,i,o);else if("serverStream"===a)!function(e,t,r,n){e.receiveUnaryMessage(n,((n,i)=>{if(n)return void e.sendError(n);if(void 0===i||e.cancelled)return;const o=new s.ServerWritableStreamImpl(e,r,t.serialize,i);t.func(o)}))}(e,t,i,o);else{if("bidi"!==a)return!1;!function(e,t,r,n){const i=new s.ServerDuplexStreamImpl(e,r,t.serialize,t.deserialize,n);e.cancelled||t.func(i)}(e,t,i,o)}return!0}_setupHandlers(e){if(null===e)return;const t=e.address();let r="null";t&&(r="string"==typeof t?t:t.address+":"+t.port),this.serverAddressString=r;const i=this.channelzEnabled?this._channelzHandler:this._streamHandler;e.on("stream",i.bind(this)),e.on("session",(e=>{var t,r,i,s,o;if(!this.started)return void e.destroy();let a;a=(0,d.registerChannelzSocket)(null!==(t=e.socket.remoteAddress)&&void 0!==t?t:"unknown",this.getChannelzSessionInfoGetter(e),this.channelzEnabled);const c={ref:a,streamTracker:new d.ChannelzCallTracker,messagesSent:0,messagesReceived:0,lastMessageSentTimestamp:null,lastMessageReceivedTimestamp:null};this.sessions.set(e,c);const l=e.socket.remoteAddress;this.channelzEnabled&&(this.channelzTrace.addTrace("CT_INFO","Connection established by client "+l),this.sessionChildrenTracker.refChild(a));let u=null,p=null,f=!1;if(this.maxConnectionAgeMs!==h){const t=this.maxConnectionAgeMs/10,s=Math.random()*t*2-t;u=null===(i=(r=setTimeout((()=>{var t,r;f=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by max connection age from "+l);try{e.goaway(n.constants.NGHTTP2_NO_ERROR,~(1<<31),Buffer.from("max_age"))}catch(t){return void e.destroy()}e.close(),this.maxConnectionAgeGraceMs!==h&&(p=null===(r=(t=setTimeout((()=>{e.destroy()}),this.maxConnectionAgeGraceMs)).unref)||void 0===r?void 0:r.call(t))}),this.maxConnectionAgeMs+s)).unref)||void 0===i?void 0:i.call(r)}const g=null===(o=(s=setInterval((()=>{var t,r;const n=null===(r=(t=setTimeout((()=>{f=!0,this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Connection dropped by keepalive timeout from "+l),e.close()}),this.keepaliveTimeoutMs)).unref)||void 0===r?void 0:r.call(t);try{e.ping(((e,t,r)=>{clearTimeout(n)}))}catch(t){e.destroy()}}),this.keepaliveTimeMs)).unref)||void 0===o?void 0:o.call(s);e.on("close",(()=>{this.channelzEnabled&&(f||this.channelzTrace.addTrace("CT_INFO","Connection dropped by client "+l),this.sessionChildrenTracker.unrefChild(a),(0,d.unregisterChannelzRef)(a)),u&&clearTimeout(u),p&&clearTimeout(p),g&&clearTimeout(g),this.sessions.delete(e)}))}))}}},5656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractAndSelectServiceConfig=t.validateServiceConfig=t.validateRetryThrottling=void 0;const n=r(857),i=r(131),s=r(8923),o=/^\d+(\.\d{1,9})?s$/;function a(e){if(!("service"in e)||"string"!=typeof e.service)throw new Error("Invalid method config name: invalid service");const t={service:e.service};if("method"in e){if("string"!=typeof e.method)throw new Error("Invalid method config name: invalid method");t.method=e.method}return t}function c(e){var t;const r={name:[]};if(!("name"in e)||!Array.isArray(e.name))throw new Error("Invalid method config: invalid name array");for(const t of e.name)r.name.push(a(t));if("waitForReady"in e){if("boolean"!=typeof e.waitForReady)throw new Error("Invalid method config: invalid waitForReady");r.waitForReady=e.waitForReady}if("timeout"in e)if("object"==typeof e.timeout){if(!("seconds"in e.timeout)||"number"!=typeof e.timeout.seconds)throw new Error("Invalid method config: invalid timeout.seconds");if(!("nanos"in e.timeout)||"number"!=typeof e.timeout.nanos)throw new Error("Invalid method config: invalid timeout.nanos");r.timeout=e.timeout}else{if("string"!=typeof e.timeout||!o.test(e.timeout))throw new Error("Invalid method config: invalid timeout");{const n=e.timeout.substring(0,e.timeout.length-1).split(".");r.timeout={seconds:0|n[0],nanos:0|(null!==(t=n[1])&&void 0!==t?t:0)}}}if("maxRequestBytes"in e){if("number"!=typeof e.maxRequestBytes)throw new Error("Invalid method config: invalid maxRequestBytes");r.maxRequestBytes=e.maxRequestBytes}if("maxResponseBytes"in e){if("number"!=typeof e.maxResponseBytes)throw new Error("Invalid method config: invalid maxRequestBytes");r.maxResponseBytes=e.maxResponseBytes}if("retryPolicy"in e){if("hedgingPolicy"in e)throw new Error("Invalid method config: retryPolicy and hedgingPolicy cannot both be specified");r.retryPolicy=function(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw new Error("Invalid method config retry policy: maxAttempts must be an integer at least 2");if(!("initialBackoff"in e)||"string"!=typeof e.initialBackoff||!o.test(e.initialBackoff))throw new Error("Invalid method config retry policy: initialBackoff must be a string consisting of a positive integer followed by s");if(!("maxBackoff"in e)||"string"!=typeof e.maxBackoff||!o.test(e.maxBackoff))throw new Error("Invalid method config retry policy: maxBackoff must be a string consisting of a positive integer followed by s");if(!("backoffMultiplier"in e)||"number"!=typeof e.backoffMultiplier||e.backoffMultiplier<=0)throw new Error("Invalid method config retry policy: backoffMultiplier must be a number greater than 0");if(!("retryableStatusCodes"in e)||!Array.isArray(e.retryableStatusCodes))throw new Error("Invalid method config retry policy: retryableStatusCodes is required");if(0===e.retryableStatusCodes.length)throw new Error("Invalid method config retry policy: retryableStatusCodes must be non-empty");for(const t of e.retryableStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw new Error("Invalid method config retry policy: retryableStatusCodes value not in status code range")}else{if("string"!=typeof t)throw new Error("Invalid method config retry policy: retryableStatusCodes value must be a string or number");if(!Object.values(i.Status).includes(t.toUpperCase()))throw new Error("Invalid method config retry policy: retryableStatusCodes value not a status code name")}return{maxAttempts:e.maxAttempts,initialBackoff:e.initialBackoff,maxBackoff:e.maxBackoff,backoffMultiplier:e.backoffMultiplier,retryableStatusCodes:e.retryableStatusCodes}}(e.retryPolicy)}else"hedgingPolicy"in e&&(r.hedgingPolicy=function(e){if(!("maxAttempts"in e)||!Number.isInteger(e.maxAttempts)||e.maxAttempts<2)throw new Error("Invalid method config hedging policy: maxAttempts must be an integer at least 2");if("hedgingDelay"in e&&("string"!=typeof e.hedgingDelay||!o.test(e.hedgingDelay)))throw new Error("Invalid method config hedging policy: hedgingDelay must be a string consisting of a positive integer followed by s");if("nonFatalStatusCodes"in e&&Array.isArray(e.nonFatalStatusCodes))for(const t of e.nonFatalStatusCodes)if("number"==typeof t){if(!Object.values(i.Status).includes(t))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not in status code range")}else{if("string"!=typeof t)throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value must be a string or number");if(!Object.values(i.Status).includes(t.toUpperCase()))throw new Error("Invlid method config hedging policy: nonFatalStatusCodes value not a status code name")}const t={maxAttempts:e.maxAttempts};return e.hedgingDelay&&(t.hedgingDelay=e.hedgingDelay),e.nonFatalStatusCodes&&(t.nonFatalStatusCodes=e.nonFatalStatusCodes),t}(e.hedgingPolicy));return r}function l(e){if(!("maxTokens"in e)||"number"!=typeof e.maxTokens||e.maxTokens<=0||e.maxTokens>1e3)throw new Error("Invalid retryThrottling: maxTokens must be a number in (0, 1000]");if(!("tokenRatio"in e)||"number"!=typeof e.tokenRatio||e.tokenRatio<=0)throw new Error("Invalid retryThrottling: tokenRatio must be a number greater than 0");return{maxTokens:+e.maxTokens.toFixed(3),tokenRatio:+e.tokenRatio.toFixed(3)}}function u(e){const t={loadBalancingConfig:[],methodConfig:[]};if("loadBalancingPolicy"in e){if("string"!=typeof e.loadBalancingPolicy)throw new Error("Invalid service config: invalid loadBalancingPolicy");t.loadBalancingPolicy=e.loadBalancingPolicy}if("loadBalancingConfig"in e){if(!Array.isArray(e.loadBalancingConfig))throw new Error("Invalid service config: invalid loadBalancingConfig");for(const r of e.loadBalancingConfig)t.loadBalancingConfig.push((0,s.validateLoadBalancingConfig)(r))}if("methodConfig"in e&&Array.isArray(e.methodConfig))for(const r of e.methodConfig)t.methodConfig.push(c(r));"retryThrottling"in e&&(t.retryThrottling=l(e.retryThrottling));const r=[];for(const e of t.methodConfig)for(const t of e.name){for(const e of r)if(t.service===e.service&&t.method===e.method)throw new Error(`Invalid service config: duplicate name ${t.service}/${t.method}`);r.push(t)}return t}function d(e){if(!("serviceConfig"in e))throw new Error("Invalid service config choice: missing service config");const t={serviceConfig:u(e.serviceConfig)};if("clientLanguage"in e){if(!Array.isArray(e.clientLanguage))throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage=[];for(const r of e.clientLanguage){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientLanguage");t.clientLanguage.push(r)}}if("clientHostname"in e){if(!Array.isArray(e.clientHostname))throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname=[];for(const r of e.clientHostname){if("string"!=typeof r)throw new Error("Invalid service config choice: invalid clientHostname");t.clientHostname.push(r)}}if("percentage"in e){if(!("number"==typeof e.percentage&&0<=e.percentage&&e.percentage<=100))throw new Error("Invalid service config choice: invalid percentage");t.percentage=e.percentage}const r=["clientLanguage","percentage","clientHostname","serviceConfig"];for(const t in e)if(!r.includes(t))throw new Error(`Invalid service config choice: unexpected field ${t}`);return t}function h(e,t){if(!Array.isArray(e))throw new Error("Invalid service config list");for(const r of e){const e=d(r);if(!("number"==typeof e.percentage&&t>e.percentage)){if(Array.isArray(e.clientHostname)){let t=!1;for(const r of e.clientHostname)r===n.hostname()&&(t=!0);if(!t)continue}if(Array.isArray(e.clientLanguage)){let t=!1;for(const r of e.clientLanguage)"node"===r&&(t=!0);if(!t)continue}return e.serviceConfig}}throw new Error("No matching service config found")}t.validateRetryThrottling=l,t.validateServiceConfig=u,t.extractAndSelectServiceConfig=function(e,t){for(const r of e)if(r.length>0&&r[0].startsWith("grpc_config=")){const e=r.join("").substring(12);return h(JSON.parse(e),t)}return null}},2284:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBuilder=void 0,t.StatusBuilder=class{constructor(){this.code=null,this.details=null,this.metadata=null}withCode(e){return this.code=e,this}withDetails(e){return this.details=e,this}withMetadata(e){return this.metadata=e,this}build(){const e={};return null!==this.code&&(e.code=this.code),null!==this.details&&(e.details=this.details),null!==this.metadata&&(e.metadata=this.metadata),e}}},9453:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamDecoder=void 0,function(e){e[e.NO_DATA=0]="NO_DATA",e[e.READING_SIZE=1]="READING_SIZE",e[e.READING_MESSAGE=2]="READING_MESSAGE"}(r||(r={})),t.StreamDecoder=class{constructor(e){this.maxReadMessageLength=e,this.readState=r.NO_DATA,this.readCompressFlag=Buffer.alloc(1),this.readPartialSize=Buffer.alloc(4),this.readSizeRemaining=4,this.readMessageSize=0,this.readPartialMessage=[],this.readMessageRemaining=0}write(e){let t,n=0;const i=[];for(;n<e.length;)switch(this.readState){case r.NO_DATA:this.readCompressFlag=e.slice(n,n+1),n+=1,this.readState=r.READING_SIZE,this.readPartialSize.fill(0),this.readSizeRemaining=4,this.readMessageSize=0,this.readMessageRemaining=0,this.readPartialMessage=[];break;case r.READING_SIZE:if(t=Math.min(e.length-n,this.readSizeRemaining),e.copy(this.readPartialSize,4-this.readSizeRemaining,n,n+t),this.readSizeRemaining-=t,n+=t,0===this.readSizeRemaining){if(this.readMessageSize=this.readPartialSize.readUInt32BE(0),-1!==this.maxReadMessageLength&&this.readMessageSize>this.maxReadMessageLength)throw new Error(`Received message larger than max (${this.readMessageSize} vs ${this.maxReadMessageLength})`);if(this.readMessageRemaining=this.readMessageSize,this.readMessageRemaining>0)this.readState=r.READING_MESSAGE;else{const e=Buffer.concat([this.readCompressFlag,this.readPartialSize],5);this.readState=r.NO_DATA,i.push(e)}}break;case r.READING_MESSAGE:if(t=Math.min(e.length-n,this.readMessageRemaining),this.readPartialMessage.push(e.slice(n,n+t)),this.readMessageRemaining-=t,n+=t,0===this.readMessageRemaining){const e=[this.readCompressFlag,this.readPartialSize].concat(this.readPartialMessage),t=Buffer.concat(e,this.readMessageSize+5);this.readState=r.NO_DATA,i.push(t)}break;default:throw new Error("Unexpected read state")}return i}}},8996:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringToSubchannelAddress=t.subchannelAddressToString=t.subchannelAddressEqual=t.isTcpSubchannelAddress=void 0;const n=r(9278);function i(e){return"port"in e}t.isTcpSubchannelAddress=i,t.subchannelAddressEqual=function(e,t){return!e&&!t||!(!e||!t)&&(i(e)?i(t)&&e.host===t.host&&e.port===t.port:!i(t)&&e.path===t.path)},t.subchannelAddressToString=function(e){return i(e)?e.host+":"+e.port:e.path},t.stringToSubchannelAddress=function(e,t){return(0,n.isIP)(e)?{host:e,port:null!=t?t:443}:{path:e}}},5486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelCall=void 0;const n=r(5675),i=r(857),s=r(131),o=r(4097),a=r(9453),c=r(267),l=r(131);t.Http2SubchannelCall=class{constructor(e,t,r,c,l){var u;this.http2Stream=e,this.callEventTracker=t,this.listener=r,this.transport=c,this.callId=l,this.isReadFilterPending=!1,this.isPushPending=!1,this.canPush=!1,this.readsClosed=!1,this.statusOutput=!1,this.unpushedReadMessages=[],this.mappedStatusCode=s.Status.UNKNOWN,this.finalStatus=null,this.internalError=null;const d=null!==(u=c.getOptions()["grpc.max_receive_message_length"])&&void 0!==u?u:s.DEFAULT_MAX_RECEIVE_MESSAGE_LENGTH;this.decoder=new a.StreamDecoder(d),e.on("response",((e,t)=>{let r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";switch(this.trace("Received server headers:\n"+r),e[":status"]){case 400:this.mappedStatusCode=s.Status.INTERNAL;break;case 401:this.mappedStatusCode=s.Status.UNAUTHENTICATED;break;case 403:this.mappedStatusCode=s.Status.PERMISSION_DENIED;break;case 404:this.mappedStatusCode=s.Status.UNIMPLEMENTED;break;case 429:case 502:case 503:case 504:this.mappedStatusCode=s.Status.UNAVAILABLE;break;default:this.mappedStatusCode=s.Status.UNKNOWN}if(t&n.constants.NGHTTP2_FLAG_END_STREAM)this.handleTrailers(e);else{let t;try{t=o.Metadata.fromHttp2Headers(e)}catch(e){return void this.endCall({code:s.Status.UNKNOWN,details:e.message,metadata:new o.Metadata})}this.listener.onReceiveMetadata(t)}})),e.on("trailers",(e=>{this.handleTrailers(e)})),e.on("data",(e=>{if(this.statusOutput)return;let t;this.trace("receive HTTP/2 data frame of length "+e.length);try{t=this.decoder.write(e)}catch(e){return void this.cancelWithStatus(s.Status.RESOURCE_EXHAUSTED,e.message)}for(const e of t)this.trace("parsed message of length "+e.length),this.callEventTracker.addMessageReceived(),this.tryPush(e)})),e.on("end",(()=>{this.readsClosed=!0,this.maybeOutputStatus()})),e.on("close",(()=>{process.nextTick((()=>{var t;if(this.trace("HTTP/2 stream closed with code "+e.rstCode),(null===(t=this.finalStatus)||void 0===t?void 0:t.code)===s.Status.OK)return;let r,i="";switch(e.rstCode){case n.constants.NGHTTP2_NO_ERROR:if(null!==this.finalStatus)return;r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`;break;case n.constants.NGHTTP2_REFUSED_STREAM:r=s.Status.UNAVAILABLE,i="Stream refused by server";break;case n.constants.NGHTTP2_CANCEL:r=s.Status.CANCELLED,i="Call cancelled";break;case n.constants.NGHTTP2_ENHANCE_YOUR_CALM:r=s.Status.RESOURCE_EXHAUSTED,i="Bandwidth exhausted or memory limit exceeded";break;case n.constants.NGHTTP2_INADEQUATE_SECURITY:r=s.Status.PERMISSION_DENIED,i="Protocol not secure enough";break;case n.constants.NGHTTP2_INTERNAL_ERROR:r=s.Status.INTERNAL,null===this.internalError?i=`Received RST_STREAM with code ${e.rstCode} (Internal server error)`:"ECONNRESET"===this.internalError.code||"ETIMEDOUT"===this.internalError.code?(r=s.Status.UNAVAILABLE,i=this.internalError.message):i=`Received RST_STREAM with code ${e.rstCode} triggered by internal client error: ${this.internalError.message}`;break;default:r=s.Status.INTERNAL,i=`Received RST_STREAM with code ${e.rstCode}`}this.endCall({code:r,details:i,metadata:new o.Metadata,rstCode:e.rstCode})}))})),e.on("error",(e=>{"ERR_HTTP2_STREAM_ERROR"!==e.code&&(this.trace("Node error event: message="+e.message+" code="+e.code+" errno="+function(e){for(const[t,r]of Object.entries(i.constants.errno))if(r===e)return t;return"Unknown system error "+e}(e.errno)+" syscall="+e.syscall),this.internalError=e),this.callEventTracker.onStreamEnd(!1)}))}onDisconnect(){this.endCall({code:s.Status.UNAVAILABLE,details:"Connection dropped",metadata:new o.Metadata})}outputStatus(){this.statusOutput||(this.statusOutput=!0,this.trace("ended with status: code="+this.finalStatus.code+' details="'+this.finalStatus.details+'"'),this.callEventTracker.onCallEnd(this.finalStatus),process.nextTick((()=>{this.listener.onReceiveStatus(this.finalStatus)})),this.http2Stream.resume())}trace(e){c.trace(l.LogVerbosity.DEBUG,"subchannel_call","["+this.callId+"] "+e)}endCall(e){null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK||(this.finalStatus=e,this.maybeOutputStatus()),this.destroyHttp2Stream()}maybeOutputStatus(){null!==this.finalStatus&&(this.finalStatus.code!==s.Status.OK||this.readsClosed&&0===this.unpushedReadMessages.length&&!this.isReadFilterPending&&!this.isPushPending)&&this.outputStatus()}push(e){this.trace("pushing to reader message of length "+(e instanceof Buffer?e.length:null)),this.canPush=!1,this.isPushPending=!0,process.nextTick((()=>{this.isPushPending=!1,this.statusOutput||(this.listener.onReceiveMessage(e),this.maybeOutputStatus())}))}tryPush(e){this.canPush?(this.http2Stream.pause(),this.push(e)):(this.trace("unpushedReadMessages.push message of length "+e.length),this.unpushedReadMessages.push(e))}handleTrailers(e){this.callEventTracker.onStreamEnd(!0);let t,r="";for(const t of Object.keys(e))r+="\t\t"+t+": "+e[t]+"\n";this.trace("Received server trailers:\n"+r);try{t=o.Metadata.fromHttp2Headers(e)}catch(e){t=new o.Metadata}const n=t.getMap();let i=this.mappedStatusCode;if(i===s.Status.UNKNOWN&&"string"==typeof n["grpc-status"]){const e=Number(n["grpc-status"]);e in s.Status&&(i=e,this.trace("received status code "+e+" from server")),t.remove("grpc-status")}let a="";if("string"==typeof n["grpc-message"]){try{a=decodeURI(n["grpc-message"])}catch(e){a=n["grpc-message"]}t.remove("grpc-message"),this.trace('received status details string "'+a+'" from server')}const c={code:i,details:a,metadata:t};this.endCall(c)}destroyHttp2Stream(){var e;if(!this.http2Stream.destroyed){let t;t=(null===(e=this.finalStatus)||void 0===e?void 0:e.code)===s.Status.OK?n.constants.NGHTTP2_NO_ERROR:n.constants.NGHTTP2_CANCEL,this.trace("close http2 stream with code "+t),this.http2Stream.close(t)}}cancelWithStatus(e,t){this.trace("cancelWithStatus code: "+e+' details: "'+t+'"'),this.endCall({code:e,details:t,metadata:new o.Metadata})}getStatus(){return this.finalStatus}getPeer(){return this.transport.getPeerName()}getCallNumber(){return this.callId}startRead(){if(null!==this.finalStatus&&this.finalStatus.code!==s.Status.OK)return this.readsClosed=!0,void this.maybeOutputStatus();if(this.canPush=!0,this.unpushedReadMessages.length>0){const e=this.unpushedReadMessages.shift();this.push(e)}else this.http2Stream.resume()}sendMessageWithContext(e,t){this.trace("write() called with message of length "+t.length);const r=t=>{var r;let n=s.Status.UNAVAILABLE;"ERR_STREAM_WRITE_AFTER_END"===(null==t?void 0:t.code)&&(n=s.Status.INTERNAL),t&&this.cancelWithStatus(n,`Write error: ${t.message}`),null===(r=e.callback)||void 0===r||r.call(e)};this.trace("sending data chunk of length "+t.length),this.callEventTracker.addMessageSent();try{this.http2Stream.write(t,r)}catch(e){this.endCall({code:s.Status.UNAVAILABLE,details:`Write failed with error ${e.message}`,metadata:new o.Metadata})}}halfClose(){this.trace("end() called"),this.trace("calling end() on HTTP/2 stream"),this.http2Stream.end()}}},2379:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSubchannelWrapper=void 0,t.BaseSubchannelWrapper=class{constructor(e){this.child=e}getConnectivityState(){return this.child.getConnectivityState()}addConnectivityStateListener(e){this.child.addConnectivityStateListener(e)}removeConnectivityStateListener(e){this.child.removeConnectivityStateListener(e)}startConnecting(){this.child.startConnecting()}getAddress(){return this.child.getAddress()}throttleKeepalive(e){this.child.throttleKeepalive(e)}ref(){this.child.ref()}unref(){this.child.unref()}getChannelzRef(){return this.child.getChannelzRef()}getRealSubchannel(){return this.child.getRealSubchannel()}}},5716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubchannelPool=t.SubchannelPool=void 0;const n=r(6998),i=r(1385),s=r(8996),o=r(3822),a=r(2095);class c{constructor(){this.pool=Object.create(null),this.cleanupTimer=null}unrefUnusedSubchannels(){let e=!0;for(const t in this.pool){const r=this.pool[t].filter((e=>!e.subchannel.unrefIfOneRef()));r.length>0&&(e=!1),this.pool[t]=r}e&&null!==this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null)}ensureCleanupTask(){var e,t;null===this.cleanupTimer&&(this.cleanupTimer=setInterval((()=>{this.unrefUnusedSubchannels()}),1e4),null===(t=(e=this.cleanupTimer).unref)||void 0===t||t.call(e))}getOrCreateSubchannel(e,t,r,c){this.ensureCleanupTask();const l=(0,o.uriToString)(e);if(l in this.pool){const e=this.pool[l];for(const i of e)if((0,s.subchannelAddressEqual)(t,i.subchannelAddress)&&(0,n.channelOptionsEqual)(r,i.channelArguments)&&c._equals(i.channelCredentials))return i.subchannel}const u=new i.Subchannel(e,t,r,c,new a.Http2SubchannelConnector(e));return l in this.pool||(this.pool[l]=[]),this.pool[l].push({subchannelAddress:t,channelArguments:r,channelCredentials:c,subchannel:u}),u.ref(),u}}t.SubchannelPool=c;const l=new c;t.getSubchannelPool=function(e){return e?l:new c}},1385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Subchannel=void 0;const n=r(463),i=r(3956),s=r(267),o=r(131),a=r(3822),c=r(8996),l=r(9503);t.Subchannel=class{constructor(e,t,r,s,o){var a;this.channelTarget=e,this.subchannelAddress=t,this.options=r,this.credentials=s,this.connector=o,this.connectivityState=n.ConnectivityState.IDLE,this.transport=null,this.continueConnecting=!1,this.stateListeners=new Set,this.refcount=0,this.channelzEnabled=!0,this.callTracker=new l.ChannelzCallTracker,this.childrenTracker=new l.ChannelzChildrenTracker,this.streamTracker=new l.ChannelzCallTracker;const u={initialDelay:r["grpc.initial_reconnect_backoff_ms"],maxDelay:r["grpc.max_reconnect_backoff_ms"]};this.backoffTimeout=new i.BackoffTimeout((()=>{this.handleBackoffTimer()}),u),this.subchannelAddressString=(0,c.subchannelAddressToString)(t),this.keepaliveTime=null!==(a=r["grpc.keepalive_time_ms"])&&void 0!==a?a:-1,0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzTrace=new l.ChannelzTrace,this.channelzRef=(0,l.registerChannelzSubchannel)(this.subchannelAddressString,(()=>this.getChannelzInfo()),this.channelzEnabled),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Subchannel created"),this.trace("Subchannel constructed with options "+JSON.stringify(r,void 0,2))}getChannelzInfo(){return{state:this.connectivityState,trace:this.channelzTrace,callTracker:this.callTracker,children:this.childrenTracker.getChildLists(),target:this.subchannelAddressString}}trace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}refTrace(e){s.trace(o.LogVerbosity.DEBUG,"subchannel_refcount","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}handleBackoffTimer(){this.continueConnecting?this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING):this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.IDLE)}startBackoff(){this.backoffTimeout.runOnce()}stopBackoff(){this.backoffTimeout.stop(),this.backoffTimeout.reset()}startConnectingInternal(){let e=this.options;if(e["grpc.keepalive_time_ms"]){const t=Math.min(this.keepaliveTime,2147483647);e=Object.assign(Object.assign({},e),{"grpc.keepalive_time_ms":t})}this.connector.connect(this.subchannelAddress,this.credentials,e).then((e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.READY)&&(this.transport=e,this.channelzEnabled&&this.childrenTracker.refChild(e.getChannelzRef()),e.addDisconnectListener((e=>{this.transitionToState([n.ConnectivityState.READY],n.ConnectivityState.IDLE),e&&this.keepaliveTime>0&&(this.keepaliveTime*=2,s.log(o.LogVerbosity.ERROR,`Connection to ${(0,a.uriToString)(this.channelTarget)} at ${this.subchannelAddressString} rejected by server because of excess pings. Increasing ping interval to ${this.keepaliveTime} ms`))})))}),(e=>{this.transitionToState([n.ConnectivityState.CONNECTING],n.ConnectivityState.TRANSIENT_FAILURE)}))}transitionToState(e,t){var r,i;if(-1===e.indexOf(this.connectivityState))return!1;this.trace(n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]),this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO",n.ConnectivityState[this.connectivityState]+" -> "+n.ConnectivityState[t]);const s=this.connectivityState;switch(this.connectivityState=t,t){case n.ConnectivityState.READY:this.stopBackoff();break;case n.ConnectivityState.CONNECTING:this.startBackoff(),this.startConnectingInternal(),this.continueConnecting=!1;break;case n.ConnectivityState.TRANSIENT_FAILURE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(r=this.transport)||void 0===r||r.shutdown(),this.transport=null,this.backoffTimeout.isRunning()||process.nextTick((()=>{this.handleBackoffTimer()}));break;case n.ConnectivityState.IDLE:this.channelzEnabled&&this.transport&&this.childrenTracker.unrefChild(this.transport.getChannelzRef()),null===(i=this.transport)||void 0===i||i.shutdown(),this.transport=null;break;default:throw new Error(`Invalid state: unknown ConnectivityState ${t}`)}for(const e of this.stateListeners)e(this,s,t,this.keepaliveTime);return!0}ref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount+1)),this.refcount+=1}unref(){this.refTrace("refcount "+this.refcount+" -> "+(this.refcount-1)),this.refcount-=1,0===this.refcount&&(this.channelzEnabled&&this.channelzTrace.addTrace("CT_INFO","Shutting down"),this.channelzEnabled&&(0,l.unregisterChannelzRef)(this.channelzRef),process.nextTick((()=>{this.transitionToState([n.ConnectivityState.CONNECTING,n.ConnectivityState.READY],n.ConnectivityState.IDLE)})))}unrefIfOneRef(){return 1===this.refcount&&(this.unref(),!0)}createCall(e,t,r,n){if(!this.transport)throw new Error("Cannot create call, subchannel not READY");let i;return this.channelzEnabled?(this.callTracker.addCallStarted(),this.streamTracker.addCallStarted(),i={onCallEnd:e=>{e.code===o.Status.OK?this.callTracker.addCallSucceeded():this.callTracker.addCallFailed()}}):i={},this.transport.createCall(e,t,r,n,i)}startConnecting(){process.nextTick((()=>{this.transitionToState([n.ConnectivityState.IDLE],n.ConnectivityState.CONNECTING)||this.connectivityState===n.ConnectivityState.TRANSIENT_FAILURE&&(this.continueConnecting=!0)}))}getConnectivityState(){return this.connectivityState}addConnectivityStateListener(e){this.stateListeners.add(e)}removeConnectivityStateListener(e){this.stateListeners.delete(e)}resetBackoff(){process.nextTick((()=>{this.backoffTimeout.reset(),this.transitionToState([n.ConnectivityState.TRANSIENT_FAILURE],n.ConnectivityState.CONNECTING)}))}getAddress(){return this.subchannelAddressString}getChannelzRef(){return this.channelzRef}getRealSubchannel(){return this}throttleKeepalive(e){e>this.keepaliveTime&&(this.keepaliveTime=e)}}},9167:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultRootsData=t.CIPHER_SUITES=void 0;const n=r(9896);t.CIPHER_SUITES=process.env.GRPC_SSL_CIPHER_SUITES;const i=process.env.GRPC_DEFAULT_SSL_ROOTS_FILE_PATH;let s=null;t.getDefaultRootsData=function(){return i?(null===s&&(s=n.readFileSync(i)),s):null}},2095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Http2SubchannelConnector=void 0;const n=r(5675),i=r(4756),s=r(9503),o=r(131),a=r(7803),c=r(267),l=r(9302),u=r(8996),d=r(3822),h=r(9278),p=r(5486),f=r(5572),g="transport",m=r(9943).rE,{HTTP2_HEADER_AUTHORITY:y,HTTP2_HEADER_CONTENT_TYPE:v,HTTP2_HEADER_METHOD:b,HTTP2_HEADER_PATH:S,HTTP2_HEADER_TE:E,HTTP2_HEADER_USER_AGENT:_}=n.constants,w=Buffer.from("too_many_pings","ascii");class C{constructor(e,t,r,i){this.session=e,this.options=r,this.remoteName=i,this.keepaliveTimeMs=-1,this.keepaliveTimeoutMs=2e4,this.keepaliveTimerId=null,this.pendingSendKeepalivePing=!1,this.keepaliveTimeoutId=null,this.keepaliveWithoutCalls=!1,this.activeCalls=new Set,this.disconnectListeners=[],this.disconnectHandled=!1,this.channelzEnabled=!0,this.streamTracker=new s.ChannelzCallTracker,this.keepalivesSent=0,this.messagesSent=0,this.messagesReceived=0,this.lastMessageSentTimestamp=null,this.lastMessageReceivedTimestamp=null,this.subchannelAddressString=(0,u.subchannelAddressToString)(t),0===r["grpc.enable_channelz"]&&(this.channelzEnabled=!1),this.channelzRef=(0,s.registerChannelzSocket)(this.subchannelAddressString,(()=>this.getChannelzInfo()),this.channelzEnabled),this.userAgent=[r["grpc.primary_user_agent"],`grpc-node-js/${m}`,r["grpc.secondary_user_agent"]].filter((e=>e)).join(" "),"grpc.keepalive_time_ms"in r&&(this.keepaliveTimeMs=r["grpc.keepalive_time_ms"]),"grpc.keepalive_timeout_ms"in r&&(this.keepaliveTimeoutMs=r["grpc.keepalive_timeout_ms"]),this.keepaliveWithoutCalls="grpc.keepalive_permit_without_calls"in r&&1===r["grpc.keepalive_permit_without_calls"],e.once("close",(()=>{this.trace("session closed"),this.stopKeepalivePings(),this.handleDisconnect()})),e.once("goaway",((e,t,r)=>{let i=!1;e===n.constants.NGHTTP2_ENHANCE_YOUR_CALM&&r.equals(w)&&(i=!0),this.trace("connection closed by GOAWAY with code "+e),this.reportDisconnectToOwner(i)})),e.once("error",(e=>{this.trace("connection closed with error "+e.message)})),c.isTracerEnabled(g)&&(e.on("remoteSettings",(t=>{this.trace("new settings received"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))})),e.on("localSettings",(t=>{this.trace("local settings acknowledged by remote"+(this.session!==e?" on the old connection":"")+": "+JSON.stringify(t))}))),this.keepaliveWithoutCalls&&this.maybeStartKeepalivePingTimer()}getChannelzInfo(){var e,t,r;const n=this.session.socket,i=n.remoteAddress?(0,u.stringToSubchannelAddress)(n.remoteAddress,n.remotePort):null,s=n.localAddress?(0,u.stringToSubchannelAddress)(n.localAddress,n.localPort):null;let o;if(this.session.encrypted){const t=n,r=t.getCipher(),i=t.getCertificate(),s=t.getPeerCertificate();o={cipherSuiteStandardName:null!==(e=r.standardName)&&void 0!==e?e:null,cipherSuiteOtherName:r.standardName?null:r.name,localCertificate:i&&"raw"in i?i.raw:null,remoteCertificate:s&&"raw"in s?s.raw:null}}else o=null;return{remoteAddress:i,localAddress:s,security:o,remoteName:this.remoteName,streamsStarted:this.streamTracker.callsStarted,streamsSucceeded:this.streamTracker.callsSucceeded,streamsFailed:this.streamTracker.callsFailed,messagesSent:this.messagesSent,messagesReceived:this.messagesReceived,keepAlivesSent:this.keepalivesSent,lastLocalStreamCreatedTimestamp:this.streamTracker.lastCallStartedTimestamp,lastRemoteStreamCreatedTimestamp:null,lastMessageSentTimestamp:this.lastMessageSentTimestamp,lastMessageReceivedTimestamp:this.lastMessageReceivedTimestamp,localFlowControlWindow:null!==(t=this.session.state.localWindowSize)&&void 0!==t?t:null,remoteFlowControlWindow:null!==(r=this.session.state.remoteWindowSize)&&void 0!==r?r:null}}trace(e){c.trace(o.LogVerbosity.DEBUG,g,"("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}keepaliveTrace(e){c.trace(o.LogVerbosity.DEBUG,"keepalive","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}flowControlTrace(e){c.trace(o.LogVerbosity.DEBUG,"transport_flowctrl","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}internalsTrace(e){c.trace(o.LogVerbosity.DEBUG,"transport_internals","("+this.channelzRef.id+") "+this.subchannelAddressString+" "+e)}reportDisconnectToOwner(e){this.disconnectHandled||(this.disconnectHandled=!0,this.disconnectListeners.forEach((t=>t(e))))}handleDisconnect(){this.reportDisconnectToOwner(!1),setImmediate((()=>{for(const e of this.activeCalls)e.onDisconnect()}))}addDisconnectListener(e){this.disconnectListeners.push(e)}clearKeepaliveTimer(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null)}clearKeepaliveTimeout(){this.keepaliveTimeoutId&&(clearTimeout(this.keepaliveTimeoutId),this.keepaliveTimeoutId=null)}canSendPing(){return this.keepaliveTimeMs>0&&(this.keepaliveWithoutCalls||this.activeCalls.size>0)}maybeSendPing(){var e,t;if(this.clearKeepaliveTimer(),this.canSendPing()){this.channelzEnabled&&(this.keepalivesSent+=1),this.keepaliveTrace("Sending ping with timeout "+this.keepaliveTimeoutMs+"ms"),this.keepaliveTimeoutId||(this.keepaliveTimeoutId=setTimeout((()=>{this.keepaliveTrace("Ping timeout passed without response"),this.handleDisconnect()}),this.keepaliveTimeoutMs),null===(t=(e=this.keepaliveTimeoutId).unref)||void 0===t||t.call(e));try{this.session.ping(((e,t,r)=>{this.keepaliveTrace("Received ping response"),this.clearKeepaliveTimeout(),this.maybeStartKeepalivePingTimer()}))}catch(e){this.handleDisconnect()}}else this.pendingSendKeepalivePing=!0}maybeStartKeepalivePingTimer(){var e,t;this.canSendPing()&&(this.pendingSendKeepalivePing?(this.pendingSendKeepalivePing=!1,this.maybeSendPing()):this.keepaliveTimerId||this.keepaliveTimeoutId||(this.keepaliveTrace("Starting keepalive timer for "+this.keepaliveTimeMs+"ms"),this.keepaliveTimerId=null===(t=(e=setTimeout((()=>{this.maybeSendPing()}),this.keepaliveTimeMs)).unref)||void 0===t?void 0:t.call(e)))}stopKeepalivePings(){this.keepaliveTimerId&&(clearTimeout(this.keepaliveTimerId),this.keepaliveTimerId=null),this.clearKeepaliveTimeout()}removeActiveCall(e){this.activeCalls.delete(e),0===this.activeCalls.size&&this.session.unref()}addActiveCall(e){this.activeCalls.add(e),1===this.activeCalls.size&&(this.session.ref(),this.keepaliveWithoutCalls||this.maybeStartKeepalivePingTimer())}createCall(e,t,r,n,i){const s=e.toHttp2Headers();let o,a,c;s[y]=t,s[_]=this.userAgent,s[v]="application/grpc",s[b]="POST",s[S]=r,s[E]="trailers";try{o=this.session.request(s)}catch(e){throw this.handleDisconnect(),e}return this.flowControlTrace("local window size: "+this.session.state.localWindowSize+" remote window size: "+this.session.state.remoteWindowSize),this.internalsTrace("session.closed="+this.session.closed+" session.destroyed="+this.session.destroyed+" session.socket.destroyed="+this.session.socket.destroyed),this.channelzEnabled?(this.streamTracker.addCallStarted(),a={addMessageSent:()=>{var e;this.messagesSent+=1,this.lastMessageSentTimestamp=new Date,null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;this.messagesReceived+=1,this.lastMessageReceivedTimestamp=new Date,null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(c)},onStreamEnd:e=>{var t;e?this.streamTracker.addCallSucceeded():this.streamTracker.addCallFailed(),null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}}):a={addMessageSent:()=>{var e;null===(e=i.addMessageSent)||void 0===e||e.call(i)},addMessageReceived:()=>{var e;null===(e=i.addMessageReceived)||void 0===e||e.call(i)},onCallEnd:e=>{var t;null===(t=i.onCallEnd)||void 0===t||t.call(i,e),this.removeActiveCall(c)},onStreamEnd:e=>{var t;null===(t=i.onStreamEnd)||void 0===t||t.call(i,e)}},c=new p.Http2SubchannelCall(o,a,n,this,(0,f.getNextCallNumber)()),this.addActiveCall(c),c}getChannelzRef(){return this.channelzRef}getPeerName(){return this.subchannelAddressString}getOptions(){return this.options}shutdown(){this.session.close(),(0,s.unregisterChannelzRef)(this.channelzRef)}}t.Http2SubchannelConnector=class{constructor(e){this.channelTarget=e,this.session=null,this.isShutdown=!1}trace(e){c.trace(o.LogVerbosity.DEBUG,g,this.channelTarget+" "+e)}createSession(e,t,r,s){return this.isShutdown?Promise.reject():new Promise(((o,a)=>{var c,p,f;let g;s.realTarget?(g=(0,d.uriToString)(s.realTarget),this.trace("creating HTTP/2 session through proxy to "+(0,d.uriToString)(s.realTarget))):(g=null,this.trace("creating HTTP/2 session to "+(0,u.subchannelAddressToString)(e)));const m=(0,l.getDefaultAuthority)(null!==(c=s.realTarget)&&void 0!==c?c:this.channelTarget);let y=t._getConnectionOptions()||{};y.maxSendHeaderBlockLength=Number.MAX_SAFE_INTEGER,y.maxSessionMemory="grpc-node.max_session_memory"in r?r["grpc-node.max_session_memory"]:Number.MAX_SAFE_INTEGER;let v="http://";if("secureContext"in y){if(v="https://",r["grpc.ssl_target_name_override"]){const e=r["grpc.ssl_target_name_override"];y.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),y.servername=e}else{const e=null!==(f=null===(p=(0,d.splitHostPort)(m))||void 0===p?void 0:p.host)&&void 0!==f?f:"localhost";y.servername=e}s.socket&&(y.createConnection=(e,t)=>s.socket)}else y.createConnection=(t,r)=>s.socket?s.socket:h.connect(e);y=Object.assign(Object.assign({},y),e);const b=n.connect(v+m,y);this.session=b,b.unref(),b.once("connect",(()=>{b.removeAllListeners(),o(new C(b,e,r,g)),this.session=null})),b.once("close",(()=>{this.session=null,a()})),b.once("error",(e=>{this.trace("connection failed with error "+e.message)}))}))}connect(e,t,r){var n,s;if(this.isShutdown)return Promise.reject();const o=t._getConnectionOptions()||{};if("secureContext"in o)if(o.ALPNProtocols=["h2"],r["grpc.ssl_target_name_override"]){const e=r["grpc.ssl_target_name_override"];o.checkServerIdentity=(t,r)=>(0,i.checkServerIdentity)(e,r),o.servername=e}else if("grpc.http_connect_target"in r){const e=(0,l.getDefaultAuthority)(null!==(n=(0,d.parseUri)(r["grpc.http_connect_target"]))&&void 0!==n?n:{path:"localhost"}),t=(0,d.splitHostPort)(e);o.servername=null!==(s=null==t?void 0:t.host)&&void 0!==s?s:e}return(0,a.getProxiedConnection)(e,r,o).then((n=>this.createSession(e,t,r,n)))}shutdown(){var e;this.isShutdown=!0,null===(e=this.session)||void 0===e||e.close(),this.session=null}}},3822:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uriToString=t.splitHostPort=t.parseUri=void 0;const r=/^(?:([A-Za-z0-9+.-]+):)?(?:\/\/([^/]*)\/)?(.+)$/;t.parseUri=function(e){const t=r.exec(e);return null===t?null:{scheme:t[1],authority:t[2],path:t[3]}};const n=/^\d+$/;t.splitHostPort=function(e){if(e.startsWith("[")){const t=e.indexOf("]");if(-1===t)return null;const r=e.substring(1,t);if(-1===r.indexOf(":"))return null;if(e.length>t+1){if(":"===e[t+1]){const i=e.substring(t+2);return n.test(i)?{host:r,port:+i}:null}return null}return{host:r}}{const t=e.split(":");return 2===t.length?n.test(t[1])?{host:t[0],port:+t[1]}:null:{host:e}}},t.uriToString=function(e){let t="";return void 0!==e.scheme&&(t+=e.scheme+":"),void 0!==e.authority&&(t+="//"+e.authority+"/"),t+=e.path,t}},6340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadFileDescriptorSetFromObject=t.loadFileDescriptorSetFromBuffer=t.fromJSON=t.loadSync=t.load=t.isAnyExtension=t.Long=void 0;const n=r(2028),i=r(2549),s=r(5407),o=r(1238),a=r(8570);t.Long=a,t.isAnyExtension=function(e){return"@type"in e&&"string"==typeof e["@type"]};const c={longs:String,enums:String,bytes:String,defaults:!0,oneofs:!0,json:!0};function l(e,t){const r=(n=t,s=e.name,""===n?s:n+"."+s);var n,s;return function(e){return e instanceof i.Service||e instanceof i.Type||e instanceof i.Enum}(e)?[[r,e]]:function(e){return e instanceof i.Namespace||e instanceof i.Root}(e)&&void 0!==e.nested?Object.keys(e.nested).map((t=>l(e.nested[t],r))).reduce(((e,t)=>e.concat(t)),[]):[]}function u(e,t){return function(r){return e.toObject(e.decode(r),t)}}function d(e){return function(t){if(Array.isArray(t))throw new Error(`Failed to serialize message: expected object with ${e.name} structure, got array instead`);const r=e.fromObject(t);return e.encode(r).finish()}}function h(e,t,r,i){const s=e.resolvedRequestType,o=e.resolvedResponseType;return{path:"/"+t+"/"+e.name,requestStream:!!e.requestStream,responseStream:!!e.responseStream,requestSerialize:d(s),requestDeserialize:u(s,r),responseSerialize:d(o),responseDeserialize:u(o,r),originalName:n(e.name),requestType:p(s,i),responseType:p(o,i)}}function p(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 DescriptorProto",type:r.$type.toObject(r,c),fileDescriptorProtos:t}}function f(e,t,r,n){if(e instanceof i.Service)return function(e,t,r,n){const i={};for(const s of e.methodsArray)i[s.name]=h(s,t,r,n);return i}(e,t,r,n);if(e instanceof i.Type)return p(e,n);if(e instanceof i.Enum)return function(e,t){const r=e.toDescriptor("proto3");return{format:"Protocol Buffer 3 EnumDescriptorProto",type:r.$type.toObject(r,c),fileDescriptorProtos:t}}(e,n);throw new Error("Type mismatch in reflection object handling")}function g(e,t){const r={};e.resolveAll();const n=e.toDescriptor("proto3").file.map((e=>Buffer.from(s.FileDescriptorProto.encode(e).finish())));for(const[i,s]of l(e,""))r[i]=f(s,i,t,n);return r}function m(e,t){t=t||{};const r=i.Root.fromDescriptor(e);return r.resolveAll(),g(r,t)}t.load=function(e,t){return(0,o.loadProtosWithOptions)(e,t).then((e=>g(e,t)))},t.loadSync=function(e,t){return g((0,o.loadProtosWithOptionsSync)(e,t),t)},t.fromJSON=function(e,t){t=t||{};const r=i.Root.fromJSON(e);return r.resolveAll(),g(r,t)},t.loadFileDescriptorSetFromBuffer=function(e,t){return m(s.FileDescriptorSet.decode(e),t)},t.loadFileDescriptorSetFromObject=function(e,t){return m(s.FileDescriptorSet.fromObject(e),t)},(0,o.addCommonProtos)()},1238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addCommonProtos=t.loadProtosWithOptionsSync=t.loadProtosWithOptions=void 0;const n=r(9896),i=r(6928),s=r(2549);function o(e,t){const r=e.resolvePath;e.resolvePath=(e,s)=>{if(i.isAbsolute(s))return s;for(const e of t){const t=i.join(e,s);try{return n.accessSync(t,n.constants.R_OK),t}catch(e){continue}}return process.emitWarning(`${s} not found in any of the include paths ${t}`),r(e,s)}}t.loadProtosWithOptions=async function(e,t){const r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))return Promise.reject(new Error("The includeDirs option must be an array"));o(r,t.includeDirs)}const n=await r.load(e,t);return n.resolveAll(),n},t.loadProtosWithOptionsSync=function(e,t){const r=new s.Root;if((t=t||{}).includeDirs){if(!Array.isArray(t.includeDirs))throw new Error("The includeDirs option must be an array");o(r,t.includeDirs)}const n=r.loadSync(e,t);return n.resolveAll(),n},t.addCommonProtos=function(){const e=r(5434),t=r(3951),n=r(2939),i=r(6710);s.common("api",e.nested.google.nested.protobuf.nested),s.common("descriptor",t.nested.google.nested.protobuf.nested),s.common("source_context",n.nested.google.nested.protobuf.nested),s.common("type",i.nested.google.nested.protobuf.nested)}},867:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const n=r(9896);t.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}},4584:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const r=process.versions.node.split(".");if(void 0===r[0]||void 0===r[1])throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const n=Number.parseInt(r[0],10),i=Number.parseInt(r[1],10),s=n>10,o=10===n&&i>=10;t.IS_SUPPORT_READDIR_WITH_FILE_TYPES=s||o},5857:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.scandirSync=t.scandir=void 0;const n=r(3160),i=r(7753),s=r(1212);function o(e={}){return e instanceof s.default?e:new s.default(e)}t.Settings=s.default,t.scandir=function(e,t,r){"function"!=typeof t?n.read(e,o(t),r):n.read(e,o(),t)},t.scandirSync=function(e,t){const r=o(t);return i.read(e,r)}},3160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0;const n=r(8631),i=r(8190),s=r(4584),o=r(8947),a=r(951);function c(e,t,r){t.fs.readdir(e,{withFileTypes:!0},((n,s)=>{if(null!==n)return void u(r,n);const c=s.map((r=>({dirent:r,name:r.name,path:a.joinPathSegments(e,r.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return void d(r,c);const l=c.map((e=>function(e,t){return r=>{e.dirent.isSymbolicLink()?t.fs.stat(e.path,((n,i)=>{if(null!==n)return t.throwErrorOnBrokenSymbolicLink?void r(n):void r(null,e);e.dirent=o.fs.createDirentFromStats(e.name,i),r(null,e)})):r(null,e)}}(e,t)));i(l,((e,t)=>{null===e?d(r,t):u(r,e)}))}))}function l(e,t,r){t.fs.readdir(e,((s,c)=>{if(null!==s)return void u(r,s);const l=c.map((r=>{const i=a.joinPathSegments(e,r,t.pathSegmentSeparator);return e=>{n.stat(i,t.fsStatSettings,((n,s)=>{if(null!==n)return void e(n);const a={name:r,path:i,dirent:o.fs.createDirentFromStats(r,s)};t.stats&&(a.stats=s),e(null,a)}))}}));i(l,((e,t)=>{null===e?d(r,t):u(r,e)}))}))}function u(e,t){e(t)}function d(e,t){e(null,t)}t.read=function(e,t,r){t.stats||!s.IS_SUPPORT_READDIR_WITH_FILE_TYPES?l(e,t,r):c(e,t,r)},t.readdirWithFileTypes=c,t.readdir=l},951:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=void 0,t.joinPathSegments=function(e,t,r){return e.endsWith(r)?e+t:e+r+t}},7753:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readdir=t.readdirWithFileTypes=t.read=void 0;const n=r(8631),i=r(4584),s=r(8947),o=r(951);function a(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((r=>{const n={dirent:r,name:r.name,path:o.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(n.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(n.path);n.dirent=s.fs.createDirentFromStats(n.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return n}))}function c(e,t){return t.fs.readdirSync(e).map((r=>{const i=o.joinPathSegments(e,r,t.pathSegmentSeparator),a=n.statSync(i,t.fsStatSettings),c={name:r,path:i,dirent:s.fs.createDirentFromStats(r,a)};return t.stats&&(c.stats=a),c}))}t.read=function(e,t){return!t.stats&&i.IS_SUPPORT_READDIR_WITH_FILE_TYPES?a(e,t):c(e,t)},t.readdirWithFileTypes=a,t.readdir=c},1212:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6928),i=r(8631),s=r(867);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=s.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new i.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}}},8352:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},8947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fs=void 0;const n=r(8352);t.fs=n},7105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFileSystemAdapter=t.FILE_SYSTEM_ADAPTER=void 0;const n=r(9896);t.FILE_SYSTEM_ADAPTER={lstat:n.lstat,stat:n.stat,lstatSync:n.lstatSync,statSync:n.statSync},t.createFileSystemAdapter=function(e){return void 0===e?t.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},t.FILE_SYSTEM_ADAPTER),e)}},8631:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.statSync=t.stat=t.Settings=void 0;const n=r(3041),i=r(7675),s=r(1682);function o(e={}){return e instanceof s.default?e:new s.default(e)}t.Settings=s.default,t.stat=function(e,t,r){"function"!=typeof t?n.read(e,o(t),r):n.read(e,o(),t)},t.statSync=function(e,t){const r=o(t);return i.read(e,r)}},3041:(e,t)=>{"use strict";function r(e,t){e(t)}function n(e,t){e(null,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t,i){t.fs.lstat(e,((s,o)=>{null===s?o.isSymbolicLink()&&t.followSymbolicLink?t.fs.stat(e,((e,s)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?void r(i,e):void n(i,o);t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),n(i,s)})):n(i,o):r(i,s)}))}},7675:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.read=void 0,t.read=function(e,t){const r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{const r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw e}}},1682:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7105);t.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=n.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}}},764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Settings=t.walkStream=t.walkSync=t.walk=void 0;const n=r(6105),i=r(5981),s=r(6354),o=r(611);function a(e={}){return e instanceof o.default?e:new o.default(e)}t.Settings=o.default,t.walk=function(e,t,r){"function"!=typeof t?new n.default(e,a(t)).read(r):new n.default(e,a()).read(t)},t.walkSync=function(e,t){const r=a(t);return new s.default(e,r).read()},t.walkStream=function(e,t){const r=a(t);return new i.default(e,r).read()}},6105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2695);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new n.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.push(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,this._storage)})),this._reader.read()}}},5981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2203),i=r(2695);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new i.default(this._root,this._settings),this._stream=new n.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}}},6354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7660);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new n.default(this._root,this._settings)}read(){return this._reader.read()}}},2695:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(4434),i=r(5857),s=r(6697),o=r(9966),a=r(5700);class c extends a.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=i.scandir,this._emitter=new n.EventEmitter,this._queue=s(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const r={directory:e,base:t};this._queue.push(r,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((r,n)=>{if(null===r){for(const t of n)this._handleEntry(t,e.base);t(null,void 0)}else t(r,void 0)}))}_handleError(e){!this._isDestroyed&&o.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const r=e.path;void 0!==t&&(e.path=o.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),o.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&o.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}t.default=c},9966:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinPathSegments=t.replacePathSegmentSeparator=t.isAppliedFilter=t.isFatalError=void 0,t.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},t.isAppliedFilter=function(e,t){return null===e||e(t)},t.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},t.joinPathSegments=function(e,t,r){return""===e?t:e.endsWith(r)?e+t:e+r+t}},5700:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9966);t.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=n.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}}},7660:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5857),i=r(9966),s=r(5700);class o extends s.default{constructor(){super(...arguments),this._scandir=n.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const r=this._scandir(e,this._settings.fsScandirSettings);for(const e of r)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(i.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const r=e.path;void 0!==t&&(e.path=i.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),i.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&i.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}t.default=o},611:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6928),i=r(5857);t.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,n.sep),this.fsScandirSettings=new i.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}}},8045:e=>{"use strict";e.exports=function(e,t){for(var r=new Array(arguments.length-1),n=0,i=2,s=!0;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,o){r[n]=function(e){if(s)if(s=!1,e)o(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(e){s&&(s=!1,o(e))}}))}},8839:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;r.encode=function(e,t,r){for(var i,s=null,o=[],a=0,c=0;t<r;){var l=e[t++];switch(c){case 0:o[a++]=n[l>>2],i=(3&l)<<4,c=1;break;case 1:o[a++]=n[i|l>>4],i=(15&l)<<2,c=2;break;case 2:o[a++]=n[i|l>>6],o[a++]=n[63&l],c=0}a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0)}return c&&(o[a++]=n[i],o[a++]=61,1===c&&(o[a++]=61)),s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};var o="invalid encoding";r.decode=function(e,t,r){for(var n,s=r,a=0,c=0;c<e.length;){var l=e.charCodeAt(c++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error(o);switch(a){case 0:n=l,a=1;break;case 1:t[r++]=n<<2|(48&l)>>4,n=l,a=2;break;case 2:t[r++]=(15&n)<<4|(60&l)>>2,n=l,a=3;break;case 3:t[r++]=(3&n)<<6|l,a=0}}if(1===a)throw Error(o);return r-s},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},8561:e=>{"use strict";function t(e,r){"string"==typeof e&&(r=e,e=void 0);var n=[];function i(e){if("string"!=typeof e){var r=s();if(t.verbose&&console.log("codegen: "+r),r="return "+r,e){for(var o=Object.keys(e),a=new Array(o.length+1),c=new Array(o.length),l=0;l<o.length;)a[l]=o[l],c[l]=e[o[l++]];return a[l]=r,Function.apply(null,a).apply(null,c)}return Function(r)()}for(var u=new Array(arguments.length-1),d=0;d<u.length;)u[d]=arguments[++d];if(d=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=u[d++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),d!==u.length)throw Error("parameter count mismatch");return n.push(e),i}function s(t){return"function "+(t||r||"")+"("+(e&&e.join(",")||"")+"){\n  "+n.join("\n  ")+"\n}"}return i.toString=s,i}e.exports=t,t.verbose=!1},4358:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},5212:(e,t,r)=>{"use strict";e.exports=s;var n=r(8045),i=r(4153)("fs");function s(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&i&&i.readFile?i.readFile(e,(function(n,i){return n&&"undefined"!=typeof XMLHttpRequest?s.xhr(e,t,r):n?r(n):r(null,t.binary?i:i.toString("utf8"))})):s.xhr(e,t,r):n(s,this,e,t)}s.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var i=0;i<n.responseText.length;++i)e.push(255&n.responseText.charCodeAt(i))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},9410:e=>{"use strict";function t(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function s(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:s,e.writeFloatBE=n?s:i,e.readFloatLE=n?o:a,e.readFloatBE=n?a:o}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var s=Math.floor(Math.log(t)/Math.LN2);e((i<<31|s+127<<23|8388607&Math.round(t*Math.pow(2,-s)*8388608))>>>0,r,n)}}function o(e,t,r){var n=e(t,r),i=2*(n>>31)+1,s=n>>>23&255,o=8388607&n;return 255===s?o?NaN:i*(1/0):0===s?1401298464324817e-60*i*o:i*Math.pow(2,s-150)*(o+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=o.bind(null,i),e.readFloatBE=o.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function s(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function o(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:s,e.writeDoubleBE=n?s:i,e.readDoubleLE=n?o:a,e.readDoubleBE=n?a:o}():function(){function t(e,t,r,n,i,s){var o=n<0?1:0;if(o&&(n=-n),0===n)e(0,i,s+t),e(1/n>0?0:2147483648,i,s+r);else if(isNaN(n))e(0,i,s+t),e(2146959360,i,s+r);else if(n>17976931348623157e292)e(0,i,s+t),e((o<<31|2146435072)>>>0,i,s+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,s+t),e((o<<31|a/4294967296)>>>0,i,s+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,s+t),e((o<<31|c+1023<<20|1048576*a&1048575)>>>0,i,s+r)}}}function o(e,t,r,n,i){var s=e(n,i+t),o=e(n,i+r),a=2*(o>>31)+1,c=o>>>20&2047,l=4294967296*(1048575&o)+s;return 2047===c?l?NaN:a*(1/0):0===c?5e-324*a*l:a*Math.pow(2,c-1075)*(l+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=o.bind(null,i,0,4),e.readDoubleBE=o.bind(null,s,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},4153:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},9207:(e,t)=>{"use strict";var r=t,n=r.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=r.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=n(e),i="";r&&(i=t.shift()+"/");for(var s=0;s<t.length;)".."===t[s]?s>0&&".."!==t[s-1]?t.splice(--s,2):r?t.splice(s,1):++s:"."===t[s]?t.splice(s,1):++s;return i+t.join("/")};r.resolve=function(e,t,r){return r||(t=i(t)),n(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},9390:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,s=null,o=n;return function(r){if(r<1||r>i)return e(r);o+r>n&&(s=e(n),o=0);var a=t.call(s,o,o+=r);return 7&o&&(o=1+(7|o)),a}}},1447:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,s=[],o=0;t<r;)(n=e[t++])<128?s[o++]=n:n>191&&n<224?s[o++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,s[o++]=55296+(n>>10),s[o++]=56320+(1023&n)):s[o++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],o>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,s)),o=0);return i?(o&&i.push(String.fromCharCode.apply(String,s.slice(0,o))),i.join("")):String.fromCharCode.apply(String,s.slice(0,o))},r.write=function(e,t,r){for(var n,i,s=r,o=0;o<e.length;++o)(n=e.charCodeAt(o))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(i=e.charCodeAt(o+1)))?(n=65536+((1023&n)<<10)+(1023&i),++o,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-s}},3576:e=>{"use strict";e.exports=(...e)=>[...new Set([].concat(...e))]},27:(e,t,r)=>{"use strict";const n=r(290),i=new Map;let s=0;const o=/\((internal\/)?async_hooks\.js:/;function a(){const e=process.hrtime();return 1e6*e[0]+e[1]/1e3}e.exports=(e,t)=>{let r;(t=t||{}).threshold=t.threshold||20,t.resourcesCap=t.resourcesCap||0,Error.stackTraceLimit=1/0;const c=n.createHook({init:function(e,r,n,o){const a={};Error.captureStackTrace(a),l("init",e);const c={asyncId:e,type:r,stack:a.stack};t.resourcesCap>s&&(c.resource=o,s+=1),i.set(e,c)},before:function(e){l("before",e),t.trimFalsePositives&&(r=e);const n=i.get(e);n&&(n.t0=a())},after:function(n){if(l("after",n),t.trimFalsePositives&&r!==n)return;const s=i.get(n);if(!s)return;const c=(a()-s.t0)/1e3;c>t.threshold&&(l("stack",s.stack),e(c,function(e){const t=e.split("\n");let r=t.length-1;for(;r&&!o.test(t[r]);)r--;return t.slice(r+1,e.length-1)}(s.stack),{type:s.type,resource:s.resource}))},destroy:function(e){const t=i.get(e);t&&(t.resource&&(s-=1),i.delete(e))}}),l=(e,r)=>t.debug&&process._rawDebug(e,r);return c.enable(),{stop:()=>{c.disable()}}}},4537:(e,t,r)=>{"use strict";const n=r(3720),i=r(8712),s=r(8697),o=r(2598),a=(e,t={})=>{let r=[];if(Array.isArray(e))for(const n of e){const e=a.create(n,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(a.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};a.parse=(e,t={})=>o(e,t),a.stringify=(e,t={})=>n("string"==typeof e?a.parse(e,t):e,t),a.compile=(e,t={})=>("string"==typeof e&&(e=a.parse(e,t)),i(e,t)),a.expand=(e,t={})=>{"string"==typeof e&&(e=a.parse(e,t));let r=s(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},a.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?a.compile(e,t):a.expand(e,t),e.exports=a},8712:(e,t,r)=>{"use strict";const n=r(7028),i=r(7612);e.exports=(e,t={})=>{const r=(e,s={})=>{const o=i.isInvalidBrace(s),a=!0===e.invalid&&!0===t.escapeInvalid,c=!0===o||!0===a,l=!0===t.escapeInvalid?"\\":"";let u="";if(!0===e.isOpen)return l+e.value;if(!0===e.isClose)return console.log("node.isClose",l,e.value),l+e.value;if("open"===e.type)return c?l+e.value:"(";if("close"===e.type)return c?l+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":c?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){const r=i.reduce(e.nodes),s=n(...r,{...t,wrap:!1,toRegex:!0,strictZeros:!0});if(0!==s.length)return r.length>1&&s.length>1?`(${s})`:s}if(e.nodes)for(const t of e.nodes)u+=r(t,e);return u};return r(e)}},8776:e=>{"use strict";e.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"}},8697:(e,t,r)=>{"use strict";const n=r(7028),i=r(3720),s=r(7612),o=(e="",t="",r=!1)=>{const n=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?s.flatten(t).map((e=>`{${e}}`)):t;for(const i of e)if(Array.isArray(i))for(const e of i)n.push(o(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),n.push(Array.isArray(e)?o(i,e,r):i+e);return s.flatten(n)};e.exports=(e,t={})=>{const r=void 0===t.rangeLimit?1e3:t.rangeLimit,a=(e,c={})=>{e.queue=[];let l=c,u=c.queue;for(;"brace"!==l.type&&"root"!==l.type&&l.parent;)l=l.parent,u=l.queue;if(e.invalid||e.dollar)return void u.push(o(u.pop(),i(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void u.push(o(u.pop(),["{}"]));if(e.nodes&&e.ranges>0){const a=s.reduce(e.nodes);if(s.exceedsLimit(...a,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let c=n(...a,t);return 0===c.length&&(c=i(e,t)),u.push(o(u.pop(),c)),void(e.nodes=[])}const d=s.encloseBrace(e);let h=e.queue,p=e;for(;"brace"!==p.type&&"root"!==p.type&&p.parent;)p=p.parent,h=p.queue;for(let t=0;t<e.nodes.length;t++){const r=e.nodes[t];"comma"!==r.type||"brace"!==e.type?"close"!==r.type?r.value&&"open"!==r.type?h.push(o(h.pop(),r.value)):r.nodes&&a(r,e):u.push(o(u.pop(),h,d)):(1===t&&h.push(""),h.push(""))}return h};return s.flatten(a(e))}},2598:(e,t,r)=>{"use strict";const n=r(3720),{MAX_LENGTH:i,CHAR_BACKSLASH:s,CHAR_BACKTICK:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_LEFT_PARENTHESES:l,CHAR_RIGHT_PARENTHESES:u,CHAR_LEFT_CURLY_BRACE:d,CHAR_RIGHT_CURLY_BRACE:h,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_RIGHT_SQUARE_BRACKET:f,CHAR_DOUBLE_QUOTE:g,CHAR_SINGLE_QUOTE:m,CHAR_NO_BREAK_SPACE:y,CHAR_ZERO_WIDTH_NOBREAK_SPACE:v}=r(8776);e.exports=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");const r=t||{},b="number"==typeof r.maxLength?Math.min(i,r.maxLength):i;if(e.length>b)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${b})`);const S={type:"root",input:e,nodes:[]},E=[S];let _=S,w=S,C=0;const T=e.length;let R,k=0,A=0;const O=()=>e[k++],x=e=>{if("text"===e.type&&"dot"===w.type&&(w.type="text"),!w||"text"!==w.type||"text"!==e.type)return _.nodes.push(e),e.parent=_,e.prev=w,w=e,e;w.value+=e.value};for(x({type:"bos"});k<T;)if(_=E[E.length-1],R=O(),R!==v&&R!==y)if(R!==s)if(R!==f)if(R!==p)if(R!==l)if(R!==u)if(R!==g&&R!==m&&R!==o)if(R!==d)if(R!==h)if(R===a&&A>0){if(_.ranges>0){_.ranges=0;const e=_.nodes.shift();_.nodes=[e,{type:"text",value:n(_)}]}x({type:"comma",value:R}),_.commas++}else if(R===c&&A>0&&0===_.commas){const e=_.nodes;if(0===A||0===e.length){x({type:"text",value:R});continue}if("dot"===w.type){if(_.range=[],w.value+=R,w.type="range",3!==_.nodes.length&&5!==_.nodes.length){_.invalid=!0,_.ranges=0,w.type="text";continue}_.ranges++,_.args=[];continue}if("range"===w.type){e.pop();const t=e[e.length-1];t.value+=w.value+R,w=t,_.ranges--;continue}x({type:"dot",value:R})}else x({type:"text",value:R});else{if("brace"!==_.type){x({type:"text",value:R});continue}const e="close";_=E.pop(),_.close=!0,x({type:e,value:R}),A--,_=E[E.length-1]}else{A++;const e=w.value&&"$"===w.value.slice(-1)||!0===_.dollar;_=x({type:"brace",open:!0,close:!1,dollar:e,depth:A,commas:0,ranges:0,nodes:[]}),E.push(_),x({type:"open",value:R})}else{const e=R;let r;for(!0!==t.keepQuotes&&(R="");k<T&&(r=O());)if(r!==s){if(r===e){!0===t.keepQuotes&&(R+=r);break}R+=r}else R+=r+O();x({type:"text",value:R})}else{if("paren"!==_.type){x({type:"text",value:R});continue}_=E.pop(),x({type:"text",value:R}),_=E[E.length-1]}else _=x({type:"paren",nodes:[]}),E.push(_),x({type:"text",value:R});else{let e;for(C++;k<T&&(e=O());)if(R+=e,e!==p)if(e!==s){if(e===f&&(C--,0===C))break}else R+=O();else C++;x({type:"text",value:R})}else x({type:"text",value:"\\"+R});else x({type:"text",value:(t.keepEscaping?R:"")+O()});do{if(_=E.pop(),"root"!==_.type){_.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));const e=E[E.length-1],t=e.nodes.indexOf(_);e.nodes.splice(t,1,..._.nodes)}}while(E.length>0);return x({type:"eos"}),S}},3720:(e,t,r)=>{"use strict";const n=r(7612);e.exports=(e,t={})=>{const r=(e,i={})=>{const s=t.escapeInvalid&&n.isInvalidBrace(i),o=!0===e.invalid&&!0===t.escapeInvalid;let a="";if(e.value)return(s||o)&&n.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(const t of e.nodes)a+=r(t);return a};return r(e)}},7612:(e,t)=>{"use strict";t.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),t.find=(e,t)=>e.nodes.find((e=>e.type===t)),t.exceedsLimit=(e,r,n=1,i)=>!1!==i&&!(!t.isInteger(e)||!t.isInteger(r))&&(Number(r)-Number(e))/Number(n)>=i,t.escapeNode=(e,t=0,r)=>{const n=e.nodes[t];n&&(r&&n.type===r||"open"===n.type||"close"===n.type)&&!0!==n.escaped&&(n.value="\\"+n.value,n.escaped=!0)},t.encloseBrace=e=>!("brace"!==e.type||e.commas>>0+e.ranges||(e.invalid=!0,0)),t.isInvalidBrace=e=>!("brace"!==e.type||!0!==e.invalid&&!e.dollar&&(e.commas>>0+e.ranges&&!0===e.open&&!0===e.close||(e.invalid=!0,0))),t.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,t.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),t.flatten=(...e)=>{const t=[],r=e=>{for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)?r(i):void 0!==i&&t.push(i)}return t};return r(e),t}},2757:(e,t,r)=>{"use strict";const n=r(6928),i=r(4433),s=e=>e.length>1?`{${e.join(",")}}`:e[0],o=(e,t)=>{const r="!"===e[0]?e.slice(1):e;return n.isAbsolute(r)?r:n.join(t,r)},a=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map((r=>{return n.posix.join(e,(i=r,o=t.extensions,n.extname(i)?`**/${i}`:`**/${i}.${s(o)}`));var i,o})):t.files?t.files.map((t=>n.posix.join(e,`**/${t}`))):t.extensions?[n.posix.join(e,`**/*.${s(t.extensions)}`)]:[n.posix.join(e,"**")]};e.exports=async(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=await Promise.all([].concat(e).map((async e=>await i.isDirectory(o(e,t.cwd))?a(e,t):e)));return[].concat.apply([],r)},e.exports.sync=(e,t)=>{if("string"!=typeof(t={cwd:process.cwd(),...t}).cwd)throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);const r=[].concat(e).map((e=>i.isDirectorySync(o(e,t.cwd))?a(e,t):e));return[].concat.apply([],r)}},4447:(e,t,r)=>{"use strict";const n=r(9806),i=r(1814),s=r(7e3),o=r(2947),a=r(8509),c=r(7705);async function l(e,t){d(e);const r=u(e,i.default,t),n=await Promise.all(r);return c.array.flatten(n)}function u(e,t,r){const i=[].concat(e),s=new a.default(r),o=n.generate(i,s),c=new t(s);return o.map(c.read,c)}function d(e){if(![].concat(e).every((e=>c.string.isString(e)&&!c.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){e.sync=function(e,t){d(e);const r=u(e,o.default,t);return c.array.flatten(r)},e.stream=function(e,t){d(e);const r=u(e,s.default,t);return c.stream.merge(r)},e.generateTasks=function(e,t){d(e);const r=[].concat(e),i=new a.default(t);return n.generate(r,i)},e.isDynamicPattern=function(e,t){d(e);const r=new a.default(t);return c.pattern.isDynamicPattern(e,r)},e.escapePath=function(e){return d(e),c.path.escape(e)}}(l||(l={})),e.exports=l},9806:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertPatternGroupToTask=t.convertPatternGroupsToTasks=t.groupPatternsByBaseDirectory=t.getNegativePatternsAsPositive=t.getPositivePatterns=t.convertPatternsToTasks=t.generate=void 0;const n=r(7705);function i(e,t,r){const i=[],s=n.pattern.getPatternsOutsideCurrentDirectory(e),o=n.pattern.getPatternsInsideCurrentDirectory(e),u=a(s),d=a(o);return i.push(...c(u,t,r)),"."in d?i.push(l(".",o,t,r)):i.push(...c(d,t,r)),i}function s(e){return n.pattern.getPositivePatterns(e)}function o(e,t){return n.pattern.getNegativePatterns(e).concat(t).map(n.pattern.convertToPositivePattern)}function a(e){return e.reduce(((e,t)=>{const r=n.pattern.getBaseDirectory(t);return r in e?e[r].push(t):e[r]=[t],e}),{})}function c(e,t,r){return Object.keys(e).map((n=>l(n,e[n],t,r)))}function l(e,t,r,i){return{dynamic:i,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(n.pattern.convertToNegativePattern))}}t.generate=function(e,t){const r=s(e),a=o(e,t.ignore),c=r.filter((e=>n.pattern.isStaticPattern(e,t))),l=r.filter((e=>n.pattern.isDynamicPattern(e,t))),u=i(c,a,!1),d=i(l,a,!0);return u.concat(d)},t.convertPatternsToTasks=i,t.getPositivePatterns=s,t.getNegativePatternsAsPositive=o,t.groupPatternsByBaseDirectory=a,t.convertPatternGroupsToTasks=c,t.convertPatternGroupToTask=l},1814:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(890),i=r(6101);class s extends i.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),n=[];return new Promise(((i,s)=>{const o=this.api(t,e,r);o.once("error",s),o.on("data",(e=>n.push(r.transform(e)))),o.once("end",(()=>i(n)))}))}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}t.default=s},602:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7705),i=r(7669);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,r){const n=this._getMatcher(t),i=this._getNegativePatternsRe(r);return t=>this._filter(e,t,n,i)}_getMatcher(e){return new i.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(n.pattern.isAffectDepthOfReadingPattern);return n.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,i){if(this._isSkippedByDeep(e,t.path))return!1;if(this._isSkippedSymbolicLink(t))return!1;const s=n.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(s,r)&&this._isSkippedByNegativePatterns(s,i)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const r=t.split("/").length;return""===e?r:r-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!n.pattern.matchAny(e,t)}}},2042:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7705);t.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const r=n.pattern.convertPatternsToRe(e,this._micromatchOptions),i=n.pattern.convertPatternsToRe(t,this._micromatchOptions);return e=>this._filter(e,r,i)}_filter(e,t,r){if(this._settings.unique&&this._isDuplicateEntry(e))return!1;if(this._onlyFileFilter(e)||this._onlyDirectoryFilter(e))return!1;if(this._isSkippedByAbsoluteNegativePatterns(e.path,r))return!1;const n=this._settings.baseNameMatch?e.name:e.path,i=this._isMatchToPatterns(n,t)&&!this._isMatchToPatterns(e.path,r);return this._settings.unique&&i&&this._createIndexRecord(e),i}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const r=n.path.makeAbsolute(this._settings.cwd,e);return n.pattern.matchAny(r,t)}_isMatchToPatterns(e,t){const r=n.path.removeLeadingDotSegment(e);return n.pattern.matchAny(r,t)}}},4284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7705);t.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return n.errno.isEnoentCodeError(e)||this._settings.suppressErrors}}},330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7705);t.default=class{constructor(e,t,r){this._patterns=e,this._settings=t,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){const e=n.pattern.expandPatternsWithBraceExpansion(this._patterns);for(const t of e){const e=this._getPatternSegments(t),r=this._splitSegmentsIntoSections(e);this._storage.push({complete:r.length<=1,pattern:t,segments:e,sections:r})}}_getPatternSegments(e){return n.pattern.getPatternParts(e,this._micromatchOptions).map((e=>n.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:n.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return n.array.splitWhen(e,(e=>e.dynamic&&n.pattern.hasGlobStar(e.pattern)))}}},7669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(330);class i extends n.default{match(e){const t=e.split("/"),r=t.length,n=this._storage.filter((e=>!e.complete||e.segments.length>r));for(const e of n){const n=e.sections[0];if(!e.complete&&r>n.length)return!0;if(t.every(((t,r)=>{const n=e.segments[r];return!(!n.dynamic||!n.patternRe.test(t))||!n.dynamic&&n.pattern===t})))return!0}return!1}}t.default=i},6101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6928),i=r(602),s=r(2042),o=r(4284),a=r(7403);t.default=class{constructor(e){this._settings=e,this.errorFilter=new o.default(this._settings),this.entryFilter=new s.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new i.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new a.default(this._settings)}_getRootDirectory(e){return n.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}}},7e3:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2203),i=r(890),s=r(6101);class o extends s.default{constructor(){super(...arguments),this._reader=new i.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e),i=this.api(t,e,r),s=new n.Readable({objectMode:!0,read:()=>{}});return i.once("error",(e=>s.emit("error",e))).on("data",(e=>s.emit("data",r.transform(e)))).once("end",(()=>s.emit("end"))),s.once("close",(()=>i.destroy())),s}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}t.default=o},2947:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8497),i=r(6101);class s extends i.default{constructor(){super(...arguments),this._reader=new n.default(this._settings)}read(e){const t=this._getRootDirectory(e),r=this._getReaderOptions(e);return this.api(t,e,r).map(r.transform)}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}t.default=s},7403:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(7705);t.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=n.path.makeAbsolute(this._settings.cwd,t),t=n.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}}},149:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(6928),i=r(8631),s=r(7705);t.default=class{constructor(e){this._settings=e,this._fsStatSettings=new i.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return n.resolve(this._settings.cwd,e)}_makeEntry(e,t){const r={name:t,path:t,dirent:s.fs.createDirentFromStats(t,e)};return this._settings.stats&&(r.stats=e),r}_isFatalError(e){return!s.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}}},890:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(2203),i=r(8631),s=r(764),o=r(149);class a extends o.default{constructor(){super(...arguments),this._walkStream=s.walkStream,this._stat=i.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const r=e.map(this._getFullEntryPath,this),i=new n.PassThrough({objectMode:!0});i._write=(n,s,o)=>this._getEntry(r[n],e[n],t).then((e=>{null!==e&&t.entryFilter(e)&&i.push(e),n===r.length-1&&i.end(),o()})).catch(o);for(let e=0;e<r.length;e++)i.write(e);return i}_getEntry(e,t,r){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(r.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,r)=>{this._stat(e,this._fsStatSettings,((e,n)=>null===e?t(n):r(e)))}))}}t.default=a},8497:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(8631),i=r(764),s=r(149);class o extends s.default{constructor(){super(...arguments),this._walkSync=i.walkSync,this._statSync=n.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const r=[];for(const n of e){const e=this._getFullEntryPath(n),i=this._getEntry(e,n,t);null!==i&&t.entryFilter(i)&&r.push(i)}return r}_getEntry(e,t,r){try{const r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}t.default=o},8509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const n=r(9896),i=r(857),s=Math.max(i.cpus().length,1);t.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:n.lstat,lstatSync:n.lstatSync,stat:n.stat,statSync:n.statSync,readdir:n.readdir,readdirSync:n.readdirSync},t.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,s),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},t.DEFAULT_FILE_SYSTEM_ADAPTER),e)}}},4392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitWhen=t.flatten=void 0,t.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},t.splitWhen=function(e,t){const r=[[]];let n=0;for(const i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}},2741:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEnoentCodeError=void 0,t.isEnoentCodeError=function(e){return"ENOENT"===e.code}},2014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDirentFromStats=void 0;class r{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}t.createDirentFromStats=function(e,t){return new r(e,t)}},7705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.string=t.stream=t.pattern=t.path=t.fs=t.errno=t.array=void 0;const n=r(4392);t.array=n;const i=r(2741);t.errno=i;const s=r(2014);t.fs=s;const o=r(4522);t.path=o;const a=r(9287);t.pattern=a;const c=r(9997);t.stream=c;const l=r(4848);t.string=l},4522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.removeLeadingDotSegment=t.escape=t.makeAbsolute=t.unixify=void 0;const n=r(6928),i=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;t.unixify=function(e){return e.replace(/\\/g,"/")},t.makeAbsolute=function(e,t){return n.resolve(e,t)},t.escape=function(e){return e.replace(i,"\\$2")},t.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e}},9287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchAny=t.convertPatternsToRe=t.makeRe=t.getPatternParts=t.expandBraceExpansion=t.expandPatternsWithBraceExpansion=t.isAffectDepthOfReadingPattern=t.endsWithSlashGlobStar=t.hasGlobStar=t.getBaseDirectory=t.isPatternRelatedToParentDirectory=t.getPatternsOutsideCurrentDirectory=t.getPatternsInsideCurrentDirectory=t.getPositivePatterns=t.getNegativePatterns=t.isPositivePattern=t.isNegativePattern=t.convertToNegativePattern=t.convertToPositivePattern=t.isDynamicPattern=t.isStaticPattern=void 0;const n=r(6928),i=r(5014),s=r(628),o="\\",a=/[*?]|^!/,c=/\[.*]/,l=/(?:^|[^!*+?@])\(.*\|.*\)/,u=/[!*+?@]\(.*\)/,d=/{.*(?:,|\.\.).*}/;function h(e,t={}){return!p(e,t)}function p(e,t={}){return!!(""!==e&&(!1===t.caseSensitiveMatch||e.includes(o)||a.test(e)||c.test(e)||l.test(e)||!1!==t.extglob&&u.test(e)||!1!==t.braceExpansion&&d.test(e)))}function f(e){return e.startsWith("!")&&"("!==e[1]}function g(e){return!f(e)}function m(e){return e.startsWith("..")||e.startsWith("./..")}function y(e){return e.endsWith("/**")}function v(e){return s.braces(e,{expand:!0,nodupes:!0})}function b(e,t){return s.makeRe(e,t)}t.isStaticPattern=h,t.isDynamicPattern=p,t.convertToPositivePattern=function(e){return f(e)?e.slice(1):e},t.convertToNegativePattern=function(e){return"!"+e},t.isNegativePattern=f,t.isPositivePattern=g,t.getNegativePatterns=function(e){return e.filter(f)},t.getPositivePatterns=function(e){return e.filter(g)},t.getPatternsInsideCurrentDirectory=function(e){return e.filter((e=>!m(e)))},t.getPatternsOutsideCurrentDirectory=function(e){return e.filter(m)},t.isPatternRelatedToParentDirectory=m,t.getBaseDirectory=function(e){return i(e,{flipBackslashes:!1})},t.hasGlobStar=function(e){return e.includes("**")},t.endsWithSlashGlobStar=y,t.isAffectDepthOfReadingPattern=function(e){const t=n.basename(e);return y(e)||h(t)},t.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(v(t))),[])},t.expandBraceExpansion=v,t.getPatternParts=function(e,t){let{parts:r}=s.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===r.length&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},t.makeRe=b,t.convertPatternsToRe=function(e,t){return e.map((e=>b(e,t)))},t.matchAny=function(e,t){return t.some((t=>t.test(e)))}},9997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;const n=r(4971);function i(e){e.forEach((e=>e.emit("close")))}t.merge=function(e){const t=n(e);return e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))})),t.once("close",(()=>i(e))),t.once("end",(()=>i(e))),t}},4848:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=t.isString=void 0,t.isString=function(e){return"string"==typeof e},t.isEmpty=function(e){return""===e}},6697:(e,t,r)=>{"use strict";var n=r(9027);function i(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var i=n(o),a=null,c=null,l=0,u=null,d={push:function(r,n){var o=i.get();o.context=e,o.release=h,o.value=r,o.callback=n||s,o.errorHandler=u,l===d.concurrency||d.paused?c?(c.next=o,c=o):(a=o,c=o,d.saturated()):(l++,t.call(e,o.value,o.worked))},drain:s,saturated:s,pause:function(){d.paused=!0},paused:!1,concurrency:r,running:function(){return l},resume:function(){if(d.paused){d.paused=!1;for(var e=0;e<d.concurrency;e++)l++,h()}},idle:function(){return 0===l&&0===d.length()},length:function(){for(var e=a,t=0;e;)e=e.next,t++;return t},getQueue:function(){for(var e=a,t=[];e;)t.push(e.value),e=e.next;return t},unshift:function(r,n){var o=i.get();o.context=e,o.release=h,o.value=r,o.callback=n||s,l===d.concurrency||d.paused?a?(o.next=a,a=o):(a=o,c=o,d.saturated()):(l++,t.call(e,o.value,o.worked))},empty:s,kill:function(){a=null,c=null,d.drain=s},killAndDrain:function(){a=null,c=null,d.drain(),d.drain=s},error:function(e){u=e}};return d;function h(r){r&&i.release(r);var n=a;n?d.paused?l--:(c===a&&(c=null),a=n.next,n.next=null,t.call(e,n.value,n.worked),null===c&&d.empty()):0==--l&&d.drain()}}function s(){}function o(){this.value=null,this.callback=s,this.next=null,this.release=s,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,r){var n=e.callback,i=e.errorHandler,o=e.value;e.value=null,e.callback=s,e.errorHandler&&i(t,o),n.call(e.context,t,r),e.release(e)}}e.exports=i,e.exports.promise=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null);var n=i(e,(function(e,r){t.call(this,e).then((function(e){r(null,e)}),r)}),r),o=n.push,a=n.unshift;return n.push=function(e){var t=new Promise((function(t,r){o(e,(function(e,n){e?r(e):t(n)}))}));return t.catch(s),t},n.unshift=function(e){var t=new Promise((function(t,r){a(e,(function(e,n){e?r(e):t(n)}))}));return t.catch(s),t},n.drained=function(){var e=n.drain;return new Promise((function(t){n.drain=function(){e(),t()}}))},n}},7028:(e,t,r)=>{"use strict";const n=r(9023),i=r(54),s=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),o=e=>"number"==typeof e||"string"==typeof e&&""!==e,a=e=>Number.isInteger(+e),c=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},l=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},u=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},d=(e,t,r,n)=>{if(r)return i(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);return e===t?s:`[${s}-${String.fromCharCode(t)}]`},h=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,n=r.capture?"":"?:";return t?`(${n}${e.join("|")})`:e.join("|")}return i(e,t,r)},p=(...e)=>new RangeError("Invalid range arguments: "+n.inspect(...e)),f=(e,t,r)=>{if(!0===r.strictRanges)throw p([e,t]);return[]},g=(e,t,r,n={})=>{if(null==t&&o(e))return[e];if(!o(e)||!o(t))return f(e,t,n);if("function"==typeof r)return g(e,t,1,{transform:r});if(s(r))return g(e,t,0,r);let i={...n};return!0===i.capture&&(i.wrap=!0),r=r||i.step||1,a(r)?a(e)&&a(t)?((e,t,r=1,n={})=>{let i=Number(e),s=Number(t);if(!Number.isInteger(i)||!Number.isInteger(s)){if(!0===n.strictRanges)throw p([e,t]);return[]}0===i&&(i=0),0===s&&(s=0);let o=i>s,a=String(e),f=String(t),g=String(r);r=Math.max(Math.abs(r),1);let m=c(a)||c(f)||c(g),y=m?Math.max(a.length,f.length,g.length):0,v=!1===m&&!1===((e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify)(e,t,n),b=n.transform||(e=>t=>!0===e?Number(t):String(t))(v);if(n.toRegex&&1===r)return d(u(e,y),u(t,y),!0,n);let S={negatives:[],positives:[]},E=[],_=0;for(;o?i>=s:i<=s;)!0===n.toRegex&&r>1?S[(w=i)<0?"negatives":"positives"].push(Math.abs(w)):E.push(l(b(i,_),y,v)),i=o?i-r:i+r,_++;var w;return!0===n.toRegex?r>1?((e,t,r)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let n,i=t.capture?"":"?:",s="",o="";return e.positives.length&&(s=e.positives.map((e=>u(String(e),r))).join("|")),e.negatives.length&&(o=`-(${i}${e.negatives.map((e=>u(String(e),r))).join("|")})`),n=s&&o?`${s}|${o}`:s||o,t.wrap?`(${i}${n})`:n})(S,n,y):h(E,null,{wrap:!1,...n}):E})(e,t,r,i):((e,t,r=1,n={})=>{if(!a(e)&&e.length>1||!a(t)&&t.length>1)return f(e,t,n);let i=n.transform||(e=>String.fromCharCode(e)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),c=s>o,l=Math.min(s,o),u=Math.max(s,o);if(n.toRegex&&1===r)return d(l,u,!1,n);let p=[],g=0;for(;c?s>=o:s<=o;)p.push(i(s,g)),s=c?s-r:s+r,g++;return!0===n.toRegex?h(p,null,{wrap:!1,options:n}):p})(e,t,Math.max(Math.abs(r),1),i):null==r||s(r)?g(e,t,1,r):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(r,i)};e.exports=g},3876:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),s=r(3798).mkdirsSync,o=r(7211).utimesMillisSync,a=r(6462);function c(e,t,r,s){const o=(s.dereference?n.statSync:n.lstatSync)(t);if(o.isDirectory())return function(e,t,r,i,s){return t?d(r,i,s):function(e,t,r,i){return n.mkdirSync(r),d(t,r,i),u(r,e)}(e.mode,r,i,s)}(o,e,t,r,s);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,r,i,s){return t?function(e,t,r,i){if(i.overwrite)return n.unlinkSync(r),l(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}(e,r,i,s):l(e,r,i,s)}(o,e,t,r,s);if(o.isSymbolicLink())return function(e,t,r,s){let o=n.readlinkSync(t);if(s.dereference&&(o=i.resolve(process.cwd(),o)),e){let e;try{e=n.readlinkSync(r)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return n.symlinkSync(o,r);throw e}if(s.dereference&&(e=i.resolve(process.cwd(),e)),a.isSrcSubdir(o,e))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${e}'.`);if(n.statSync(r).isDirectory()&&a.isSrcSubdir(e,o))throw new Error(`Cannot overwrite '${e}' with '${o}'.`);return function(e,t){return n.unlinkSync(t),n.symlinkSync(e,t)}(o,r)}return n.symlinkSync(o,r)}(e,t,r,s);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function l(e,t,r,i){return n.copyFileSync(t,r),i.preserveTimestamps&&function(e,t,r){(function(e){return!(128&e)})(e)&&function(e,t){u(e,128|t)}(r,e),function(e,t){const r=n.statSync(e);o(t,r.atime,r.mtime)}(t,r)}(e.mode,t,r),u(r,e.mode)}function u(e,t){return n.chmodSync(e,t)}function d(e,t,r){n.readdirSync(e).forEach((n=>function(e,t,r,n){const s=i.join(t,e),o=i.join(r,e),{destStat:l}=a.checkPathsSync(s,o,"copy",n);return function(e,t,r,n){if(!n.filter||n.filter(t,r))return c(e,t,r,n)}(l,s,o,n)}(n,e,t,r)))}e.exports=function(e,t,r){"function"==typeof r&&(r={filter:r}),(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:o,destStat:l}=a.checkPathsSync(e,t,"copy",r);return a.checkParentPathsSync(e,o,t,"copy"),function(e,t,r,o){if(o.filter&&!o.filter(t,r))return;const a=i.dirname(r);return n.existsSync(a)||s(a),c(e,t,r,o)}(l,e,t,r)}},4994:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),s=r(3798).mkdirs,o=r(9288).pathExists,a=r(7211).utimesMillis,c=r(6462);function l(e,t,r,n,a){const c=i.dirname(r);o(c,((i,o)=>i?a(i):o?d(e,t,r,n,a):void s(c,(i=>i?a(i):d(e,t,r,n,a)))))}function u(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then((o=>o?e(t,r,n,i,s):s()),(e=>s(e)))}function d(e,t,r,s,o){(s.dereference?n.stat:n.lstat)(t,((a,l)=>a?o(a):l.isDirectory()?function(e,t,r,i,s,o){return t?g(r,i,s,o):function(e,t,r,i,s){n.mkdir(r,(n=>{if(n)return s(n);g(t,r,i,(t=>t?s(t):f(r,e,s)))}))}(e.mode,r,i,s,o)}(l,e,t,r,s,o):l.isFile()||l.isCharacterDevice()||l.isBlockDevice()?function(e,t,r,i,s,o){return t?function(e,t,r,i,s){if(!i.overwrite)return i.errorOnExist?s(new Error(`'${r}' already exists`)):s();n.unlink(r,(n=>n?s(n):h(e,t,r,i,s)))}(e,r,i,s,o):h(e,r,i,s,o)}(l,e,t,r,s,o):l.isSymbolicLink()?function(e,t,r,s,o){n.readlink(t,((t,a)=>t?o(t):(s.dereference&&(a=i.resolve(process.cwd(),a)),e?void n.readlink(r,((t,l)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?n.symlink(a,r,o):o(t):(s.dereference&&(l=i.resolve(process.cwd(),l)),c.isSrcSubdir(a,l)?o(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${l}'.`)):e.isDirectory()&&c.isSrcSubdir(l,a)?o(new Error(`Cannot overwrite '${l}' with '${a}'.`)):function(e,t,r){n.unlink(t,(i=>i?r(i):n.symlink(e,t,r)))}(a,r,o)))):n.symlink(a,r,o))))}(e,t,r,s,o):l.isSocket()?o(new Error(`Cannot copy a socket file: ${t}`)):l.isFIFO()?o(new Error(`Cannot copy a FIFO pipe: ${t}`)):o(new Error(`Unknown file: ${t}`))))}function h(e,t,r,i,s){n.copyFile(t,r,(n=>n?s(n):i.preserveTimestamps?function(e,t,r,n){return function(e){return!(128&e)}(e)?function(e,t,r){return f(e,128|t,r)}(r,e,(i=>i?n(i):p(e,t,r,n))):p(e,t,r,n)}(e.mode,t,r,s):f(r,e.mode,s)))}function p(e,t,r,i){!function(e,t,r){n.stat(e,((e,n)=>e?r(e):a(t,n.atime,n.mtime,r)))}(t,r,(t=>t?i(t):f(r,e,i)))}function f(e,t,r){return n.chmod(e,t,r)}function g(e,t,r,i){n.readdir(e,((n,s)=>n?i(n):m(s,e,t,r,i)))}function m(e,t,r,n,s){const o=e.pop();return o?function(e,t,r,n,s,o){const a=i.join(r,t),l=i.join(n,t);c.checkPaths(a,l,"copy",s,((t,i)=>{if(t)return o(t);const{destStat:c}=i;!function(e,t,r,n,i){n.filter?u(d,e,t,r,n,i):d(e,t,r,n,i)}(c,a,l,s,(t=>t?o(t):m(e,r,n,s,o)))}))}(e,o,t,r,n,s):s()}e.exports=function(e,t,r,n){"function"!=typeof r||n?"function"==typeof r&&(r={filter:r}):(n=r,r={}),n=n||function(){},(r=r||{}).clobber=!("clobber"in r)||!!r.clobber,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",r,((i,s)=>{if(i)return n(i);const{srcStat:o,destStat:a}=s;c.checkParentPaths(e,o,t,"copy",(i=>i?n(i):r.filter?u(l,a,e,t,r,n):l(a,e,t,r,n)))}))}},4423:(e,t,r)=>{"use strict";const n=r(1236).fromCallback;e.exports={copy:n(r(4994)),copySync:r(3876)}},2591:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(8737),s=r(6928),o=r(3798),a=r(5422),c=n((async function(e){let t;try{t=await i.readdir(e)}catch{return o.mkdirs(e)}return Promise.all(t.map((t=>a.remove(s.join(e,t)))))}));function l(e){let t;try{t=i.readdirSync(e)}catch{return o.mkdirsSync(e)}t.forEach((t=>{t=s.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:l,emptydirSync:l,emptyDir:c,emptydir:c}},9616:(e,t,r)=>{"use strict";const n=r(1236).fromCallback,i=r(6928),s=r(3735),o=r(3798);e.exports={createFile:n((function(e,t){function r(){s.writeFile(e,"",(e=>{if(e)return t(e);t()}))}s.stat(e,((n,a)=>{if(!n&&a.isFile())return t();const c=i.dirname(e);s.stat(c,((e,n)=>{if(e)return"ENOENT"===e.code?o.mkdirs(c,(e=>{if(e)return t(e);r()})):t(e);n.isDirectory()?r():s.readdir(c,(e=>{if(e)return t(e)}))}))}))})),createFileSync:function(e){let t;try{t=s.statSync(e)}catch{}if(t&&t.isFile())return;const r=i.dirname(e);try{s.statSync(r).isDirectory()||s.readdirSync(r)}catch(e){if(!e||"ENOENT"!==e.code)throw e;o.mkdirsSync(r)}s.writeFileSync(e,"")}}},6288:(e,t,r)=>{"use strict";const{createFile:n,createFileSync:i}=r(9616),{createLink:s,createLinkSync:o}=r(1522),{createSymlink:a,createSymlinkSync:c}=r(5291);e.exports={createFile:n,createFileSync:i,ensureFile:n,ensureFileSync:i,createLink:s,createLinkSync:o,ensureLink:s,ensureLinkSync:o,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},1522:(e,t,r)=>{"use strict";const n=r(1236).fromCallback,i=r(6928),s=r(3735),o=r(3798),a=r(9288).pathExists,{areIdentical:c}=r(6462);e.exports={createLink:n((function(e,t,r){function n(e,t){s.link(e,t,(e=>{if(e)return r(e);r(null)}))}s.lstat(t,((l,u)=>{s.lstat(e,((s,l)=>{if(s)return s.message=s.message.replace("lstat","ensureLink"),r(s);if(u&&c(l,u))return r(null);const d=i.dirname(t);a(d,((i,s)=>i?r(i):s?n(e,t):void o.mkdirs(d,(i=>{if(i)return r(i);n(e,t)}))))}))}))})),createLinkSync:function(e,t){let r;try{r=s.lstatSync(t)}catch{}try{const t=s.lstatSync(e);if(r&&c(t,r))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return s.existsSync(n)||o.mkdirsSync(n),s.linkSync(e,t)}}},3838:(e,t,r)=>{"use strict";const n=r(6928),i=r(3735),s=r(9288).pathExists;e.exports={symlinkPaths:function(e,t,r){if(n.isAbsolute(e))return i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:e})));{const o=n.dirname(t),a=n.join(o,e);return s(a,((t,s)=>t?r(t):s?r(null,{toCwd:a,toDst:e}):i.lstat(e,(t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),r(t)):r(null,{toCwd:e,toDst:n.relative(o,e)})))))}},symlinkPathsSync:function(e,t){let r;if(n.isAbsolute(e)){if(r=i.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const s=n.dirname(t),o=n.join(s,e);if(r=i.existsSync(o),r)return{toCwd:o,toDst:e};if(r=i.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(s,e)}}}}},7064:(e,t,r)=>{"use strict";const n=r(3735);e.exports={symlinkType:function(e,t,r){if(r="function"==typeof t?t:r,t="function"!=typeof t&&t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file",r(null,t)}))},symlinkTypeSync:function(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}}},5291:(e,t,r)=>{"use strict";const n=r(1236).fromCallback,i=r(6928),s=r(8737),o=r(3798),a=o.mkdirs,c=o.mkdirsSync,l=r(3838),u=l.symlinkPaths,d=l.symlinkPathsSync,h=r(7064),p=h.symlinkType,f=h.symlinkTypeSync,g=r(9288).pathExists,{areIdentical:m}=r(6462);function y(e,t,r,n){u(e,t,((o,c)=>{if(o)return n(o);e=c.toDst,p(c.toCwd,r,((r,o)=>{if(r)return n(r);const c=i.dirname(t);g(c,((r,i)=>r?n(r):i?s.symlink(e,t,o,n):void a(c,(r=>{if(r)return n(r);s.symlink(e,t,o,n)}))))}))}))}e.exports={createSymlink:n((function(e,t,r,n){n="function"==typeof r?r:n,r="function"!=typeof r&&r,s.lstat(t,((i,o)=>{!i&&o.isSymbolicLink()?Promise.all([s.stat(e),s.stat(t)]).then((([i,s])=>{if(m(i,s))return n(null);y(e,t,r,n)})):y(e,t,r,n)}))})),createSymlinkSync:function(e,t,r){let n;try{n=s.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){const r=s.statSync(e),n=s.statSync(t);if(m(r,n))return}const o=d(e,t);e=o.toDst,r=f(o.toCwd,r);const a=i.dirname(t);return s.existsSync(a)||c(a),s.symlinkSync(e,t,r)}}},8737:(e,t,r)=>{"use strict";const n=r(1236).fromCallback,i=r(3735),s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof i[e]));Object.assign(t,i),s.forEach((e=>{t[e]=n(i[e])})),t.realpath.native=n(i.realpath.native),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise((t=>i.exists(e,t)))},t.read=function(e,t,r,n,s,o){return"function"==typeof o?i.read(e,t,r,n,s,o):new Promise(((o,a)=>{i.read(e,t,r,n,s,((e,t,r)=>{if(e)return a(e);o({bytesRead:t,buffer:r})}))}))},t.write=function(e,t,...r){return"function"==typeof r[r.length-1]?i.write(e,t,...r):new Promise(((n,s)=>{i.write(e,t,...r,((e,t,r)=>{if(e)return s(e);n({bytesWritten:t,buffer:r})}))}))},"function"==typeof i.writev&&(t.writev=function(e,t,...r){return"function"==typeof r[r.length-1]?i.writev(e,t,...r):new Promise(((n,s)=>{i.writev(e,t,...r,((e,t,r)=>{if(e)return s(e);n({bytesWritten:t,buffers:r})}))}))})},1605:(e,t,r)=>{"use strict";e.exports={...r(8737),...r(4423),...r(2591),...r(6288),...r(3376),...r(3798),...r(2455),...r(7024),...r(9288),...r(5422)}},3376:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(2934);i.outputJson=n(r(6426)),i.outputJsonSync=r(2188),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},2934:(e,t,r)=>{"use strict";const n=r(2909);e.exports={readJson:n.readFile,readJsonSync:n.readFileSync,writeJson:n.writeFile,writeJsonSync:n.writeFileSync}},2188:(e,t,r)=>{"use strict";const{stringify:n}=r(1144),{outputFileSync:i}=r(7024);e.exports=function(e,t,r){const s=n(t,r);i(e,s,r)}},6426:(e,t,r)=>{"use strict";const{stringify:n}=r(1144),{outputFile:i}=r(7024);e.exports=async function(e,t,r={}){const s=n(t,r);await i(e,s,r)}},3798:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,{makeDir:i,makeDirSync:s}=r(8916),o=n(i);e.exports={mkdirs:o,mkdirsSync:s,mkdirp:o,mkdirpSync:s,ensureDir:o,ensureDirSync:s}},8916:(e,t,r)=>{"use strict";const n=r(8737),{checkPath:i}=r(7111),s=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(i(e),n.mkdir(e,{mode:s(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(i(e),n.mkdirSync(e,{mode:s(t),recursive:!0}))},7111:(e,t,r)=>{"use strict";const n=r(6928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(n.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},2455:(e,t,r)=>{"use strict";const n=r(1236).fromCallback;e.exports={move:n(r(3314)),moveSync:r(6244)}},6244:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),s=r(4423).copySync,o=r(5422).removeSync,a=r(3798).mkdirpSync,c=r(6462);function l(e,t,r){try{n.renameSync(e,t)}catch(n){if("EXDEV"!==n.code)throw n;return function(e,t,r){return s(e,t,{overwrite:r,errorOnExist:!0}),o(e)}(e,t,r)}}e.exports=function(e,t,r){const s=(r=r||{}).overwrite||r.clobber||!1,{srcStat:u,isChangingCase:d=!1}=c.checkPathsSync(e,t,"move",r);return c.checkParentPathsSync(e,u,t,"move"),function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)||a(i.dirname(t)),function(e,t,r,i){if(i)return l(e,t,r);if(r)return o(t),l(e,t,r);if(n.existsSync(t))throw new Error("dest already exists.");return l(e,t,r)}(e,t,s,d)}},3314:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),s=r(4423).copy,o=r(5422).remove,a=r(3798).mkdirp,c=r(9288).pathExists,l=r(6462);function u(e,t,r,n,i){return n?d(e,t,r,i):r?o(t,(n=>n?i(n):d(e,t,r,i))):void c(t,((n,s)=>n?i(n):s?i(new Error("dest already exists.")):d(e,t,r,i)))}function d(e,t,r,i){n.rename(e,t,(n=>n?"EXDEV"!==n.code?i(n):function(e,t,r,n){s(e,t,{overwrite:r,errorOnExist:!0},(t=>t?n(t):o(e,n)))}(e,t,r,i):i()))}e.exports=function(e,t,r,n){"function"==typeof r&&(n=r,r={});const s=r.overwrite||r.clobber||!1;l.checkPaths(e,t,"move",r,((r,o)=>{if(r)return n(r);const{srcStat:c,isChangingCase:d=!1}=o;l.checkParentPaths(e,c,t,"move",(r=>r?n(r):function(e){const t=i.dirname(e);return i.parse(t).root===t}(t)?u(e,t,s,d,n):void a(i.dirname(t),(r=>r?n(r):u(e,t,s,d,n)))))}))}},7024:(e,t,r)=>{"use strict";const n=r(1236).fromCallback,i=r(3735),s=r(6928),o=r(3798),a=r(9288).pathExists;e.exports={outputFile:n((function(e,t,r,n){"function"==typeof r&&(n=r,r="utf8");const c=s.dirname(e);a(c,((s,a)=>s?n(s):a?i.writeFile(e,t,r,n):void o.mkdirs(c,(s=>{if(s)return n(s);i.writeFile(e,t,r,n)}))))})),outputFileSync:function(e,...t){const r=s.dirname(e);if(i.existsSync(r))return i.writeFileSync(e,...t);o.mkdirsSync(r),i.writeFileSync(e,...t)}}},9288:(e,t,r)=>{"use strict";const n=r(1236).fromPromise,i=r(8737);e.exports={pathExists:n((function(e){return i.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:i.existsSync}},5422:(e,t,r)=>{"use strict";const n=r(3735),i=r(1236).fromCallback,s=r(1249);e.exports={remove:i((function(e,t){if(n.rm)return n.rm(e,{recursive:!0,force:!0},t);s(e,t)})),removeSync:function(e){if(n.rmSync)return n.rmSync(e,{recursive:!0,force:!0});s.sync(e)}}},1249:(e,t,r)=>{"use strict";const n=r(3735),i=r(6928),s=r(2613),o="win32"===process.platform;function a(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||n[t],e[t+="Sync"]=e[t]||n[t]})),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,r){let n=0;"function"==typeof t&&(r=t,t={}),s(e,"rimraf: missing path"),s.strictEqual(typeof e,"string","rimraf: path should be a string"),s.strictEqual(typeof r,"function","rimraf: callback function required"),s(t,"rimraf: invalid options argument provided"),s.strictEqual(typeof t,"object","rimraf: options should be object"),a(t),l(e,t,(function i(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&n<t.maxBusyTries)return n++,setTimeout((()=>l(e,t,i)),100*n);"ENOENT"===s.code&&(s=null)}r(s)}))}function l(e,t,r){s(e),s(t),s("function"==typeof r),t.lstat(e,((n,i)=>n&&"ENOENT"===n.code?r(null):n&&"EPERM"===n.code&&o?u(e,t,n,r):i&&i.isDirectory()?h(e,t,n,r):void t.unlink(e,(n=>{if(n){if("ENOENT"===n.code)return r(null);if("EPERM"===n.code)return o?u(e,t,n,r):h(e,t,n,r);if("EISDIR"===n.code)return h(e,t,n,r)}return r(n)}))))}function u(e,t,r,n){s(e),s(t),s("function"==typeof n),t.chmod(e,438,(i=>{i?n("ENOENT"===i.code?null:r):t.stat(e,((i,s)=>{i?n("ENOENT"===i.code?null:r):s.isDirectory()?h(e,t,r,n):t.unlink(e,n)}))}))}function d(e,t,r){let n;s(e),s(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?f(e,t,r):t.unlinkSync(e)}function h(e,t,r,n){s(e),s(t),s("function"==typeof n),t.rmdir(e,(o=>{!o||"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code?o&&"ENOTDIR"===o.code?n(r):n(o):function(e,t,r){s(e),s(t),s("function"==typeof r),t.readdir(e,((n,s)=>{if(n)return r(n);let o,a=s.length;if(0===a)return t.rmdir(e,r);s.forEach((n=>{c(i.join(e,n),t,(n=>{if(!o)return n?r(o=n):void(0==--a&&t.rmdir(e,r))}))}))}))}(e,t,n)}))}function p(e,t){let r;a(t=t||{}),s(e,"rimraf: missing path"),s.strictEqual(typeof e,"string","rimraf: path should be a string"),s(t,"rimraf: missing options"),s.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if("ENOENT"===r.code)return;"EPERM"===r.code&&o&&d(e,t,r)}try{r&&r.isDirectory()?f(e,t,null):t.unlinkSync(e)}catch(r){if("ENOENT"===r.code)return;if("EPERM"===r.code)return o?d(e,t,r):f(e,t,r);if("EISDIR"!==r.code)throw r;f(e,t,r)}}function f(e,t,r){s(e),s(t);try{t.rmdirSync(e)}catch(n){if("ENOTDIR"===n.code)throw r;if("ENOTEMPTY"===n.code||"EEXIST"===n.code||"EPERM"===n.code)!function(e,t){if(s(e),s(t),t.readdirSync(e).forEach((r=>p(i.join(e,r),t))),!o)return t.rmdirSync(e,t);{const r=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-r<500)}}(e,t);else if("ENOENT"!==n.code)throw n}}e.exports=c,c.sync=p},6462:(e,t,r)=>{"use strict";const n=r(8737),i=r(6928),s=r(9023);function o(e,t,r){const i=r.dereference?e=>n.stat(e,{bigint:!0}):e=>n.lstat(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}function a(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function c(e,t){const r=i.resolve(e).split(i.sep).filter((e=>e)),n=i.resolve(t).split(i.sep).filter((e=>e));return r.reduce(((e,t,r)=>e&&n[r]===t),!0)}function l(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,r,n,u){s.callbackify(o)(e,t,n,((n,s)=>{if(n)return u(n);const{srcStat:o,destStat:d}=s;if(d){if(a(o,d)){const n=i.basename(e),s=i.basename(t);return"move"===r&&n!==s&&n.toLowerCase()===s.toLowerCase()?u(null,{srcStat:o,destStat:d,isChangingCase:!0}):u(new Error("Source and destination must not be the same."))}if(o.isDirectory()&&!d.isDirectory())return u(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!o.isDirectory()&&d.isDirectory())return u(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return o.isDirectory()&&c(e,t)?u(new Error(l(e,t,r))):u(null,{srcStat:o,destStat:d})}))},checkPathsSync:function(e,t,r,s){const{srcStat:o,destStat:u}=function(e,t,r){let i;const s=r.dereference?e=>n.statSync(e,{bigint:!0}):e=>n.lstatSync(e,{bigint:!0}),o=s(e);try{i=s(t)}catch(e){if("ENOENT"===e.code)return{srcStat:o,destStat:null};throw e}return{srcStat:o,destStat:i}}(e,t,s);if(u){if(a(o,u)){const n=i.basename(e),s=i.basename(t);if("move"===r&&n!==s&&n.toLowerCase()===s.toLowerCase())return{srcStat:o,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(o.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!o.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(o.isDirectory()&&c(e,t))throw new Error(l(e,t,r));return{srcStat:o,destStat:u}},checkParentPaths:function e(t,r,s,o,c){const u=i.resolve(i.dirname(t)),d=i.resolve(i.dirname(s));if(d===u||d===i.parse(d).root)return c();n.stat(d,{bigint:!0},((n,i)=>n?"ENOENT"===n.code?c():c(n):a(r,i)?c(new Error(l(t,s,o))):e(t,r,d,o,c)))},checkParentPathsSync:function e(t,r,s,o){const c=i.resolve(i.dirname(t)),u=i.resolve(i.dirname(s));if(u===c||u===i.parse(u).root)return;let d;try{d=n.statSync(u,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(a(r,d))throw new Error(l(t,s,o));return e(t,r,u,o)},isSrcSubdir:c,areIdentical:a}},7211:(e,t,r)=>{"use strict";const n=r(3735);e.exports={utimesMillis:function(e,t,r,i){n.open(e,"r+",((e,s)=>{if(e)return i(e);n.futimes(s,t,r,(e=>{n.close(s,(t=>{i&&i(e||t)}))}))}))},utimesMillisSync:function(e,t,r){const i=n.openSync(e,"r+");return n.futimesSync(i,t,r),n.closeSync(i)}}},5014:(e,t,r)=>{"use strict";var n=r(2382),i=r(6928).posix.dirname,s="win32"===r(857).platform(),o=/\\/g,a=/[\{\[].*[\}\]]$/,c=/(^|[^\\])([\{\[]|\([^\)]+$)/,l=/\\([\!\*\?\|\[\]\(\)\{\}])/g;e.exports=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&s&&e.indexOf("/")<0&&(e=e.replace(o,"/")),a.test(e)&&(e+="/"),e+="a";do{e=i(e)}while(n(e)||c.test(e));return e.replace(l,"$1")}},7268:(e,t,r)=>{"use strict";const{promisify:n}=r(9023),i=r(9896),s=r(6928),o=r(4447),a=r(2535),c=r(6398),l=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],u=n(i.readFile),d=(e,t)=>{const r=c(s.relative(t.cwd,s.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter((e=>!e.startsWith("#"))).map((e=>t=>t.startsWith("!")?"!"+s.posix.join(e,t.slice(1)):s.posix.join(e,t))(r))},h=e=>{const t=a();for(const r of e)t.add(d(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},p=(e,t)=>r=>e.ignores(c(s.relative(t,((e,t)=>{if(e=c(e),s.isAbsolute(t)){if(c(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return s.join(e,t)})(t,r.path||r)))),f=({ignore:e=[],cwd:t=c(process.cwd())}={})=>({ignore:e,cwd:t});e.exports=async e=>{e=f(e);const t=await o("**/.gitignore",{ignore:l.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map((t=>(async(e,t)=>{const r=s.join(t,e);return{cwd:t,filePath:r,content:await u(r,"utf8")}})(t,e.cwd)))),n=h(r);return p(n,e.cwd)},e.exports.sync=e=>{e=f(e);const t=o.sync("**/.gitignore",{ignore:l.concat(e.ignore),cwd:e.cwd}).map((t=>((e,t)=>{const r=s.join(t,e);return{cwd:t,filePath:r,content:i.readFileSync(r,"utf8")}})(t,e.cwd))),r=h(t);return p(r,e.cwd)}},7938:(e,t,r)=>{"use strict";const n=r(9896),i=r(3576),s=r(4971),o=r(4447),a=r(2757),c=r(7268),{FilterStream:l,UniqueStream:u}=r(2980),d=()=>!1,h=e=>"!"===e[0],p=(e,t)=>{(e=>{if(!e.every((e=>"string"==typeof e)))throw new TypeError("Patterns must be a string or an array of strings")})(e=i([].concat(e))),((e={})=>{if(!e.cwd)return;let t;try{t=n.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")})(t);const r=[];t={ignore:[],expandDirectories:!0,...t};for(const[n,i]of e.entries()){if(h(i))continue;const s=e.slice(n).filter((e=>h(e))).map((e=>e.slice(1))),o={...t,ignore:t.ignore.concat(s)};r.push({pattern:i,options:o})}return r},f=(e,t)=>e.options.expandDirectories?((e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:"object"==typeof e.options.expandDirectories&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)})(e,t):[e.pattern],g=e=>e&&e.gitignore?c.sync({cwd:e.cwd,ignore:e.ignore}):d,m=e=>t=>{const{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=a.sync(r.ignore)),{pattern:t,options:r}};e.exports=async(e,t)=>{const r=p(e,t),[s,l]=await Promise.all([(async()=>t&&t.gitignore?c({cwd:t.cwd,ignore:t.ignore}):d)(),(async()=>{const e=await Promise.all(r.map((async e=>{const t=await f(e,a);return Promise.all(t.map(m(e)))})));return i(...e)})()]),u=await Promise.all(l.map((e=>o(e.pattern,e.options))));return i(...u).filter((e=>{return!s((t=e,t.stats instanceof n.Stats?t.path:t));var t}))},e.exports.sync=(e,t)=>{const r=p(e,t),n=[];for(const e of r){const t=f(e,a.sync).map(m(e));n.push(...t)}const s=g(t);let c=[];for(const e of n)c=i(c,o.sync(e.pattern,e.options));return c.filter((e=>!s(e)))},e.exports.stream=(e,t)=>{const r=p(e,t),n=[];for(const e of r){const t=f(e,a.sync).map(m(e));n.push(...t)}const i=g(t),c=new l((e=>!i(e))),d=new u;return s(n.map((e=>o.stream(e.pattern,e.options)))).pipe(c).pipe(d)},e.exports.generateGlobTasks=p,e.exports.hasMagic=(e,t)=>[].concat(e).some((e=>o.isDynamicPattern(e,t))),e.exports.gitignore=c},2980:(e,t,r)=>{"use strict";const{Transform:n}=r(2203);class i extends n{constructor(){super({objectMode:!0})}}e.exports={FilterStream:class extends i{constructor(e){super(),this._filter=e}_transform(e,t,r){this._filter(e)&&this.push(e),r()}},UniqueStream:class extends i{constructor(){super(),this._pushed=new Set}_transform(e,t,r){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),r()}}}},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var r={__proto__:t(e)};else r=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})),r};var t=Object.getPrototypeOf||function(e){return e.__proto__}},3735:(e,t,r)=>{var n,i,s=r(9896),o=r(9106),a=r(1995),c=r(1283),l=r(9023);function u(e,t){Object.defineProperty(e,n,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(n=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(n="___graceful-fs.queue",i="___graceful-fs.previous");var d,h=function(){};if(l.debuglog?h=l.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=l.format.apply(l,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!s[n]){var p=global[n]||[];u(s,p),s.close=function(e){function t(t,r){return e.call(s,t,(function(e){e||m(),"function"==typeof r&&r.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(s.close),s.closeSync=function(e){function t(t){e.apply(s,arguments),m()}return Object.defineProperty(t,i,{value:e}),t}(s.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(s[n]),r(2613).equal(s[n].length,0)}))}function f(e){o(e),e.gracefulify=f,e.createReadStream=function(t,r){return new e.ReadStream(t,r)},e.createWriteStream=function(t,r){return new e.WriteStream(t,r)};var t=e.readFile;e.readFile=function(e,r,n){return"function"==typeof r&&(n=r,r=null),function e(r,n,i,s){return t(r,n,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):g([e,[r,n,i],t,s||Date.now(),Date.now()])}))}(e,r,n)};var r=e.writeFile;e.writeFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,s,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):g([e,[t,n,i,s],r,o||Date.now(),Date.now()])}))}(e,t,n,i)};var n=e.appendFile;n&&(e.appendFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,s,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):g([e,[t,r,i,s],n,o||Date.now(),Date.now()])}))}(e,t,r,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=0),function e(t,r,n,s,o){return i(t,r,n,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):g([e,[t,r,n,s],i,o||Date.now(),Date.now()])}))}(e,t,r,n)});var s=e.readdir;e.readdir=function(e,t,r){"function"==typeof t&&(r=t,t=null);var n=c.test(process.version)?function(e,t,r,n){return s(e,i(e,t,r,n))}:function(e,t,r,n){return s(e,t,i(e,t,r,n))};return n(e,t,r);function i(e,t,r,i){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof r&&r.call(this,s,o)):g([n,[e,t,r],s,i||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var l=a(e);m=l.ReadStream,y=l.WriteStream}var u=e.ReadStream;u&&(m.prototype=Object.create(u.prototype),m.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,r){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r),e.read())}))});var d=e.WriteStream;d&&(y.prototype=Object.create(d.prototype),y.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,r){t?(e.destroy(),e.emit("error",t)):(e.fd=r,e.emit("open",r))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=m;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var p=y;function m(e,t){return this instanceof m?(u.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function y(e,t){return this instanceof y?(d.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,i,s){return v(t,r,n,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof i&&i.apply(this,arguments):g([e,[t,r,n,i],o,s||Date.now(),Date.now()])}))}(e,t,r,n)}return e.open=b,e}function g(e){h("ENQUEUE",e[0].name,e[1]),s[n].push(e),y()}function m(){for(var e=Date.now(),t=0;t<s[n].length;++t)s[n][t].length>2&&(s[n][t][3]=e,s[n][t][4]=e);y()}function y(){if(clearTimeout(d),d=void 0,0!==s[n].length){var e=s[n].shift(),t=e[0],r=e[1],i=e[2],o=e[3],a=e[4];if(void 0===o)h("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-o>=6e4){h("TIMEOUT",t.name,r);var c=r.pop();"function"==typeof c&&c.call(null,i)}else{var l=Date.now()-a,u=Math.max(a-o,1);l>=Math.min(1.2*u,100)?(h("RETRY",t.name,r),t.apply(null,r.concat([o]))):s[n].push(e)}void 0===d&&(d=setTimeout(y,0))}}global[n]||u(global,s[n]),e.exports=f(c(s)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!s.__patched&&(e.exports=f(s),s.__patched=!0)},1995:(e,t,r)=>{var n=r(2203).Stream;e.exports=function(e){return{ReadStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this);var s=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var o=Object.keys(i),a=0,c=o.length;a<c;a++){var l=o[a];this[l]=i[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return s.emit("error",e),void(s.readable=!1);s.fd=t,s.emit("open",t),s._read()})):process.nextTick((function(){s._read()}))},WriteStream:function t(r,i){if(!(this instanceof t))return new t(r,i);n.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},9106:(e,t,r)=>{var n=r(9140),i=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=i.call(process)),s};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){s=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(r,n,i){return t.call(e,r,n,(function(e){l(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function r(t){return t?function(r,n){try{return t.call(e,r,n)}catch(e){if(!l(e))throw e}}:t}function i(t){return t?function(r,n,i,s){return t.call(e,r,n,i,(function(e){l(e)&&(e=null),s&&s.apply(this,arguments)}))}:t}function s(t){return t?function(r,n,i){try{return t.call(e,r,n,i)}catch(e){if(!l(e))throw e}}:t}function a(t){return t?function(r,n,i){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof n&&(i=n,n=null),n?t.call(e,r,n,s):t.call(e,r,s)}:t}function c(t){return t?function(r,n){var i=n?t.call(e,r,n):t.call(e,r);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function l(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var u;n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,r,i){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){t?i&&i(t):e.fchmod(n,r,(function(t){e.close(n,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,r){var i,s=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r),o=!0;try{i=e.fchmodSync(s,r),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return i}}(e),e.lutimes||function(e){n.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,r,i,s){e.open(t,n.O_SYMLINK,(function(t,n){t?s&&s(t):e.futimes(n,r,i,(function(t){e.close(n,(function(e){s&&s(t||e)}))}))}))},e.lutimesSync=function(t,r,i){var s,o=e.openSync(t,n.O_SYMLINK),a=!0;try{s=e.futimesSync(o,r,i),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return s}):e.futimes&&(e.lutimes=function(e,t,r,n){n&&process.nextTick(n)},e.lutimesSync=function(){})}(e),e.chown=i(e.chown),e.fchown=i(e.fchown),e.lchown=i(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=r(e.chmodSync),e.fchmodSync=r(e.fchmodSync),e.lchmodSync=r(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,r){r&&process.nextTick(r)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,r,n){n&&process.nextTick(n)},e.lchownSync=function(){}),"win32"===o&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function r(r,n,i){var s=Date.now(),o=0;t(r,n,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-s<6e4)return setTimeout((function(){e.stat(n,(function(e,s){e&&"ENOENT"===e.code?t(r,n,a):i(c)}))}),o),void(o<100&&(o+=10));i&&i(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function r(r,n,i,s,o,a){var c;if(a&&"function"==typeof a){var l=0;c=function(u,d,h){if(u&&"EAGAIN"===u.code&&l<10)return l++,t.call(e,r,n,i,s,o,c);a.apply(this,arguments)}}return t.call(e,r,n,i,s,o,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(r,t),r}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(u=e.readSync,function(t,r,n,i,s){for(var o=0;;)try{return u.call(e,t,r,n,i,s)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}})}},7161:(e,t,r)=>{"use strict";var n=r(4774).Buffer;t._dbcs=u;for(var i=-1,s=-2,o=-10,a=-1e3,c=new Array(256),l=0;l<256;l++)c[l]=i;function u(e,t){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=c.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(c.slice(0));var l=this.decodeTables.length;this.decodeTables.push(c.slice(0));var u=this.decodeTables[0];for(n=129;n<=254;n++)for(var d=this.decodeTables[a-u[n]],h=48;h<=57;h++){if(d[h]===i)d[h]=a-o;else if(d[h]>a)throw new Error("gb18030 decode tables conflict at byte 2");for(var p=this.decodeTables[a-d[h]],f=129;f<=254;f++){if(p[f]===i)p[f]=a-l;else{if(p[f]===a-l)continue;if(p[f]>a)throw new Error("gb18030 decode tables conflict at byte 3")}for(var g=this.decodeTables[a-p[f]],m=48;m<=57;m++)g[m]===i&&(g[m]=s)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var y={};if(e.encodeSkipVals)for(n=0;n<e.encodeSkipVals.length;n++){var v=e.encodeSkipVals[n];if("number"==typeof v)y[v]=!0;else for(h=v.from;h<=v.to;h++)y[h]=!0}if(this._fillEncodeTable(0,0,y),e.encodeAdd)for(var b in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,b)&&this._setEncodeChar(b.charCodeAt(0),e.encodeAdd[b]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===i&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===i&&(this.defCharSB="?".charCodeAt(0))}function d(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function h(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function p(e,t){if(e[0]>t)return-1;for(var r=0,n=e.length;r<n-1;){var i=r+(n-r+1>>1);e[i]<=t?r=i:n=i}return r}u.prototype.encoder=d,u.prototype.decoder=h,u.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var s=r[t[n]];if(s==i)r[t[n]]=a-this.decodeTables.length,this.decodeTables.push(r=c.slice(0));else{if(!(s<=a))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));r=this.decodeTables[a-s]}}return r},u.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var s=0;s<i.length;){var a=i.charCodeAt(s++);if(55296<=a&&a<56320){var c=i.charCodeAt(s++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);r[t++]=65536+1024*(a-55296)+(c-56320)}else if(4080<a&&a<=4095){for(var l=4095-a+2,u=[],d=0;d<l;d++)u.push(i.charCodeAt(s++));r[t++]=o-this.decodeTableSeq.length,this.decodeTableSeq.push(u)}else r[t++]=a}else{if("number"!=typeof i)throw new Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0]);var h=r[t-1]+1;for(s=0;s<i;s++)r[t++]=h++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},u.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=c.slice(0)),this.encodeTable[t]},u.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=o?this.encodeTableSeq[o-r[n]][-1]=t:r[n]==i&&(r[n]=t)},u.prototype._setEncodeSequence=function(e,t){var r,n=e[0],s=this._getEncodeBucket(n),a=255&n;s[a]<=o?r=this.encodeTableSeq[o-s[a]]:(r={},s[a]!==i&&(r[-1]=s[a]),s[a]=o-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var c=1;c<e.length-1;c++){var l=r[n];"object"==typeof l?r=l:(r=r[n]={},void 0!==l&&(r[-1]=l))}r[n=e[e.length-1]]=t},u.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=!1,s={},c=0;c<256;c++){var l=n[c],u=t+c;if(!r[u])if(l>=0)this._setEncodeChar(l,u),i=!0;else if(l<=a){var d=a-l;if(!s[d]){var h=u<<8>>>0;this._fillEncodeTable(d,h,r)?i=!0:s[d]=!0}}else l<=o&&(this._setEncodeSequence(this.decodeTableSeq[o-l],u),i=!0)}return i},d.prototype.write=function(e){for(var t=n.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,s=this.seqObj,a=-1,c=0,l=0;;){if(-1===a){if(c==e.length)break;var u=e.charCodeAt(c++)}else u=a,a=-1;if(55296<=u&&u<57344)if(u<56320){if(-1===r){r=u;continue}r=u,u=i}else-1!==r?(u=65536+1024*(r-55296)+(u-56320),r=-1):u=i;else-1!==r&&(a=u,u=i,r=-1);var d=i;if(void 0!==s&&u!=i){var h=s[u];if("object"==typeof h){s=h;continue}"number"==typeof h?d=h:null==h&&void 0!==(h=s[-1])&&(d=h,a=u),s=void 0}else if(u>=0){var f=this.encodeTable[u>>8];if(void 0!==f&&(d=f[255&u]),d<=o){s=this.encodeTableSeq[o-d];continue}if(d==i&&this.gb18030){var g=p(this.gb18030.uChars,u);if(-1!=g){d=this.gb18030.gbChars[g]+(u-this.gb18030.uChars[g]),t[l++]=129+Math.floor(d/12600),d%=12600,t[l++]=48+Math.floor(d/1260),d%=1260,t[l++]=129+Math.floor(d/10),d%=10,t[l++]=48+d;continue}}}d===i&&(d=this.defaultCharSingleByte),d<256?t[l++]=d:d<65536?(t[l++]=d>>8,t[l++]=255&d):d<16777216?(t[l++]=d>>16,t[l++]=d>>8&255,t[l++]=255&d):(t[l++]=d>>>24,t[l++]=d>>>16&255,t[l++]=d>>>8&255,t[l++]=255&d)}return this.seqObj=s,this.leadSurrogate=r,t.slice(0,l)},d.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=n.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[-1];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},d.prototype.findIdx=p,h.prototype.write=function(e){for(var t=n.alloc(2*e.length),r=this.nodeIdx,c=this.prevBytes,l=this.prevBytes.length,u=-this.prevBytes.length,d=0,h=0;d<e.length;d++){var f,g=d>=0?e[d]:c[d+l];if((f=this.decodeTables[r][g])>=0);else if(f===i)f=this.defaultCharUnicode.charCodeAt(0),d=u;else if(f===s){if(d>=3)var m=12600*(e[d-3]-129)+1260*(e[d-2]-48)+10*(e[d-1]-129)+(g-48);else m=12600*(c[d-3+l]-129)+1260*((d-2>=0?e[d-2]:c[d-2+l])-48)+10*((d-1>=0?e[d-1]:c[d-1+l])-129)+(g-48);var y=p(this.gb18030.gbChars,m);f=this.gb18030.uChars[y]+m-this.gb18030.gbChars[y]}else{if(f<=a){r=a-f;continue}if(!(f<=o))throw new Error("iconv-lite internal error: invalid decoding table value "+f+" at "+r+"/"+g);for(var v=this.decodeTableSeq[o-f],b=0;b<v.length-1;b++)f=v[b],t[h++]=255&f,t[h++]=f>>8;f=v[v.length-1]}if(f>=65536){var S=55296|(f-=65536)>>10;t[h++]=255&S,t[h++]=S>>8,f=56320|1023&f}t[h++]=255&f,t[h++]=f>>8,r=0,u=d+1}return this.nodeIdx=r,this.prevBytes=u>=0?Array.prototype.slice.call(e,u):c.slice(u+l).concat(Array.prototype.slice.call(e)),t.slice(0,h).toString("ucs2")},h.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},7003:(e,t,r)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return r(679)},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return r(6406)},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return r(4488)}},gbk:{type:"_dbcs",table:function(){return r(4488).concat(r(5914))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return r(4488).concat(r(5914))},gb18030:function(){return r(9129)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return r(1166)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return r(2324)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return r(2324).concat(r(3267))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},3336:(e,t,r)=>{"use strict";for(var n=[r(2911),r(5172),r(5082),r(1336),r(3770),r(8698),r(7446),r(7161),r(7003)],i=0;i<n.length;i++){var s=n[i];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t[o]=s[o])}},2911:(e,t,r)=>{"use strict";var n=r(4774).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=c:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=l,""!==n.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=o;var s=r(3193).StringDecoder;function o(e,t){this.decoder=new s(t.enc)}function a(e,t){this.enc=t.enc}function c(e,t){this.prevStr=""}function l(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}s.prototype.end||(s.prototype.end=function(){}),o.prototype.write=function(e){return n.isBuffer(e)||(e=n.from(e)),this.decoder.write(e)},o.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return n.from(e,this.enc)},a.prototype.end=function(){},c.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),n.from(e,"base64")},c.prototype.end=function(){return n.from(this.prevStr,"base64")},l.prototype.write=function(e){for(var t=n.alloc(3*e.length),r=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t[r++]=s:s<2048?(t[r++]=192+(s>>>6),t[r++]=128+(63&s)):(t[r++]=224+(s>>>12),t[r++]=128+(s>>>6&63),t[r++]=128+(63&s))}return t.slice(0,r)},l.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",s=0;s<e.length;s++){var o=e[s];128!=(192&o)?(r>0&&(i+=this.defaultCharUnicode,r=0),o<128?i+=String.fromCharCode(o):o<224?(t=31&o,r=1,n=1):o<240?(t=15&o,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&o,n++,0==--r&&(i+=2===n&&t<128&&t>0||3===n&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},3770:(e,t,r)=>{"use strict";var n=r(4774).Buffer;function i(e,t){if(!e)throw new Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw new Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",i=0;i<128;i++)r+=String.fromCharCode(i);e.chars=r+e.chars}this.decodeBuf=n.from(e.chars,"ucs2");var s=n.alloc(65536,t.defaultCharSingleByte.charCodeAt(0));for(i=0;i<e.chars.length;i++)s[e.chars.charCodeAt(i)]=i;this.encodeBuf=s}function s(e,t){this.encodeBuf=t.encodeBuf}function o(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=s,i.prototype.decoder=o,s.prototype.write=function(e){for(var t=n.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},s.prototype.end=function(){},o.prototype.write=function(e){for(var t=this.decodeBuf,r=n.alloc(2*e.length),i=0,s=0,o=0;o<e.length;o++)i=2*e[o],r[s=2*o]=t[i],r[s+1]=t[i+1];return r.toString("ucs2")},o.prototype.end=function(){}},7446:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},8698:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},5082:(e,t,r)=>{"use strict";var n=r(4774).Buffer;function i(){}function s(){}function o(){this.overflowByte=-1}function a(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function l(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var r=[],n=0,i=0,s=0;e:for(var o=0;o<e.length;o++)for(var a=e[o],c=0;c<a.length;c++)if(r.push(a[c]),2===r.length){if(0===n){if(255===r[0]&&254===r[1])return"utf-16le";if(254===r[0]&&255===r[1])return"utf-16be"}if(0===r[0]&&0!==r[1]&&s++,0!==r[0]&&0===r[1]&&i++,r.length=0,++n>=100)break e}return s>i?"utf-16be":s<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=s,i.prototype.decoder=o,i.prototype.bomAware=!0,s.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=0;r<t.length;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t},s.prototype.end=function(){},o.prototype.write=function(e){if(0==e.length)return"";var t=n.alloc(e.length+1),r=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,i=2);r<e.length-1;r+=2,i+=2)t[i]=e[r+1],t[i+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},o.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=c,a.prototype.decoder=l,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},l.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},l.prototype.end=function(){if(!this.decoder){var e=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},5172:(e,t,r)=>{"use strict";var n=r(4774).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function s(e,t){this.isLE=t.isLE,this.highSurrogate=0}function o(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,r,n){if((r<0||r>1114111)&&(r=n),r>=65536){var i=55296|(r-=65536)>>10;e[t++]=255&i,e[t++]=i>>8,r=56320|1023&r}return e[t++]=255&r,e[t++]=r>>8,t}function c(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function d(e,t){var r=[],n=0,i=0,s=0,o=0,a=0;e:for(var c=0;c<e.length;c++)for(var l=e[c],u=0;u<l.length;u++)if(r.push(l[u]),4===r.length){if(0===n){if(255===r[0]&&254===r[1]&&0===r[2]&&0===r[3])return"utf-32le";if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return"utf-32be"}if((0!==r[0]||r[1]>16)&&s++,(0!==r[3]||r[2]>16)&&i++,0!==r[0]||0!==r[1]||0===r[2]&&0===r[3]||a++,0===r[0]&&0===r[1]||0!==r[2]||0!==r[3]||o++,r.length=0,++n>=100)break e}return a-s>o-i?"utf-32be":a-s<o-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=s,i.prototype.decoder=o,s.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=n.alloc(2*t.length),i=this.isLE?r.writeUInt32LE:r.writeUInt32BE,s=0,o=0;o<t.length;o+=2){var a=t.readUInt16LE(o),c=55296<=a&&a<56320,l=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&l){var u=65536+(this.highSurrogate-55296<<10|a-56320);i.call(r,u,s),s+=4,this.highSurrogate=0;continue}i.call(r,this.highSurrogate,s),s+=4}c?this.highSurrogate=a:(i.call(r,a,s),s+=4,this.highSurrogate=0)}return s<r.length&&(r=r.slice(0,s)),r},s.prototype.end=function(){if(this.highSurrogate){var e=n.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},o.prototype.write=function(e){if(0===e.length)return"";var t=0,r=0,i=n.alloc(e.length+4),s=0,o=this.isLE,c=this.overflow,l=this.badChar;if(c.length>0){for(;t<e.length&&c.length<4;t++)c.push(e[t]);4===c.length&&(r=o?c[t]|c[t+1]<<8|c[t+2]<<16|c[t+3]<<24:c[t+3]|c[t+2]<<8|c[t+1]<<16|c[t]<<24,c.length=0,s=a(i,s,r,l))}for(;t<e.length-3;t+=4)s=a(i,s,r=o?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,l);for(;t<e.length;t++)c.push(e[t]);return i.slice(0,s).toString("ucs2")},o.prototype.end=function(){this.overflow.length=0},t.utf32=c,t.ucs4="utf32",c.prototype.encoder=l,c.prototype.decoder=u,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=d(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},1336:(e,t,r)=>{"use strict";var n=r(4774).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=o,i.prototype.decoder=a,i.prototype.bomAware=!0;var s=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function o(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}o.prototype.write=function(e){return n.from(e.replace(s,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},o.prototype.end=function(){};for(var c=/[A-Za-z0-9\/+]/,l=[],u=0;u<256;u++)l[u]=c.test(String.fromCharCode(u));var d="+".charCodeAt(0),h="-".charCodeAt(0),p="&".charCodeAt(0);function f(e,t){this.iconv=t}function g(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}function m(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)if(i){if(!l[e[o]]){if(o==r&&e[o]==h)t+="+";else{var a=s+this.iconv.decode(e.slice(r,o),"ascii");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}e[o]!=h&&o--,r=o+1,i=!1,s=""}}else e[o]==d&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,i=!0);if(i){var c=(a=s+this.iconv.decode(e.slice(r),"ascii")).length-a.length%8;s=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=s,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=f,f.prototype.encoder=g,f.prototype.decoder=m,f.prototype.bomAware=!0,g.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,i=this.base64AccumIdx,s=n.alloc(5*e.length+10),o=0,a=0;a<e.length;a++){var c=e.charCodeAt(a);32<=c&&c<=126?(t&&(i>0&&(o+=s.write(r.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),o),i=0),s[o++]=h,t=!1),t||(s[o++]=c,c===p&&(s[o++]=h))):(t||(s[o++]=p,t=!0),t&&(r[i++]=c>>8,r[i++]=255&c,i==r.length&&(o+=s.write(r.toString("base64").replace(/\//g,","),o),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,s.slice(0,o)},g.prototype.end=function(){var e=n.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=h,this.inBase64=!1),e.slice(0,t)};var y=l.slice();y[",".charCodeAt(0)]=!0,m.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,s=this.base64Accum,o=0;o<e.length;o++)if(i){if(!y[e[o]]){if(o==r&&e[o]==h)t+="&";else{var a=s+this.iconv.decode(e.slice(r,o),"ascii").replace(/,/g,"/");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}e[o]!=h&&o--,r=o+1,i=!1,s=""}}else e[o]==p&&(t+=this.iconv.decode(e.slice(r,o),"ascii"),r=o+1,i=!0);if(i){var c=(a=s+this.iconv.decode(e.slice(r),"ascii").replace(/,/g,"/")).length-a.length%8;s=a.slice(c),a=a.slice(0,c),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=s,t},m.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},557:(e,t)=>{"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function n(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=n,n.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()}},5249:(e,t,r)=>{"use strict";var n,i=r(4774).Buffer,s=r(557),o=e.exports;o.encodings=null,o.defaultCharUnicode="",o.defaultCharSingleByte="?",o.encode=function(e,t,r){e=""+(e||"");var n=o.getEncoder(t,r),s=n.write(e),a=n.end();return a&&a.length>0?i.concat([s,a]):s},o.decode=function(e,t,r){"string"==typeof e&&(o.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),o.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var n=o.getDecoder(t,r),s=n.write(e),a=n.end();return a?s+a:s},o.encodingExists=function(e){try{return o.getCodec(e),!0}catch(e){return!1}},o.toEncoding=o.encode,o.fromEncoding=o.decode,o._codecDataCache={},o.getCodec=function(e){o.encodings||(o.encodings=r(3336));for(var t=o._canonicalizeEncoding(e),n={};;){var i=o._codecDataCache[t];if(i)return i;var s=o.encodings[t];switch(typeof s){case"string":t=s;break;case"object":for(var a in s)n[a]=s[a];n.encodingName||(n.encodingName=t),t=s.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new s(n,o),o._codecDataCache[n.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},o._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},o.getEncoder=function(e,t){var r=o.getCodec(e),n=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(n=new s.PrependBOM(n,t)),n},o.getDecoder=function(e,t){var r=o.getCodec(e),n=new r.decoder(t,r);return!r.bomAware||t&&!1===t.stripBOM||(n=new s.StripBOM(n,t)),n},o.enableStreamingAPI=function(e){if(!o.supportsStreams){var t=r(7792)(e);o.IconvLiteEncoderStream=t.IconvLiteEncoderStream,o.IconvLiteDecoderStream=t.IconvLiteDecoderStream,o.encodeStream=function(e,t){return new o.IconvLiteEncoderStream(o.getEncoder(e,t),t)},o.decodeStream=function(e,t){return new o.IconvLiteDecoderStream(o.getDecoder(e,t),t)},o.supportsStreams=!0}};try{n=r(2203)}catch(e){}n&&n.Transform?o.enableStreamingAPI(n):o.encodeStream=o.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},7792:(e,t,r)=>{"use strict";var n=r(4774).Buffer;e.exports=function(e){var t=e.Transform;function r(e,r){this.conv=e,(r=r||{}).decodeStrings=!1,t.call(this,r)}function i(e,r){this.conv=e,(r=r||{}).encoding=this.encoding="utf8",t.call(this,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(new Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",(function(e){t.push(e)})),this.on("end",(function(){e(null,n.concat(t))})),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,r){if(!(n.isBuffer(e)||e instanceof Uint8Array))return r(new Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),r()}catch(e){r(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:i}}},2535:e=>{function t(e){return Array.isArray(e)?e:[e]}const r=/^\s+$/,n=/^\\!/,i=/^\\#/,s=/\r?\n/g,o=/^\.*\/|^\.+$/,a="undefined"!=typeof Symbol?Symbol.for("node-ignore"):"node-ignore",c=/([0-z])-([0-z])/g,l=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>"\\"===t?`\\[${r}${(e=>{const{length:t}=e;return e.slice(0,t-t%2)})(n)}${i}`:"]"===i&&n.length%2==0?`[${(e=>e.replace(c,((e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:"")))(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>(t?`${t}[^/]+`:"[^/]*")+"(?=$|\\/$)"]],u=Object.create(null),d=e=>"string"==typeof e;class h{constructor(e,t,r,n){this.origin=e,this.pattern=t,this.negative=r,this.regex=n}}const p=(e,t)=>{throw new t(e)},f=(e,t,r)=>d(e)?e?!f.isNotRelative(e)||r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),g=e=>o.test(e);f.isNotRelative=g,f.convert=e=>e;class m{constructor({ignorecase:e=!0}={}){var t;this._rules=[],this._ignorecase=e,t=a,Object.defineProperty(this,t,{value:true}),this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[a])return this._rules=this._rules.concat(e._rules),void(this._added=!0);if((e=>e&&d(e)&&!r.test(e)&&0!==e.indexOf("#"))(e)){const t=((e,t)=>{const r=e;let s=!1;0===e.indexOf("!")&&(s=!0,e=e.substr(1));const o=((e,t,r)=>{const n=u[e];if(n)return n;const i=l.reduce(((t,r)=>t.replace(r[0],r[1].bind(e))),e);return u[e]=r?new RegExp(i,"i"):new RegExp(i)})(e=e.replace(n,"!").replace(i,"#"),0,t);return new h(r,e,s,o)})(e,this._ignorecase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,t(d(e)?(e=>e.split(s))(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,n=!1;return this._rules.forEach((i=>{const{negative:s}=i;n===s&&r!==n||s&&!r&&!n&&!t||i.regex.test(e)&&(r=!s,n=s)})),{ignored:r,unignored:n}}_test(e,t,r,n){const i=e&&f.convert(e);return f(i,e,p),this._t(i,t,r,n)}_t(e,t,r,n){if(e in t)return t[e];if(n||(n=e.split("/")),n.pop(),!n.length)return t[e]=this._testOne(e,r);const i=this._t(n.join("/")+"/",t,r,n);return t[e]=i.ignored?i:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return t(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const y=e=>new m(e),v=()=>!1;if(y.isPathValid=e=>f(e&&f.convert(e),e,v),y.default=y,e.exports=y,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){const e=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");f.convert=e;const t=/^[a-z]:\//i;f.isNotRelative=e=>t.test(e)||g(e)}},1341:e=>{e.exports=function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}},2382:(e,t,r)=>{var n=r(1341),i={"{":"}","(":")","[":"]"},s=function(e){if("!"===e[0])return!0;for(var t=0,r=-2,n=-2,s=-2,o=-2,a=-2;t<e.length;){if("*"===e[t])return!0;if("?"===e[t+1]&&/[\].+)]/.test(e[t]))return!0;if(-1!==n&&"["===e[t]&&"]"!==e[t+1]&&(n<t&&(n=e.indexOf("]",t)),n>t)){if(-1===a||a>n)return!0;if(-1===(a=e.indexOf("\\",t))||a>n)return!0}if(-1!==s&&"{"===e[t]&&"}"!==e[t+1]&&(s=e.indexOf("}",t))>t&&(-1===(a=e.indexOf("\\",t))||a>s))return!0;if(-1!==o&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(o=e.indexOf(")",t))>t&&(-1===(a=e.indexOf("\\",t))||a>o))return!0;if(-1!==r&&"("===e[t]&&"|"!==e[t+1]&&(r<t&&(r=e.indexOf("|",t)),-1!==r&&")"!==e[r+1]&&(o=e.indexOf(")",r))>r&&(-1===(a=e.indexOf("\\",r))||a>o)))return!0;if("\\"===e[t]){var c=e[t+1];t+=2;var l=i[c];if(l){var u=e.indexOf(l,t);-1!==u&&(t=u+1)}if("!"===e[t])return!0}else t++}return!1},o=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var r=e[t+1];t+=2;var n=i[r];if(n){var s=e.indexOf(n,t);-1!==s&&(t=s+1)}if("!"===e[t])return!0}else t++}return!1};e.exports=function(e,t){if("string"!=typeof e||""===e)return!1;if(n(e))return!0;var r=s;return t&&!1===t.strict&&(r=o),r(e)}},1929:e=>{"use strict";e.exports=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))}},2909:(e,t,r)=>{let n;try{n=r(3735)}catch(e){n=r(9896)}const i=r(1236),{stringify:s,stripBom:o}=r(1144),a={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,s=!("throws"in t)||t.throws;let a,c=await i.fromCallback(r.readFile)(e,t);c=o(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(s)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const r=t.fs||n,i=!("throws"in t)||t.throws;try{let n=r.readFileSync(e,t);return n=o(n),JSON.parse(n,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,r={}){const o=r.fs||n,a=s(t,r);await i.fromCallback(o.writeFile)(e,a,r)})),writeFileSync:function(e,t,r={}){const i=r.fs||n,o=s(t,r);return i.writeFileSync(e,o,r)}};e.exports=a},1144:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){const s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},2028:e=>{var t,r=1/0,n="[object Symbol]",i=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o="\\ud800-\\udfff",a="\\u0300-\\u036f\\ufe20-\\ufe23",c="\\u20d0-\\u20f0",l="\\u2700-\\u27bf",u="a-z\\xdf-\\xf6\\xf8-\\xff",d="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",p="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",f="["+o+"]",g="["+p+"]",m="["+a+c+"]",y="\\d+",v="["+l+"]",b="["+u+"]",S="[^"+o+p+y+l+u+d+"]",E="\\ud83c[\\udffb-\\udfff]",_="[^"+o+"]",w="(?:\\ud83c[\\udde6-\\uddff]){2}",C="[\\ud800-\\udbff][\\udc00-\\udfff]",T="["+d+"]",R="\\u200d",k="(?:"+b+"|"+S+")",A="(?:"+T+"|"+S+")",O="(?:['](?:d|ll|m|re|s|t|ve))?",x="(?:['](?:D|LL|M|RE|S|T|VE))?",N="(?:"+m+"|"+E+")?",P="["+h+"]?",M=P+N+"(?:"+R+"(?:"+[_,w,C].join("|")+")"+P+N+")*",L="(?:"+[v,w,C].join("|")+")"+M,I="(?:"+[_+m+"?",m,w,C,f].join("|")+")",D=RegExp("[']","g"),j=RegExp(m,"g"),F=RegExp(E+"(?="+E+")|"+I+M,"g"),B=RegExp([T+"?"+b+"+"+O+"(?="+[g,T,"$"].join("|")+")",A+"+"+x+"(?="+[g,T+k,"$"].join("|")+")",T+"?"+k+"+"+O,T+"+"+x,y,L].join("|"),"g"),$=RegExp("["+R+o+a+c+h+"]"),H=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,U="object"==typeof global&&global&&global.Object===Object&&global,z="object"==typeof self&&self&&self.Object===Object&&self,q=U||z||Function("return this")(),W=(t={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"ss"},function(e){return null==t?void 0:t[e]});function G(e){return $.test(e)}var V=Object.prototype.toString,K=q.Symbol,Y=K?K.prototype:void 0,J=Y?Y.toString:void 0;function X(e){return null==e?"":function(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&V.call(e)==n}(e))return J?J.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(e)}var Q,Z=(Q=function(e,t,r){return t=t.toLowerCase(),e+(r?ee(X(t).toLowerCase()):t)},function(e){return function(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)r=t(r,e[n],n,e);return r}(function(e,t){return e=X(e),void 0===t?function(e){return H.test(e)}(e)?function(e){return e.match(B)||[]}(e):function(e){return e.match(i)||[]}(e):e.match(t)||[]}(function(e){return(e=X(e))&&e.replace(s,W).replace(j,"")}(e).replace(D,"")),Q,"")}),ee=function(e){var t,r,n,i,s=G(e=X(e))?function(e){return G(e)?function(e){return e.match(F)||[]}(e):function(e){return e.split("")}(e)}(e):void 0,o=s?s[0]:e.charAt(0),a=s?(t=s,r=1,i=t.length,n=void 0===n?i:n,!r&&n>=i?t:function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(i);++n<i;)s[n]=e[n+t];return s}(t,r,n)).join(""):e.slice(1);return o.toUpperCase()+a};e.exports=Z},8570:e=>{e.exports=r;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function r(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function n(e){return!0===(e&&e.__isLong__)}r.prototype.__isLong__,Object.defineProperty(r.prototype,"__isLong__",{value:!0}),r.isLong=n;var i={},s={};function o(e,t){var r,n,o;return t?(o=0<=(e>>>=0)&&e<256)&&(n=s[e])?n:(r=c(e,(0|e)<0?-1:0,!0),o&&(s[e]=r),r):(o=-128<=(e|=0)&&e<128)&&(n=i[e])?n:(r=c(e,e<0?-1:0,!1),o&&(i[e]=r),r)}function a(e,t){if(isNaN(e))return t?y:m;if(t){if(e<0)return y;if(e>=p)return _}else{if(e<=-f)return w;if(e+1>=f)return E}return e<0?a(-e,t).neg():c(e%h|0,e/h|0,t)}function c(e,t,n){return new r(e,t,n)}r.fromInt=o,r.fromNumber=a,r.fromBits=c;var l=Math.pow;function u(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return u(e.substring(1),t,r).neg();for(var i=a(l(r,8)),s=m,o=0;o<e.length;o+=8){var c=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+c),r);if(c<8){var h=a(l(r,c));s=s.mul(h).add(a(d))}else s=(s=s.mul(i)).add(a(d))}return s.unsigned=t,s}function d(e,t){return"number"==typeof e?a(e,t):"string"==typeof e?u(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}r.fromString=u,r.fromValue=d;var h=4294967296,p=h*h,f=p/2,g=o(1<<24),m=o(0);r.ZERO=m;var y=o(0,!0);r.UZERO=y;var v=o(1);r.ONE=v;var b=o(1,!0);r.UONE=b;var S=o(-1);r.NEG_ONE=S;var E=c(-1,2147483647,!1);r.MAX_VALUE=E;var _=c(-1,-1,!0);r.MAX_UNSIGNED_VALUE=_;var w=c(0,-2147483648,!1);r.MIN_VALUE=w;var C=r.prototype;C.toInt=function(){return this.unsigned?this.low>>>0:this.low},C.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},C.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(w)){var t=a(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=a(l(e,6),this.unsigned),s=this,o="";;){var c=s.div(i),u=(s.sub(c.mul(i)).toInt()>>>0).toString(e);if((s=c).isZero())return u+o;for(;u.length<6;)u="0"+u;o=""+u+o}},C.getHighBits=function(){return this.high},C.getHighBitsUnsigned=function(){return this.high>>>0},C.getLowBits=function(){return this.low},C.getLowBitsUnsigned=function(){return this.low>>>0},C.getNumBitsAbs=function(){if(this.isNegative())return this.eq(w)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&!(e&1<<t);t--);return 0!=this.high?t+33:t+1},C.isZero=function(){return 0===this.high&&0===this.low},C.eqz=C.isZero,C.isNegative=function(){return!this.unsigned&&this.high<0},C.isPositive=function(){return this.unsigned||this.high>=0},C.isOdd=function(){return!(1&~this.low)},C.isEven=function(){return!(1&this.low)},C.equals=function(e){return n(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},C.eq=C.equals,C.notEquals=function(e){return!this.eq(e)},C.neq=C.notEquals,C.ne=C.notEquals,C.lessThan=function(e){return this.comp(e)<0},C.lt=C.lessThan,C.lessThanOrEqual=function(e){return this.comp(e)<=0},C.lte=C.lessThanOrEqual,C.le=C.lessThanOrEqual,C.greaterThan=function(e){return this.comp(e)>0},C.gt=C.greaterThan,C.greaterThanOrEqual=function(e){return this.comp(e)>=0},C.gte=C.greaterThanOrEqual,C.ge=C.greaterThanOrEqual,C.compare=function(e){if(n(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},C.comp=C.compare,C.negate=function(){return!this.unsigned&&this.eq(w)?w:this.not().add(v)},C.neg=C.negate,C.add=function(e){n(e)||(e=d(e));var t=this.high>>>16,r=65535&this.high,i=this.low>>>16,s=65535&this.low,o=e.high>>>16,a=65535&e.high,l=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=s+(65535&e.low))>>>16,h+=(p+=i+l)>>>16,u+=(h+=r+a)>>>16,u+=t+o,c((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},C.subtract=function(e){return n(e)||(e=d(e)),this.add(e.neg())},C.sub=C.subtract,C.multiply=function(e){if(this.isZero())return m;if(n(e)||(e=d(e)),t)return c(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(w))return e.isOdd()?w:m;if(e.eq(w))return this.isOdd()?w:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(g)&&e.lt(g))return a(this.toNumber()*e.toNumber(),this.unsigned);var r=this.high>>>16,i=65535&this.high,s=this.low>>>16,o=65535&this.low,l=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,y=0,v=0,b=0;return v+=(b+=o*p)>>>16,y+=(v+=s*p)>>>16,v&=65535,y+=(v+=o*h)>>>16,f+=(y+=i*p)>>>16,y&=65535,f+=(y+=s*h)>>>16,y&=65535,f+=(y+=o*u)>>>16,f+=r*p+i*h+s*u+o*l,c((v&=65535)<<16|(b&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},C.mul=C.multiply,C.divide=function(e){if(n(e)||(e=d(e)),e.isZero())throw Error("division by zero");var r,i,s;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return b;s=y}else{if(this.eq(w))return e.eq(v)||e.eq(S)?w:e.eq(w)?v:(r=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?v:S:(i=this.sub(e.mul(r)),s=r.add(i.div(e)));if(e.eq(w))return this.unsigned?y:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=m}for(i=this;i.gte(e);){r=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(r)/Math.LN2),u=o<=48?1:l(2,o-48),h=a(r),p=h.mul(e);p.isNegative()||p.gt(i);)p=(h=a(r-=u,this.unsigned)).mul(e);h.isZero()&&(h=v),s=s.add(h),i=i.sub(p)}return s},C.div=C.divide,C.modulo=function(e){return n(e)||(e=d(e)),t?c((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},C.mod=C.modulo,C.rem=C.modulo,C.not=function(){return c(~this.low,~this.high,this.unsigned)},C.and=function(e){return n(e)||(e=d(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},C.or=function(e){return n(e)||(e=d(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},C.xor=function(e){return n(e)||(e=d(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},C.shiftLeft=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},C.shl=C.shiftLeft,C.shiftRight=function(e){return n(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},C.shr=C.shiftRight,C.shiftRightUnsigned=function(e){if(n(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},C.shru=C.shiftRightUnsigned,C.shr_u=C.shiftRightUnsigned,C.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},C.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},C.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},C.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},C.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},r.fromBytes=function(e,t,n){return n?r.fromBytesLE(e,t):r.fromBytesBE(e,t)},r.fromBytesLE=function(e,t){return new r(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},r.fromBytesBE=function(e,t){return new r(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},9749:(e,t,r)=>{"use strict";const n=r(6207),i=Symbol("max"),s=Symbol("length"),o=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),l=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1,g=(e,t,r)=>{const n=e[h].get(t);if(n){const t=n.value;if(m(e,t)){if(v(e,n),!e[a])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},m=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]},y=e=>{if(e[s]>e[i])for(let t=e[d].tail;e[s]>e[i]&&null!==t;){const r=t.prev;v(e,t),t=r}},v=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[s]-=r.length,e[h].delete(r.key),e[d].removeNode(t)}};class b{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const S=(e,t,r,n)=>{let i=r.value;m(e,i)&&(v(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||f;if(this[o]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[l]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,y(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,y(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[o]&&(this[o]=e,this[s]=0,this[d].forEach((e=>{e.length=this[o](e.value,e.key),this[s]+=e.length}))),y(this)}get lengthCalculator(){return this[o]}get length(){return this[s]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){const n=r.prev;S(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){const n=r.next;S(this,e,r,t),r=n}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[l]&&this[d]&&this[d].length&&this[d].forEach((e=>this[l](e.key,e.value))),this[h]=new Map,this[d]=new n,this[s]=0}dump(){return this[d].map((e=>!m(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[c])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[o](t,e);if(this[h].has(e)){if(a>this[i])return v(this,this[h].get(e)),!1;const o=this[h].get(e).value;return this[l]&&(this[u]||this[l](e,o.value)),o.now=n,o.maxAge=r,o.value=t,this[s]+=a-o.length,o.length=a,this.get(e),y(this),!0}const p=new b(e,t,a,n,r);return p.length>this[i]?(this[l]&&this[l](e,t),!1):(this[s]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),y(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!m(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){const e=this[d].tail;return e?(v(this,e),e.value):null}del(e){v(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[h].forEach(((e,t)=>g(this,t,!1)))}}},6835:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},6207:(e,t,r)=>{"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function s(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function o(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,s=this.head;null!==s&&i<e;i++)s=s.next;for(;null!==s&&i<t;i++,s=s.next)r.push(s.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,s=this.tail;null!==s&&i>t;i--)s=s.prev;for(;null!==s&&i>e;i--,s=s.prev)r.push(s.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;null!==s&&n<e;n++)s=s.next;var o=[];for(n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);for(null===s&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev),n=0;n<r.length;n++)s=i(this,s,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(6835)(n)}catch(e){}},4971:(e,t,r)=>{"use strict";const n=r(2203).PassThrough,i=Array.prototype.slice;function s(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=s(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(n(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}e.exports=function(){const e=[],t=i.call(arguments);let r=!1,o=t[t.length-1];o&&!Array.isArray(o)&&null==o.pipe?t.pop():o={};const a=!1!==o.end,c=!0===o.pipeError;null==o.objectMode&&(o.objectMode=!0),null==o.highWaterMark&&(o.highWaterMark=65536);const l=n(o);function u(){for(let t=0,r=arguments.length;t<r;t++)e.push(s(arguments[t],o));return d(),this}function d(){if(r)return;r=!0;let t=e.shift();if(!t)return void process.nextTick(h);Array.isArray(t)||(t=[t]);let n=t.length+1;function i(){--n>0||(r=!1,d())}function s(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),c&&e.removeListener("error",r),i()}function r(e){l.emit("error",e)}if(e._readableState.endEmitted)return i();e.on("merge2UnpipeEnd",t),e.on("end",t),c&&e.on("error",r),e.pipe(l,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)s(t[e]);i()}function h(){r=!1,l.emit("queueDrain"),a&&l.end()}return l.setMaxListeners(0),l.add=u,l.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&u.apply(null,t),l}},628:(e,t,r)=>{"use strict";const n=r(9023),i=r(4537),s=r(5157),o=r(280),a=e=>""===e||"./"===e,c=e=>{const t=e.indexOf("{");return t>-1&&e.indexOf("}",t)>-1},l=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,o=new Set,a=0,c=e=>{o.add(e.output),r&&r.onResult&&r.onResult(e)};for(let o=0;o<t.length;o++){let l=s(String(t[o]),{...r,onResult:c},!0),u=l.state.negated||l.state.negatedExtglob;u&&a++;for(let t of e){let e=l(t,!0);(u?!e.isMatch:e.isMatch)&&(u?n.add(e.output):(n.delete(e.output),i.add(e.output)))}}let l=(a===t.length?[...o]:[...i]).filter((e=>!n.has(e)));if(r&&0===l.length){if(!0===r.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map((e=>e.replace(/\\/g,""))):t}return l};l.match=l,l.matcher=(e,t)=>s(e,t),l.any=l.isMatch=(e,t,r)=>s(t,r)(e),l.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],s=new Set(l(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),i.push(e.output)}}));for(let e of i)s.has(e)||n.add(e);return[...n]},l.contains=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>l.contains(e,t,r)));if("string"==typeof t){if(a(e)||a(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return l.isMatch(e,t,{...r,contains:!0})},l.matchKeys=(e,t,r)=>{if(!o.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=l(Object.keys(e),t,r),i={};for(let t of n)i[t]=e[t];return i},l.some=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),r);if(n.some((e=>t(e))))return!0}return!1},l.every=(e,t,r)=>{let n=[].concat(e);for(let e of[].concat(t)){let t=s(String(e),r);if(!n.every((e=>t(e))))return!1}return!0},l.all=(e,t,r)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${n.inspect(e)}"`);return[].concat(t).every((t=>s(t,r)(e)))},l.capture=(e,t,r)=>{let n=o.isWindows(r),i=s.makeRe(String(e),{...r,capture:!0}).exec(n?o.toPosixSlashes(t):t);if(i)return i.slice(1).map((e=>void 0===e?"":e))},l.makeRe=(...e)=>s.makeRe(...e),l.scan=(...e)=>s.scan(...e),l.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let e of i(String(n),t))r.push(s.parse(e,t));return r},l.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!c(e)?[e]:i(e,t)},l.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return l.braces(e,{...t,expand:!0})},l.hasBraces=c,e.exports=l},9031:e=>{function t(e){return"number"==typeof e||!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function r(e,t){return"constructor"===t&&"function"==typeof e[t]||"__proto__"===t}e.exports=function(e,n){n||(n={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(i.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?i.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach((function(e){i.bools[e]=!0}));var s={};Object.keys(n.alias||{}).forEach((function(e){s[e]=[].concat(n.alias[e]),s[e].forEach((function(t){s[t]=[e].concat(s[e].filter((function(e){return t!==e})))}))})),[].concat(n.string).filter(Boolean).forEach((function(e){i.strings[e]=!0,s[e]&&(i.strings[s[e]]=!0)}));var o=n.default||{},a={_:[]};Object.keys(i.bools).forEach((function(e){l(e,void 0!==o[e]&&o[e])}));var c=[];function l(e,r,n){if(!n||!i.unknownFn||function(e,t){return i.allBools&&/^--[^=]+$/.test(t)||i.strings[e]||i.bools[e]||s[e]}(e,n)||!1!==i.unknownFn(n)){var o=!i.strings[e]&&t(r)?Number(r):r;u(a,e.split("."),o),(s[e]||[]).forEach((function(e){u(a,e.split("."),o)}))}}function u(e,t,n){for(var s=e,o=0;o<t.length-1;o++){if(r(s,a=t[o]))return;void 0===s[a]&&(s[a]={}),s[a]!==Object.prototype&&s[a]!==Number.prototype&&s[a]!==String.prototype||(s[a]={}),s[a]===Array.prototype&&(s[a]=[]),s=s[a]}var a;r(s,a=t[t.length-1])||(s!==Object.prototype&&s!==Number.prototype&&s!==String.prototype||(s={}),s===Array.prototype&&(s=[]),void 0===s[a]||i.bools[a]||"boolean"==typeof s[a]?s[a]=n:Array.isArray(s[a])?s[a].push(n):s[a]=[s[a],n])}function d(e){return s[e].some((function(e){return i.bools[e]}))}-1!==e.indexOf("--")&&(c=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var h=0;h<e.length;h++){var p=e[h];if(/^--.+=/.test(p)){var f=p.match(/^--([^=]+)=([\s\S]*)$/),g=f[1],m=f[2];i.bools[g]&&(m="false"!==m),l(g,m,p)}else if(/^--no-.+/.test(p))l(g=p.match(/^--no-(.+)/)[1],!1,p);else if(/^--.+/.test(p))g=p.match(/^--(.+)/)[1],void 0===(S=e[h+1])||/^-/.test(S)||i.bools[g]||i.allBools||s[g]&&d(g)?/^(true|false)$/.test(S)?(l(g,"true"===S,p),h++):l(g,!i.strings[g]||"",p):(l(g,S,p),h++);else if(/^-[^-]+/.test(p)){for(var y=p.slice(1,-1).split(""),v=!1,b=0;b<y.length;b++){var S;if("-"!==(S=p.slice(b+2))){if(/[A-Za-z]/.test(y[b])&&/=/.test(S)){l(y[b],S.split("=")[1],p),v=!0;break}if(/[A-Za-z]/.test(y[b])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(S)){l(y[b],S,p),v=!0;break}if(y[b+1]&&y[b+1].match(/\W/)){l(y[b],p.slice(b+2),p),v=!0;break}l(y[b],!i.strings[y[b]]||"",p)}else l(y[b],S,p)}g=p.slice(-1)[0],v||"-"===g||(!e[h+1]||/^(-|--)[^-]/.test(e[h+1])||i.bools[g]||s[g]&&d(g)?e[h+1]&&/^(true|false)$/.test(e[h+1])?(l(g,"true"===e[h+1],p),h++):l(g,!i.strings[g]||"",p):(l(g,e[h+1],p),h++))}else if(i.unknownFn&&!1===i.unknownFn(p)||a._.push(i.strings._||!t(p)?p:Number(p)),n.stopEarly){a._.push.apply(a._,e.slice(h+1));break}}return Object.keys(o).forEach((function(e){var t,r,n;t=a,r=e.split("."),n=t,r.slice(0,-1).forEach((function(e){n=n[e]||{}})),r[r.length-1]in n||(u(a,e.split("."),o[e]),(s[e]||[]).forEach((function(t){u(a,t.split("."),o[e])})))})),n["--"]?(a["--"]=new Array,c.forEach((function(e){a["--"].push(e)}))):c.forEach((function(e){a._.push(e)})),a}},4116:(e,t,r)=>{"use strict";const n=r(5617),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class s extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const o=(e,t)=>new Promise(((r,o)=>{t={onFailedAttempt:()=>{},retries:10,...t};const a=n.operation(t);a.attempt((async n=>{try{r(await e(n))}catch(e){if(!(e instanceof Error))return void o(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof s)a.stop(),o(e.originalError);else if(e instanceof TypeError&&(c=e.message,!i.includes(c)))a.stop(),o(e);else{((e,t,r)=>{const n=r.retries-(t-1);e.attemptNumber=t,e.retriesLeft=n})(e,n,t);try{await t.onFailedAttempt(e)}catch(e){return void o(e)}a.retry(e)||o(a.mainError())}}var c}))}));e.exports=o,e.exports.default=o,e.exports.AbortError=s},4433:(e,t,r)=>{"use strict";const{promisify:n}=r(9023),i=r(9896);async function s(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return(await n(i[e])(r))[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}function o(e,t,r){if("string"!=typeof r)throw new TypeError("Expected a string, got "+typeof r);try{return i[e](r)[t]()}catch(e){if("ENOENT"===e.code)return!1;throw e}}t.isFile=s.bind(null,"stat","isFile"),t.isDirectory=s.bind(null,"stat","isDirectory"),t.isSymlink=s.bind(null,"lstat","isSymbolicLink"),t.isFileSync=o.bind(null,"statSync","isFile"),t.isDirectorySync=o.bind(null,"statSync","isDirectory"),t.isSymlinkSync=o.bind(null,"lstatSync","isSymbolicLink")},5157:(e,t,r)=>{"use strict";e.exports=r(6675)},3940:(e,t,r)=>{"use strict";const n=r(6928),i="\\\\/",s=`[^${i}]`,o="\\.",a="\\/",c="[^/]",l=`(?:${a}|$)`,u=`(?:^|${a})`,d=`${o}{1,2}${l}`,h={DOT_LITERAL:o,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:a,ONE_CHAR:"(?=.)",QMARK:c,END_ANCHOR:l,DOTS_SLASH:d,NO_DOT:`(?!${o})`,NO_DOTS:`(?!${u}${d})`,NO_DOT_SLASH:`(?!${o}{0,1}${l})`,NO_DOTS_SLASH:`(?!${d})`,QMARK_NO_DOT:`[^.${a}]`,STAR:`${c}*?`,START_ANCHOR:u},p={...h,SLASH_LITERAL:`[${i}]`,QMARK:s,STAR:`${s}*?`,DOTS_SLASH:`${o}{1,2}(?:[${i}]|$)`,NO_DOT:`(?!${o})`,NO_DOTS:`(?!(?:^|[${i}])${o}{1,2}(?:[${i}]|$))`,NO_DOT_SLASH:`(?!${o}{0,1}(?:[${i}]|$))`,NO_DOTS_SLASH:`(?!${o}{1,2}(?:[${i}]|$))`,QMARK_NO_DOT:`[^.${i}]`,START_ANCHOR:`(?:^|[${i}])`,END_ANCHOR:`(?:[${i}]|$)`};e.exports={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:n.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?p:h}},1154:(e,t,r)=>{"use strict";const n=r(3940),i=r(280),{MAX_LENGTH:s,POSIX_REGEX_SOURCE:o,REGEX_NON_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_BACKREF:c,REPLACEMENTS:l}=n,u=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map((e=>i.escapeRegex(e))).join("..")}return r},d=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,h=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=l[e]||e;const r={...t},p="number"==typeof r.maxLength?Math.min(s,r.maxLength):s;let f=e.length;if(f>p)throw new SyntaxError(`Input length: ${f}, exceeds maximum allowed length: ${p}`);const g={type:"bos",value:"",output:r.prepend||""},m=[g],y=r.capture?"":"?:",v=i.isWindows(t),b=n.globChars(v),S=n.extglobChars(b),{DOT_LITERAL:E,PLUS_LITERAL:_,SLASH_LITERAL:w,ONE_CHAR:C,DOTS_SLASH:T,NO_DOT:R,NO_DOT_SLASH:k,NO_DOTS_SLASH:A,QMARK:O,QMARK_NO_DOT:x,STAR:N,START_ANCHOR:P}=b,M=e=>`(${y}(?:(?!${P}${e.dot?T:E}).)*?)`,L=r.dot?"":R,I=r.dot?O:x;let D=!0===r.bash?M(r):N;r.capture&&(D=`(${D})`),"boolean"==typeof r.noext&&(r.noextglob=r.noext);const j={input:e,index:-1,start:0,dot:!0===r.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:m};e=i.removePrefix(e,j),f=e.length;const F=[],B=[],$=[];let H,U=g;const z=()=>j.index===f-1,q=j.peek=(t=1)=>e[j.index+t],W=j.advance=()=>e[++j.index]||"",G=()=>e.slice(j.index+1),V=(e="",t=0)=>{j.consumed+=e,j.index+=t},K=e=>{j.output+=null!=e.output?e.output:e.value,V(e.value)},Y=()=>{let e=1;for(;"!"===q()&&("("!==q(2)||"?"===q(3));)W(),j.start++,e++;return e%2!=0&&(j.negated=!0,j.start++,!0)},J=e=>{j[e]++,$.push(e)},X=e=>{j[e]--,$.pop()},Q=e=>{if("globstar"===U.type){const t=j.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||F.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(j.output=j.output.slice(0,-U.output.length),U.type="star",U.value="*",U.output=D,j.output+=U.output)}if(F.length&&"paren"!==e.type&&(F[F.length-1].inner+=e.value),(e.value||e.output)&&K(e),U&&"text"===U.type&&"text"===e.type)return U.value+=e.value,void(U.output=(U.output||"")+e.value);e.prev=U,m.push(e),U=e},Z=(e,t)=>{const n={...S[t],conditions:1,inner:""};n.prev=U,n.parens=j.parens,n.output=j.output;const i=(r.capture?"(":"")+n.open;J("parens"),Q({type:e,value:t,output:j.output?"":C}),Q({type:"paren",extglob:!0,value:W(),output:i}),F.push(n)},ee=e=>{let n,i=e.close+(r.capture?")":"");if("negate"===e.type){let s=D;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=M(r)),(s!==D||z()||/^\)+$/.test(G()))&&(i=e.close=`)$))${s}`),e.inner.includes("*")&&(n=G())&&/^\.[^\\/.]+$/.test(n)){const r=h(n,{...t,fastpaths:!1}).output;i=e.close=`)${r})${s})`}"bos"===e.prev.type&&(j.negatedExtglob=!0)}Q({type:"paren",extglob:!0,value:H,output:i}),X("parens")};if(!1!==r.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let n=!1,s=e.replace(c,((e,t,r,i,s,o)=>"\\"===i?(n=!0,e):"?"===i?t?t+i+(s?O.repeat(s.length):""):0===o?I+(s?O.repeat(s.length):""):O.repeat(r.length):"."===i?E.repeat(r.length):"*"===i?t?t+i+(s?D:""):D:t?e:`\\${e}`));return!0===n&&(s=!0===r.unescape?s.replace(/\\/g,""):s.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),s===e&&!0===r.contains?(j.output=e,j):(j.output=i.wrapOutput(s,j,t),j)}for(;!z();){if(H=W(),"\0"===H)continue;if("\\"===H){const e=q();if("/"===e&&!0!==r.bash)continue;if("."===e||";"===e)continue;if(!e){H+="\\",Q({type:"text",value:H});continue}const t=/^\\+/.exec(G());let n=0;if(t&&t[0].length>2&&(n=t[0].length,j.index+=n,n%2!=0&&(H+="\\")),!0===r.unescape?H=W():H+=W(),0===j.brackets){Q({type:"text",value:H});continue}}if(j.brackets>0&&("]"!==H||"["===U.value||"[^"===U.value)){if(!1!==r.posix&&":"===H){const e=U.value.slice(1);if(e.includes("[")&&(U.posix=!0,e.includes(":"))){const e=U.value.lastIndexOf("["),t=U.value.slice(0,e),r=U.value.slice(e+2),n=o[r];if(n){U.value=t+n,j.backtrack=!0,W(),g.output||1!==m.indexOf(U)||(g.output=C);continue}}}("["===H&&":"!==q()||"-"===H&&"]"===q())&&(H=`\\${H}`),"]"!==H||"["!==U.value&&"[^"!==U.value||(H=`\\${H}`),!0===r.posix&&"!"===H&&"["===U.value&&(H="^"),U.value+=H,K({value:H});continue}if(1===j.quotes&&'"'!==H){H=i.escapeRegex(H),U.value+=H,K({value:H});continue}if('"'===H){j.quotes=1===j.quotes?0:1,!0===r.keepQuotes&&Q({type:"text",value:H});continue}if("("===H){J("parens"),Q({type:"paren",value:H});continue}if(")"===H){if(0===j.parens&&!0===r.strictBrackets)throw new SyntaxError(d("opening","("));const e=F[F.length-1];if(e&&j.parens===e.parens+1){ee(F.pop());continue}Q({type:"paren",value:H,output:j.parens?")":"\\)"}),X("parens");continue}if("["===H){if(!0!==r.nobracket&&G().includes("]"))J("brackets");else{if(!0!==r.nobracket&&!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));H=`\\${H}`}Q({type:"bracket",value:H});continue}if("]"===H){if(!0===r.nobracket||U&&"bracket"===U.type&&1===U.value.length){Q({type:"text",value:H,output:`\\${H}`});continue}if(0===j.brackets){if(!0===r.strictBrackets)throw new SyntaxError(d("opening","["));Q({type:"text",value:H,output:`\\${H}`});continue}X("brackets");const e=U.value.slice(1);if(!0===U.posix||"^"!==e[0]||e.includes("/")||(H=`/${H}`),U.value+=H,K({value:H}),!1===r.literalBrackets||i.hasRegexChars(e))continue;const t=i.escapeRegex(U.value);if(j.output=j.output.slice(0,-U.value.length),!0===r.literalBrackets){j.output+=t,U.value=t;continue}U.value=`(${y}${t}|${U.value})`,j.output+=U.value;continue}if("{"===H&&!0!==r.nobrace){J("braces");const e={type:"brace",value:H,output:"(",outputIndex:j.output.length,tokensIndex:j.tokens.length};B.push(e),Q(e);continue}if("}"===H){const e=B[B.length-1];if(!0===r.nobrace||!e){Q({type:"text",value:H,output:H});continue}let t=")";if(!0===e.dots){const e=m.slice(),n=[];for(let t=e.length-1;t>=0&&(m.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&n.unshift(e[t].value);t=u(n,r),j.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const r=j.output.slice(0,e.outputIndex),n=j.tokens.slice(e.tokensIndex);e.value=e.output="\\{",H=t="\\}",j.output=r;for(const e of n)j.output+=e.output||e.value}Q({type:"brace",value:H,output:t}),X("braces"),B.pop();continue}if("|"===H){F.length>0&&F[F.length-1].conditions++,Q({type:"text",value:H});continue}if(","===H){let e=H;const t=B[B.length-1];t&&"braces"===$[$.length-1]&&(t.comma=!0,e="|"),Q({type:"comma",value:H,output:e});continue}if("/"===H){if("dot"===U.type&&j.index===j.start+1){j.start=j.index+1,j.consumed="",j.output="",m.pop(),U=g;continue}Q({type:"slash",value:H,output:w});continue}if("."===H){if(j.braces>0&&"dot"===U.type){"."===U.value&&(U.output=E);const e=B[B.length-1];U.type="dots",U.output+=H,U.value+=H,e.dots=!0;continue}if(j.braces+j.parens===0&&"bos"!==U.type&&"slash"!==U.type){Q({type:"text",value:H,output:E});continue}Q({type:"dot",value:H,output:E});continue}if("?"===H){if((!U||"("!==U.value)&&!0!==r.noextglob&&"("===q()&&"?"!==q(2)){Z("qmark",H);continue}if(U&&"paren"===U.type){const e=q();let t=H;if("<"===e&&!i.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===U.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(G()))&&(t=`\\${H}`),Q({type:"text",value:H,output:t});continue}if(!0!==r.dot&&("slash"===U.type||"bos"===U.type)){Q({type:"qmark",value:H,output:x});continue}Q({type:"qmark",value:H,output:O});continue}if("!"===H){if(!0!==r.noextglob&&"("===q()&&("?"!==q(2)||!/[!=<:]/.test(q(3)))){Z("negate",H);continue}if(!0!==r.nonegate&&0===j.index){Y();continue}}if("+"===H){if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){Z("plus",H);continue}if(U&&"("===U.value||!1===r.regex){Q({type:"plus",value:H,output:_});continue}if(U&&("bracket"===U.type||"paren"===U.type||"brace"===U.type)||j.parens>0){Q({type:"plus",value:H});continue}Q({type:"plus",value:_});continue}if("@"===H){if(!0!==r.noextglob&&"("===q()&&"?"!==q(2)){Q({type:"at",extglob:!0,value:H,output:""});continue}Q({type:"text",value:H});continue}if("*"!==H){"$"!==H&&"^"!==H||(H=`\\${H}`);const e=a.exec(G());e&&(H+=e[0],j.index+=e[0].length),Q({type:"text",value:H});continue}if(U&&("globstar"===U.type||!0===U.star)){U.type="star",U.star=!0,U.value+=H,U.output=D,j.backtrack=!0,j.globstar=!0,V(H);continue}let t=G();if(!0!==r.noextglob&&/^\([^?]/.test(t)){Z("star",H);continue}if("star"===U.type){if(!0===r.noglobstar){V(H);continue}const n=U.prev,i=n.prev,s="slash"===n.type||"bos"===n.type,o=i&&("star"===i.type||"globstar"===i.type);if(!0===r.bash&&(!s||t[0]&&"/"!==t[0])){Q({type:"star",value:H,output:""});continue}const a=j.braces>0&&("comma"===n.type||"brace"===n.type),c=F.length&&("pipe"===n.type||"paren"===n.type);if(!s&&"paren"!==n.type&&!a&&!c){Q({type:"star",value:H,output:""});continue}for(;"/**"===t.slice(0,3);){const r=e[j.index+4];if(r&&"/"!==r)break;t=t.slice(3),V("/**",3)}if("bos"===n.type&&z()){U.type="globstar",U.value+=H,U.output=M(r),j.output=U.output,j.globstar=!0,V(H);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!o&&z()){j.output=j.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=M(r)+(r.strictSlashes?")":"|$)"),U.value+=H,j.globstar=!0,j.output+=n.output+U.output,V(H);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";j.output=j.output.slice(0,-(n.output+U.output).length),n.output=`(?:${n.output}`,U.type="globstar",U.output=`${M(r)}${w}|${w}${e})`,U.value+=H,j.output+=n.output+U.output,j.globstar=!0,V(H+W()),Q({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){U.type="globstar",U.value+=H,U.output=`(?:^|${w}|${M(r)}${w})`,j.output=U.output,j.globstar=!0,V(H+W()),Q({type:"slash",value:"/",output:""});continue}j.output=j.output.slice(0,-U.output.length),U.type="globstar",U.output=M(r),U.value+=H,j.output+=U.output,j.globstar=!0,V(H);continue}const n={type:"star",value:H,output:D};!0!==r.bash?!U||"bracket"!==U.type&&"paren"!==U.type||!0!==r.regex?(j.index!==j.start&&"slash"!==U.type&&"dot"!==U.type||("dot"===U.type?(j.output+=k,U.output+=k):!0===r.dot?(j.output+=A,U.output+=A):(j.output+=L,U.output+=L),"*"!==q()&&(j.output+=C,U.output+=C)),Q(n)):(n.output=H,Q(n)):(n.output=".*?","bos"!==U.type&&"slash"!==U.type||(n.output=L+n.output),Q(n))}for(;j.brackets>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","]"));j.output=i.escapeLast(j.output,"["),X("brackets")}for(;j.parens>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing",")"));j.output=i.escapeLast(j.output,"("),X("parens")}for(;j.braces>0;){if(!0===r.strictBrackets)throw new SyntaxError(d("closing","}"));j.output=i.escapeLast(j.output,"{"),X("braces")}if(!0===r.strictSlashes||"star"!==U.type&&"bracket"!==U.type||Q({type:"maybe_slash",value:"",output:`${w}?`}),!0===j.backtrack){j.output="";for(const e of j.tokens)j.output+=null!=e.output?e.output:e.value,e.suffix&&(j.output+=e.suffix)}return j};h.fastpaths=(e,t)=>{const r={...t},o="number"==typeof r.maxLength?Math.min(s,r.maxLength):s,a=e.length;if(a>o)throw new SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${o}`);e=l[e]||e;const c=i.isWindows(t),{DOT_LITERAL:u,SLASH_LITERAL:d,ONE_CHAR:h,DOTS_SLASH:p,NO_DOT:f,NO_DOTS:g,NO_DOTS_SLASH:m,STAR:y,START_ANCHOR:v}=n.globChars(c),b=r.dot?g:f,S=r.dot?m:f,E=r.capture?"":"?:";let _=!0===r.bash?".*?":y;r.capture&&(_=`(${_})`);const w=e=>!0===e.noglobstar?_:`(${E}(?:(?!${v}${e.dot?p:u}).)*?)`,C=e=>{switch(e){case"*":return`${b}${h}${_}`;case".*":return`${u}${h}${_}`;case"*.*":return`${b}${_}${u}${h}${_}`;case"*/*":return`${b}${_}${d}${h}${S}${_}`;case"**":return b+w(r);case"**/*":return`(?:${b}${w(r)}${d})?${S}${h}${_}`;case"**/*.*":return`(?:${b}${w(r)}${d})?${S}${_}${u}${h}${_}`;case"**/.*":return`(?:${b}${w(r)}${d})?${u}${h}${_}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const r=C(t[1]);if(!r)return;return r+u+t[2]}}},T=i.removePrefix(e,{negated:!1,prefix:""});let R=C(T);return R&&!0!==r.strictSlashes&&(R+=`${d}?`),R},e.exports=h},6675:(e,t,r)=>{"use strict";const n=r(6928),i=r(2608),s=r(1154),o=r(280),a=r(3940),c=(e,t,r=!1)=>{if(Array.isArray(e)){const n=e.map((e=>c(e,t,r))),i=e=>{for(const t of n){const r=t(e);if(r)return r}return!1};return i}const n=(i=e)&&"object"==typeof i&&!Array.isArray(i)&&e.tokens&&e.input;var i;if(""===e||"string"!=typeof e&&!n)throw new TypeError("Expected pattern to be a non-empty string");const s=t||{},a=o.isWindows(t),l=n?c.compileRe(e,t):c.makeRe(e,t,!1,!0),u=l.state;delete l.state;let d=()=>!1;if(s.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};d=c(s.ignore,e,r)}const h=(r,n=!1)=>{const{isMatch:i,match:o,output:h}=c.test(r,l,t,{glob:e,posix:a}),p={glob:e,state:u,regex:l,posix:a,input:r,output:h,match:o,isMatch:i};return"function"==typeof s.onResult&&s.onResult(p),!1===i?(p.isMatch=!1,!!n&&p):d(r)?("function"==typeof s.onIgnore&&s.onIgnore(p),p.isMatch=!1,!!n&&p):("function"==typeof s.onMatch&&s.onMatch(p),!n||p)};return r&&(h.state=u),h};c.test=(e,t,r,{glob:n,posix:i}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=r||{},a=s.format||(i?o.toPosixSlashes:null);let l=e===n,u=l&&a?a(e):e;return!1===l&&(u=a?a(e):e,l=u===n),!1!==l&&!0!==s.capture||(l=!0===s.matchBase||!0===s.basename?c.matchBase(e,t,r,i):t.exec(u)),{isMatch:Boolean(l),match:l,output:u}},c.matchBase=(e,t,r,i=o.isWindows(r))=>(t instanceof RegExp?t:c.makeRe(t,r)).test(n.basename(e)),c.isMatch=(e,t,r)=>c(t,r)(e),c.parse=(e,t)=>Array.isArray(e)?e.map((e=>c.parse(e,t))):s(e,{...t,fastpaths:!1}),c.scan=(e,t)=>i(e,t),c.compileRe=(e,t,r=!1,n=!1)=>{if(!0===r)return e.output;const i=t||{},s=i.contains?"":"^",o=i.contains?"":"$";let a=`${s}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const l=c.toRegex(a,t);return!0===n&&(l.state=e),l},c.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return!1===t.fastpaths||"."!==e[0]&&"*"!==e[0]||(i.output=s.fastpaths(e,t)),i.output||(i=s(e,t)),c.compileRe(i,t,r,n)},c.toRegex=(e,t)=>{try{const r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},c.constants=a,e.exports=c},2608:(e,t,r)=>{"use strict";const n=r(280),{CHAR_ASTERISK:i,CHAR_AT:s,CHAR_BACKWARD_SLASH:o,CHAR_COMMA:a,CHAR_DOT:c,CHAR_EXCLAMATION_MARK:l,CHAR_FORWARD_SLASH:u,CHAR_LEFT_CURLY_BRACE:d,CHAR_LEFT_PARENTHESES:h,CHAR_LEFT_SQUARE_BRACKET:p,CHAR_PLUS:f,CHAR_QUESTION_MARK:g,CHAR_RIGHT_CURLY_BRACE:m,CHAR_RIGHT_PARENTHESES:y,CHAR_RIGHT_SQUARE_BRACKET:v}=r(3940),b=e=>e===u||e===o,S=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};e.exports=(e,t)=>{const r=t||{},E=e.length-1,_=!0===r.parts||!0===r.scanToEnd,w=[],C=[],T=[];let R,k,A=e,O=-1,x=0,N=0,P=!1,M=!1,L=!1,I=!1,D=!1,j=!1,F=!1,B=!1,$=!1,H=!1,U=0,z={value:"",depth:0,isGlob:!1};const q=()=>O>=E,W=()=>(R=k,A.charCodeAt(++O));for(;O<E;){let e;if(k=W(),k!==o){if(!0===j||k===d){for(U++;!0!==q()&&(k=W());)if(k!==o)if(k!==d){if(!0!==j&&k===c&&(k=W())===c){if(P=z.isBrace=!0,L=z.isGlob=!0,H=!0,!0===_)continue;break}if(!0!==j&&k===a){if(P=z.isBrace=!0,L=z.isGlob=!0,H=!0,!0===_)continue;break}if(k===m&&(U--,0===U)){j=!1,P=z.isBrace=!0,H=!0;break}}else U++;else F=z.backslashes=!0,W();if(!0===_)continue;break}if(k!==u){if(!0!==r.noext&&!0==(k===f||k===s||k===i||k===g||k===l)&&A.charCodeAt(O+1)===h){if(L=z.isGlob=!0,I=z.isExtglob=!0,H=!0,k===l&&O===x&&($=!0),!0===_){for(;!0!==q()&&(k=W());)if(k!==o){if(k===y){L=z.isGlob=!0,H=!0;break}}else F=z.backslashes=!0,k=W();continue}break}if(k===i){if(R===i&&(D=z.isGlobstar=!0),L=z.isGlob=!0,H=!0,!0===_)continue;break}if(k===g){if(L=z.isGlob=!0,H=!0,!0===_)continue;break}if(k===p){for(;!0!==q()&&(e=W());)if(e!==o){if(e===v){M=z.isBracket=!0,L=z.isGlob=!0,H=!0;break}}else F=z.backslashes=!0,W();if(!0===_)continue;break}if(!0===r.nonegate||k!==l||O!==x){if(!0!==r.noparen&&k===h){if(L=z.isGlob=!0,!0===_){for(;!0!==q()&&(k=W());)if(k!==h){if(k===y){H=!0;break}}else F=z.backslashes=!0,k=W();continue}break}if(!0===L){if(H=!0,!0===_)continue;break}}else B=z.negated=!0,x++}else{if(w.push(O),C.push(z),z={value:"",depth:0,isGlob:!1},!0===H)continue;if(R===c&&O===x+1){x+=2;continue}N=O+1}}else F=z.backslashes=!0,k=W(),k===d&&(j=!0)}!0===r.noext&&(I=!1,L=!1);let G=A,V="",K="";x>0&&(V=A.slice(0,x),A=A.slice(x),N-=x),G&&!0===L&&N>0?(G=A.slice(0,N),K=A.slice(N)):!0===L?(G="",K=A):G=A,G&&""!==G&&"/"!==G&&G!==A&&b(G.charCodeAt(G.length-1))&&(G=G.slice(0,-1)),!0===r.unescape&&(K&&(K=n.removeBackslashes(K)),G&&!0===F&&(G=n.removeBackslashes(G)));const Y={prefix:V,input:e,start:x,base:G,glob:K,isBrace:P,isBracket:M,isGlob:L,isExtglob:I,isGlobstar:D,negated:B,negatedExtglob:$};if(!0===r.tokens&&(Y.maxDepth=0,b(k)||C.push(z),Y.tokens=C),!0===r.parts||!0===r.tokens){let t;for(let n=0;n<w.length;n++){const i=t?t+1:x,s=w[n],o=e.slice(i,s);r.tokens&&(0===n&&0!==x?(C[n].isPrefix=!0,C[n].value=V):C[n].value=o,S(C[n]),Y.maxDepth+=C[n].depth),0===n&&""===o||T.push(o),t=s}if(t&&t+1<e.length){const n=e.slice(t+1);T.push(n),r.tokens&&(C[C.length-1].value=n,S(C[C.length-1]),Y.maxDepth+=C[C.length-1].depth)}Y.slashes=w,Y.parts=T}return Y}},280:(e,t,r)=>{"use strict";const n=r(6928),i="win32"===process.platform,{REGEX_BACKSLASH:s,REGEX_REMOVE_BACKSLASH:o,REGEX_SPECIAL_CHARS:a,REGEX_SPECIAL_CHARS_GLOBAL:c}=r(3940);t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),t.hasRegexChars=e=>a.test(e),t.isRegexChar=e=>1===e.length&&t.hasRegexChars(e),t.escapeRegex=e=>e.replace(c,"\\$1"),t.toPosixSlashes=e=>e.replace(s,"/"),t.removeBackslashes=e=>e.replace(o,(e=>"\\"===e?"":e)),t.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},t.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===i||"\\"===n.sep,t.escapeLast=(e,r,n)=>{const i=e.lastIndexOf(r,n);return-1===i?e:"\\"===e[i-1]?t.escapeLast(e,r,i-1):`${e.slice(0,i)}\\${e.slice(i)}`},t.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},t.wrapOutput=(e,t={},r={})=>{let n=`${r.contains?"":"^"}(?:${e})${r.contains?"":"$"}`;return!0===t.negated&&(n=`(?:^(?!${n}).*$)`),n}},5407:(e,t,r)=>{"use strict";var n=r(2549);e.exports=t=n.descriptor=n.Root.fromJSON(r(3951)).lookup(".google.protobuf");var i=n.Namespace,s=n.Root,o=n.Enum,a=n.Type,c=n.Field,l=n.MapField,u=n.OneOf,d=n.Service,h=n.Method;function p(e,r,n){var l=t.FileDescriptorProto.create({name:e.filename||(e.fullName.substring(1).replace(/\./g,"_")||"root")+".proto"});n&&(l.syntax=n),e instanceof s||(l.package=e.fullName.substring(1));for(var u,h=0;h<e.nestedArray.length;++h)(u=e._nestedArray[h])instanceof a?l.messageType.push(u.toDescriptor(n)):u instanceof o?l.enumType.push(u.toDescriptor()):u instanceof c?l.extension.push(u.toDescriptor(n)):u instanceof d?l.service.push(u.toDescriptor()):u instanceof i&&p(u,r,n);l.options=_(e.options,t.FileOptions),l.messageType.length+l.enumType.length+l.extension.length+l.service.length&&r.push(l)}s.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.FileDescriptorSet.decode(e));var r=new s;if(e.file)for(var n,i,l,u=0;u<e.file.length;++u){if(i=r,(n=e.file[u]).package&&n.package.length&&(i=r.define(n.package)),n.name&&n.name.length&&r.files.push(i.filename=n.name),n.messageType)for(l=0;l<n.messageType.length;++l)i.add(a.fromDescriptor(n.messageType[l],n.syntax));if(n.enumType)for(l=0;l<n.enumType.length;++l)i.add(o.fromDescriptor(n.enumType[l]));if(n.extension)for(l=0;l<n.extension.length;++l)i.add(c.fromDescriptor(n.extension[l]));if(n.service)for(l=0;l<n.service.length;++l)i.add(d.fromDescriptor(n.service[l]));var h=E(n.options,t.FileOptions);if(h){var p=Object.keys(h);for(l=0;l<p.length;++l)i.setOption(p[l],h[p[l]])}}return r},s.prototype.toDescriptor=function(e){var r=t.FileDescriptorSet.create();return p(this,r.file,e),r};var f=0;a.fromDescriptor=function(e,r){"number"==typeof e.length&&(e=t.DescriptorProto.decode(e));var n,i=new a(e.name.length?e.name:"Type"+f++,E(e.options,t.MessageOptions));if(e.oneofDecl)for(n=0;n<e.oneofDecl.length;++n)i.add(u.fromDescriptor(e.oneofDecl[n]));if(e.field)for(n=0;n<e.field.length;++n){var s=c.fromDescriptor(e.field[n],r);i.add(s),e.field[n].hasOwnProperty("oneofIndex")&&i.oneofsArray[e.field[n].oneofIndex].add(s)}if(e.extension)for(n=0;n<e.extension.length;++n)i.add(c.fromDescriptor(e.extension[n],r));if(e.nestedType)for(n=0;n<e.nestedType.length;++n)i.add(a.fromDescriptor(e.nestedType[n],r)),e.nestedType[n].options&&e.nestedType[n].options.mapEntry&&i.setOption("map_entry",!0);if(e.enumType)for(n=0;n<e.enumType.length;++n)i.add(o.fromDescriptor(e.enumType[n]));if(e.extensionRange&&e.extensionRange.length)for(i.extensions=[],n=0;n<e.extensionRange.length;++n)i.extensions.push([e.extensionRange[n].start,e.extensionRange[n].end]);if(e.reservedRange&&e.reservedRange.length||e.reservedName&&e.reservedName.length){if(i.reserved=[],e.reservedRange)for(n=0;n<e.reservedRange.length;++n)i.reserved.push([e.reservedRange[n].start,e.reservedRange[n].end]);if(e.reservedName)for(n=0;n<e.reservedName.length;++n)i.reserved.push(e.reservedName[n])}return i},a.prototype.toDescriptor=function(e){var r,n=t.DescriptorProto.create({name:this.name});for(r=0;r<this.fieldsArray.length;++r){var i;if(n.field.push(i=this._fieldsArray[r].toDescriptor(e)),this._fieldsArray[r]instanceof l){var s=S(this._fieldsArray[r].keyType,this._fieldsArray[r].resolvedKeyType),u=S(this._fieldsArray[r].type,this._fieldsArray[r].resolvedType),d=11===u||14===u?this._fieldsArray[r].resolvedType&&w(this.parent,this._fieldsArray[r].resolvedType)||this._fieldsArray[r].type:void 0;n.nestedType.push(t.DescriptorProto.create({name:i.typeName,field:[t.FieldDescriptorProto.create({name:"key",number:1,label:1,type:s}),t.FieldDescriptorProto.create({name:"value",number:2,label:1,type:u,typeName:d})],options:t.MessageOptions.create({mapEntry:!0})}))}}for(r=0;r<this.oneofsArray.length;++r)n.oneofDecl.push(this._oneofsArray[r].toDescriptor());for(r=0;r<this.nestedArray.length;++r)this._nestedArray[r]instanceof c?n.field.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof a?n.nestedType.push(this._nestedArray[r].toDescriptor(e)):this._nestedArray[r]instanceof o&&n.enumType.push(this._nestedArray[r].toDescriptor());if(this.extensions)for(r=0;r<this.extensions.length;++r)n.extensionRange.push(t.DescriptorProto.ExtensionRange.create({start:this.extensions[r][0],end:this.extensions[r][1]}));if(this.reserved)for(r=0;r<this.reserved.length;++r)"string"==typeof this.reserved[r]?n.reservedName.push(this.reserved[r]):n.reservedRange.push(t.DescriptorProto.ReservedRange.create({start:this.reserved[r][0],end:this.reserved[r][1]}));return n.options=_(this.options,t.MessageOptions),n};var g=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/;c.fromDescriptor=function(e,r){if("number"==typeof e.length&&(e=t.DescriptorProto.decode(e)),"number"!=typeof e.number)throw Error("missing field id");var n,i;switch(n=e.typeName&&e.typeName.length?e.typeName:function(e){switch(e){case 1:return"double";case 2:return"float";case 3:return"int64";case 4:return"uint64";case 5:return"int32";case 6:return"fixed64";case 7:return"fixed32";case 8:return"bool";case 9:return"string";case 12:return"bytes";case 13:return"uint32";case 15:return"sfixed32";case 16:return"sfixed64";case 17:return"sint32";case 18:return"sint64"}throw Error("illegal type: "+e)}(e.type),e.label){case 1:i=void 0;break;case 2:i="required";break;case 3:i="repeated";break;default:throw Error("illegal label: "+e.label)}var s=e.extendee;void 0!==e.extendee&&(s=s.length?s:void 0);var o=new c(e.name.length?e.name:"field"+e.number,e.number,n,i,s);if(o.options=E(e.options,t.FieldOptions),e.defaultValue&&e.defaultValue.length){var a=e.defaultValue;switch(a){case"true":case"TRUE":a=!0;break;case"false":case"FALSE":a=!1;break;default:g.exec(a)&&(a=parseInt(a))}o.setOption("default",a)}return function(e){switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 13:case 14:case 15:case 16:case 17:case 18:return!0}return!1}(e.type)&&("proto3"===r?e.options&&!e.options.packed&&o.setOption("packed",!1):e.options&&e.options.packed||o.setOption("packed",!1)),o},c.prototype.toDescriptor=function(e){var r=t.FieldDescriptorProto.create({name:this.name,number:this.id});if(this.map)r.type=11,r.typeName=n.util.ucFirst(this.name),r.label=3;else{switch(r.type=S(this.type,this.resolve().resolvedType)){case 10:case 11:case 14:r.typeName=this.resolvedType?w(this.parent,this.resolvedType):this.type}switch(this.rule){case"repeated":r.label=3;break;case"required":r.label=2;break;default:r.label=1}}if(r.extendee=this.extensionField?this.extensionField.parent.fullName:this.extend,this.partOf&&(r.oneofIndex=this.parent.oneofsArray.indexOf(this.partOf))<0)throw Error("missing oneof");return this.options&&(r.options=_(this.options,t.FieldOptions),null!=this.options.default&&(r.defaultValue=String(this.options.default))),"proto3"===e?this.packed||((r.options||(r.options=t.FieldOptions.create())).packed=!1):this.packed&&((r.options||(r.options=t.FieldOptions.create())).packed=!0),r};var m=0;o.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.EnumDescriptorProto.decode(e));var r={};if(e.value)for(var n=0;n<e.value.length;++n){var i=e.value[n].name,s=e.value[n].number||0;r[i&&i.length?i:"NAME"+s]=s}return new o(e.name&&e.name.length?e.name:"Enum"+m++,r,E(e.options,t.EnumOptions))},o.prototype.toDescriptor=function(){for(var e=[],r=0,n=Object.keys(this.values);r<n.length;++r)e.push(t.EnumValueDescriptorProto.create({name:n[r],number:this.values[n[r]]}));return t.EnumDescriptorProto.create({name:this.name,value:e,options:_(this.options,t.EnumOptions)})};var y=0;u.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.OneofDescriptorProto.decode(e)),new u(e.name&&e.name.length?e.name:"oneof"+y++)},u.prototype.toDescriptor=function(){return t.OneofDescriptorProto.create({name:this.name})};var v=0;d.fromDescriptor=function(e){"number"==typeof e.length&&(e=t.ServiceDescriptorProto.decode(e));var r=new d(e.name&&e.name.length?e.name:"Service"+v++,E(e.options,t.ServiceOptions));if(e.method)for(var n=0;n<e.method.length;++n)r.add(h.fromDescriptor(e.method[n]));return r},d.prototype.toDescriptor=function(){for(var e=[],r=0;r<this.methodsArray.length;++r)e.push(this._methodsArray[r].toDescriptor());return t.ServiceDescriptorProto.create({name:this.name,method:e,options:_(this.options,t.ServiceOptions)})};var b=0;function S(e,t){switch(e){case"double":return 1;case"float":return 2;case"int64":return 3;case"uint64":return 4;case"int32":return 5;case"fixed64":return 6;case"fixed32":return 7;case"bool":return 8;case"string":return 9;case"bytes":return 12;case"uint32":return 13;case"sfixed32":return 15;case"sfixed64":return 16;case"sint32":return 17;case"sint64":return 18}if(t instanceof o)return 14;if(t instanceof a)return t.group?10:11;throw Error("illegal type: "+e)}function E(e,t){if(e){for(var r,i,s,a,c=[],l=0;l<t.fieldsArray.length;++l)"uninterpretedOption"!==(i=(r=t._fieldsArray[l]).name)&&e.hasOwnProperty(i)&&(s=e[i],r.resolvedType instanceof o&&"number"==typeof s&&void 0!==r.resolvedType.valuesById[s]&&(s=r.resolvedType.valuesById[s]),c.push((a=i).substring(0,1)+a.substring(1).replace(/([A-Z])(?=[a-z]|$)/g,(function(e,t){return"_"+t.toLowerCase()})),s));return c.length?n.util.toObject(c):void 0}}function _(e,t){if(e){for(var r,i,s=[],o=0,a=Object.keys(e);o<a.length;++o)if(i=e[r=a[o]],"default"!==r){var c=t.fields[r];(c||(c=t.fields[r=n.util.camelCase(r)]))&&s.push(r,i)}return s.length?t.fromObject(n.util.toObject(s)):void 0}}function w(e,t){var r=e.fullName.split("."),n=t.fullName.split("."),o=0,a=0,c=n.length-1;if(!(e instanceof s)&&t instanceof i)for(;o<r.length&&a<c&&r[o]===n[a];){var l=t.lookup(r[o++],!0);if(null!==l&&l!==t)break;++a}else for(;o<r.length&&a<c&&r[o]===n[a];++o,++a);return n.slice(a).join(".")}h.fromDescriptor=function(e){return"number"==typeof e.length&&(e=t.MethodDescriptorProto.decode(e)),new h(e.name&&e.name.length?e.name:"Method"+b++,"rpc",e.inputType,e.outputType,Boolean(e.clientStreaming),Boolean(e.serverStreaming),E(e.options,t.MethodOptions))},h.prototype.toDescriptor=function(){return t.MethodDescriptorProto.create({name:this.name,inputType:this.resolvedRequestType?this.resolvedRequestType.fullName:this.requestType,outputType:this.resolvedResponseType?this.resolvedResponseType.fullName:this.responseType,clientStreaming:this.requestStream,serverStreaming:this.responseStream,options:_(this.options,t.MethodOptions)})}},2549:(e,t,r)=>{"use strict";e.exports=r(9100)},8341:(e,t,r)=>{"use strict";e.exports=r(5325)},5095:e=>{"use strict";e.exports=n;var t,r=/\/|\./;function n(e,t){r.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),n[e]=t}n("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),n("duration",{Duration:t={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),n("timestamp",{Timestamp:t}),n("empty",{Empty:{fields:{}}}),n("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),n("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),n("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),n.get=function(e){return n[e]||null}},744:(e,t,r)=>{"use strict";var n=t,i=r(5643),s=r(3262);function o(e,t,r,n){var s=!1;if(t.resolvedType)if(t.resolvedType instanceof i){e("switch(d%s){",n);for(var o=t.resolvedType.values,a=Object.keys(o),c=0;c<a.length;++c)o[a[c]]!==t.typeDefault||s||(e("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',n,n,n),t.repeated||e("break"),s=!0),e("case%j:",a[c])("case %i:",o[a[c]])("m%s=%j",n,o[a[c]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var l=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":l=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,l)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,l?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length >= 0)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function a(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof i?e("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",n,r,n,n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var s=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,s?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=s.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var a=t[n].resolve(),c=s.safeProp(a.name);a.map?(r("if(d%s){",c)('if(typeof d%s!=="object")',c)("throw TypeError(%j)",a.fullName+": object expected")("m%s={}",c)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",c),o(r,a,n,c+"[ks[i]]")("}")("}")):a.repeated?(r("if(d%s){",c)("if(!Array.isArray(d%s))",c)("throw TypeError(%j)",a.fullName+": array expected")("m%s=[]",c)("for(var i=0;i<d%s.length;++i){",c),o(r,a,n,c+"[i]")("}")("}")):(a.resolvedType instanceof i||r("if(d%s!=null){",c),o(r,a,n,c),a.resolvedType instanceof i||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(s.compareFieldsById);if(!t.length)return s.codegen()("return {}");for(var r=s.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],o=[],c=[],l=0;l<t.length;++l)t[l].partOf||(t[l].resolve().repeated?n:t[l].map?o:c).push(t[l]);if(n.length){for(r("if(o.arrays||o.defaults){"),l=0;l<n.length;++l)r("d%s=[]",s.safeProp(n[l].name));r("}")}if(o.length){for(r("if(o.objects||o.defaults){"),l=0;l<o.length;++l)r("d%s={}",s.safeProp(o[l].name));r("}")}if(c.length){for(r("if(o.defaults){"),l=0;l<c.length;++l){var u=c[l],d=s.safeProp(u.name);if(u.resolvedType instanceof i)r("d%s=o.enums===String?%j:%j",d,u.resolvedType.valuesById[u.typeDefault],u.typeDefault);else if(u.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",u.typeDefault.low,u.typeDefault.high,u.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",d)("}else")("d%s=o.longs===String?%j:%i",d,u.typeDefault.toString(),u.typeDefault.toNumber());else if(u.bytes){var h="["+Array.prototype.slice.call(u.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",d,String.fromCharCode.apply(String,u.typeDefault))("else{")("d%s=%s",d,h)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",d,d)("}")}else r("d%s=%j",d,u.typeDefault)}r("}")}var p=!1;for(l=0;l<t.length;++l){u=t[l];var f=e._fieldsArray.indexOf(u);d=s.safeProp(u.name),u.map?(p||(p=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",d,d)("d%s={}",d)("for(var j=0;j<ks2.length;++j){"),a(r,u,f,d+"[ks2[j]]")("}")):u.repeated?(r("if(m%s&&m%s.length){",d,d)("d%s=[]",d)("for(var j=0;j<m%s.length;++j){",d),a(r,u,f,d+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",d,u.name),a(r,u,f,d),u.partOf&&r("if(o.oneofs)")("d%s=%j",s.safeProp(u.partOf.name),u.name)),r("}")}return r("return d")}},7728:(e,t,r)=>{"use strict";e.exports=function(e){var t=s.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break"),t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var a=e._fieldsArray[r].resolve(),c=a.resolvedType instanceof n?"int32":a.type,l="m"+s.safeProp(a.name);t("case %i: {",a.id),a.map?(t("if(%s===util.emptyObject)",l)("%s={}",l)("var c2 = r.uint32()+r.pos"),void 0!==i.defaults[a.keyType]?t("k=%j",i.defaults[a.keyType]):t("k=null"),void 0!==i.defaults[c]?t("value=%j",i.defaults[c]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",a.keyType)("case 2:"),void 0===i.basic[c]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",c),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==i.long[a.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',l):t("%s[k]=value",l)):a.repeated?(t("if(!(%s&&%s.length))",l,l)("%s=[]",l),void 0!==i.packed[c]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",l,c)("}else"),void 0===i.basic[c]?t(a.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",l,r):t("%s.push(r.%s())",l,c)):void 0===i.basic[c]?t(a.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",l,r):t("%s=r.%s()",l,c),t("break")("}")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var u=e._fieldsArray[r];u.required&&t("if(!m.hasOwnProperty(%j))",u.name)("throw util.ProtocolError(%j,{instance:m})",o(u))}return t("return m")};var n=r(5643),i=r(361),s=r(3262);function o(e){return"missing required '"+e.name+"'"}},1080:(e,t,r)=>{"use strict";e.exports=function(e){for(var t,r=s.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),a=e.fieldsArray.slice().sort(s.compareFieldsById),c=0;c<a.length;++c){var l=a[c].resolve(),u=e._fieldsArray.indexOf(l),d=l.resolvedType instanceof n?"int32":l.type,h=i.basic[d];t="m"+s.safeProp(l.name),l.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,l.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(l.id<<3|2)>>>0,8|i.mapKey[l.keyType],l.keyType),void 0===h?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",u,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|h,d,t),r("}")("}")):l.repeated?(r("if(%s!=null&&%s.length){",t,t),l.packed&&void 0!==i.packed[d]?r("w.uint32(%i).fork()",(l.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",d,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===h?o(r,l,u,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(l.id<<3|h)>>>0,d,t)),r("}")):(l.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,l.name),void 0===h?o(r,l,u,t):r("w.uint32(%i).%s(%s)",(l.id<<3|h)>>>0,d,t))}return r("return w")};var n=r(5643),i=r(361),s=r(3262);function o(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},5643:(e,t,r)=>{"use strict";e.exports=o;var n=r(7209);((o.prototype=Object.create(n.prototype)).constructor=o).className="Enum";var i=r(1304),s=r(3262);function o(e,t,r,i,s,o){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=s||{},this.valuesOptions=o,this.reserved=void 0,t)for(var a=Object.keys(t),c=0;c<a.length;++c)"number"==typeof t[a[c]]&&(this.valuesById[this.values[a[c]]=t[a[c]]]=a[c])}o.fromJSON=function(e,t){var r=new o(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(e,t,r,n){if(!s.isString(e))throw TypeError("name must be a string");if(!s.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return n&&(void 0===this.valuesOptions&&(this.valuesOptions={}),this.valuesOptions[e]=n||null),this.comments[e]=r||null,this},o.prototype.remove=function(e){if(!s.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this.valuesOptions&&delete this.valuesOptions[e],this},o.prototype.isReservedId=function(e){return i.isReservedId(this.reserved,e)},o.prototype.isReservedName=function(e){return i.isReservedName(this.reserved,e)}},1344:(e,t,r)=>{"use strict";e.exports=l;var n=r(7209);((l.prototype=Object.create(n.prototype)).constructor=l).className="Field";var i,s=r(5643),o=r(361),a=r(3262),c=/^required|optional|repeated$/;function l(e,t,r,i,s,l,u){if(a.isObject(i)?(u=s,l=i,i=s=void 0):a.isObject(s)&&(u=l,l=s,s=void 0),n.call(this,e,l),!a.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!a.isString(r))throw TypeError("type must be a string");if(void 0!==i&&!c.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!a.isString(s))throw TypeError("extend must be a string");"proto3_optional"===i&&(i="optional"),this.rule=i&&"optional"!==i?i:void 0,this.type=r,this.id=t,this.extend=s||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==o.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=u}l.fromJSON=function(e,t){return new l(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(l.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),l.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},l.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=o.defaults[this.type])?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,e=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,e=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},l.d=function(e,t,r,n){return"function"==typeof t?t=a.decorateType(t).name:t&&"object"==typeof t&&(t=a.decorateEnum(t).name),function(i,s){a.decorateType(i.constructor).add(new l(s,e,t,r,{default:n}))}},l._configure=function(e){i=e}},5325:(e,t,r)=>{"use strict";var n=e.exports=r(4394);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(1080),n.decoder=r(7728),n.verifier=r(420),n.converter=r(744),n.ReflectionObject=r(7209),n.Namespace=r(1304),n.Root=r(5330),n.Enum=r(5643),n.Type=r(7882),n.Field=r(1344),n.OneOf=r(1457),n.MapField=r(8252),n.Service=r(9687),n.Method=r(8811),n.Message=r(2551),n.wrappers=r(6434),n.types=r(361),n.util=r(3262),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},4394:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(3449),n.BufferWriter=r(818),n.Reader=r(6237),n.BufferReader=r(3158),n.util=r(3610),n.rpc=r(5047),n.roots=r(4529),n.configure=i,i()},9100:(e,t,r)=>{"use strict";var n=e.exports=r(5325);n.build="full",n.tokenize=r(527),n.parse=r(4863),n.common=r(5095),n.Root._configure(n.Type,n.parse,n.common)},8252:(e,t,r)=>{"use strict";e.exports=o;var n=r(1344);((o.prototype=Object.create(n.prototype)).constructor=o).className="MapField";var i=r(361),s=r(3262);function o(e,t,r,i,o,a){if(n.call(this,e,t,i,void 0,void 0,o,a),!s.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(e,t){return new o(e,t.id,t.keyType,t.type,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},o.d=function(e,t,r){return"function"==typeof r?r=s.decorateType(r).name:r&&"object"==typeof r&&(r=s.decorateEnum(r).name),function(n,i){s.decorateType(n.constructor).add(new o(i,e,t,r))}}},2551:(e,t,r)=>{"use strict";e.exports=i;var n=r(3610);function i(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}i.create=function(e){return this.$type.create(e)},i.encode=function(e,t){return this.$type.encode(e,t)},i.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},i.decode=function(e){return this.$type.decode(e)},i.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},i.verify=function(e){return this.$type.verify(e)},i.fromObject=function(e){return this.$type.fromObject(e)},i.toObject=function(e,t){return this.$type.toObject(e,t)},i.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},8811:(e,t,r)=>{"use strict";e.exports=s;var n=r(7209);((s.prototype=Object.create(n.prototype)).constructor=s).className="Method";var i=r(3262);function s(e,t,r,s,o,a,c,l,u){if(i.isObject(o)?(c=o,o=a=void 0):i.isObject(a)&&(c=a,a=void 0),void 0!==t&&!i.isString(t))throw TypeError("type must be a string");if(!i.isString(r))throw TypeError("requestType must be a string");if(!i.isString(s))throw TypeError("responseType must be a string");n.call(this,e,c),this.type=t||"rpc",this.requestType=r,this.requestStream=!!o||void 0,this.responseType=s,this.responseStream=!!a||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=l,this.parsedOptions=u}s.fromJSON=function(e,t){return new s(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},s.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},s.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},1304:(e,t,r)=>{"use strict";e.exports=d;var n=r(7209);((d.prototype=Object.create(n.prototype)).constructor=d).className="Namespace";var i,s,o,a=r(1344),c=r(3262),l=r(1457);function u(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function d(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function h(e){return e._nestedArray=null,e}d.fromJSON=function(e,t){return new d(e,t.options).addJSON(t.nested)},d.arrayToJSON=u,d.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},d.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(d.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=c.toArray(this.nested))}}),d.prototype.toJSON=function(e){return c.toObject(["options",this.options,"nested",u(this.nestedArray,e)])},d.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?i.fromJSON:void 0!==t.values?o.fromJSON:void 0!==t.methods?s.fromJSON:void 0!==t.id?a.fromJSON:d.fromJSON)(r[n],t));return this},d.prototype.get=function(e){return this.nested&&this.nested[e]||null},d.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof o)return this.nested[e].values;throw Error("no such enum: "+e)},d.prototype.add=function(e){if(!(e instanceof a&&void 0!==e.extend||e instanceof i||e instanceof l||e instanceof o||e instanceof s||e instanceof d))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof d&&e instanceof d)||t instanceof i||t instanceof s)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),h(this)},d.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),h(this)},d.prototype.define=function(e,t){if(c.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof d))throw Error("path conflicts with non-namespace objects")}else r.add(r=new d(n))}return t&&r.addJSON(t),r},d.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof d?e[t++].resolveAll():e[t++].resolve();return this.resolve()},d.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),c.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof d&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var i=0;i<this.nestedArray.length;++i)if(this._nestedArray[i]instanceof d&&(n=this._nestedArray[i].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},d.prototype.lookupType=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such type: "+e);return t},d.prototype.lookupEnum=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},d.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[i,o]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},d.prototype.lookupService=function(e){var t=this.lookup(e,[s]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},d._configure=function(e,t,r){i=e,s=t,o=r}},7209:(e,t,r)=>{"use strict";e.exports=s,s.className="ReflectionObject";var n,i=r(3262);function s(e,t){if(!i.isString(e))throw TypeError("name must be a string");if(t&&!i.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(s.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),s.prototype.toJSON=function(){throw Error()},s.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},s.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},s.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},s.prototype.getOption=function(e){if(this.options)return this.options[e]},s.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},s.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var s=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(s){var o=s[e];i.setProperty(o,r,t)}else(s={})[e]=i.setProperty({},r,t),n.push(s)}else{var a={};a[e]=t,n.push(a)}return this},s.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},s.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},s._configure=function(e){n=e}},1457:(e,t,r)=>{"use strict";e.exports=o;var n=r(7209);((o.prototype=Object.create(n.prototype)).constructor=o).className="OneOf";var i=r(1344),s=r(3262);function o(e,t,r,i){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=i}function a(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}o.fromJSON=function(e,t){return new o(e,t.oneof,t.options,t.comment)},o.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},o.prototype.add=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,a(this),this},o.prototype.remove=function(e){if(!(e instanceof i))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},o.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}a(this)},o.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},o.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){s.decorateType(t.constructor).add(new o(r,e)),Object.defineProperty(t,r,{get:s.oneOfGetter(e),set:s.oneOfSetter(e)})}}},4863:(e,t,r)=>{"use strict";e.exports=C,C.filename=null,C.defaults={keepCase:!1};var n=r(527),i=r(5330),s=r(7882),o=r(1344),a=r(8252),c=r(1457),l=r(5643),u=r(9687),d=r(8811),h=r(361),p=r(3262),f=/^[1-9][0-9]*$/,g=/^-?[1-9][0-9]*$/,m=/^0[x][0-9a-fA-F]+$/,y=/^-?0[x][0-9a-fA-F]+$/,v=/^0[0-7]+$/,b=/^-?0[0-7]+$/,S=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,E=/^[a-zA-Z_][a-zA-Z_0-9]*$/,_=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,w=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function C(e,t,r){t instanceof i||(r=t,t=new i),r||(r=C.defaults);var T,R,k,A,O,x=r.preferTrailingComment||!1,N=n(e,r.alternateCommentMode||!1),P=N.next,M=N.push,L=N.peek,I=N.skip,D=N.cmnt,j=!0,F=!1,B=t,$=r.keepCase?function(e){return e}:p.camelCase;function H(e,t,r){var n=C.filename;return r||(C.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+N.line+")")}function U(){var e,t=[];do{if('"'!==(e=P())&&"'"!==e)throw H(e);t.push(P()),I(e),e=L()}while('"'===e||"'"===e);return t.join("")}function z(e){var t=P();switch(t){case"'":case'"':return M(t),U();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e){var t=1;switch("-"===e.charAt(0)&&(t=-1,e=e.substring(1)),e){case"inf":case"INF":case"Inf":return t*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(f.test(e))return t*parseInt(e,10);if(m.test(e))return t*parseInt(e,16);if(v.test(e))return t*parseInt(e,8);if(S.test(e))return t*parseFloat(e);throw H(e,"number",!0)}(t)}catch(r){if(e&&_.test(t))return t;throw H(t,"value")}}function q(e,t){var r,n;do{!t||'"'!==(r=L())&&"'"!==r?e.push([n=W(P()),I("to",!0)?W(P()):n]):e.push(U())}while(I(",",!0));I(";")}function W(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw H(e,"id");if(g.test(e))return parseInt(e,10);if(y.test(e))return parseInt(e,16);if(b.test(e))return parseInt(e,8);throw H(e,"id")}function G(){if(void 0!==T)throw H("package");if(T=P(),!_.test(T))throw H(T,"name");B=B.define(T),I(";")}function V(){var e,t=L();switch(t){case"weak":e=k||(k=[]),P();break;case"public":P();default:e=R||(R=[])}t=U(),I(";"),e.push(t)}function K(){if(I("="),A=U(),!(F="proto3"===A)&&"proto2"!==A)throw H(A,"syntax");I(";")}function Y(e,t){switch(t){case"option":return ee(e,t),I(";"),!0;case"message":return X(e,t),!0;case"enum":return Z(e,t),!0;case"service":return function(e,t){if(!E.test(t=P()))throw H(t,"service name");var r=new u(t);J(r,(function(e){if(!Y(r,e)){if("rpc"!==e)throw H(e);!function(e,t){var r=D(),n=t;if(!E.test(t=P()))throw H(t,"name");var i,s,o,a,c=t;if(I("("),I("stream",!0)&&(s=!0),!_.test(t=P()))throw H(t);if(i=t,I(")"),I("returns"),I("("),I("stream",!0)&&(a=!0),!_.test(t=P()))throw H(t);o=t,I(")");var l=new d(c,n,i,o,s,a);l.comment=r,J(l,(function(e){if("option"!==e)throw H(e);ee(l,e),I(";")})),e.add(l)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!_.test(t=P()))throw H(t,"reference");var r=t;J(null,(function(t){switch(t){case"required":case"repeated":Q(e,t,r);break;case"optional":Q(e,F?"proto3_optional":"optional",r);break;default:if(!F||!_.test(t))throw H(t);M(t),Q(e,"optional",r)}}))}(e,t),!0}return!1}function J(e,t,r){var n=N.line;if(e&&("string"!=typeof e.comment&&(e.comment=D()),e.filename=C.filename),I("{",!0)){for(var i;"}"!==(i=P());)t(i);I(";",!0)}else r&&r(),I(";"),e&&("string"!=typeof e.comment||x)&&(e.comment=D(n)||e.comment)}function X(e,t){if(!E.test(t=P()))throw H(t,"type name");var r=new s(t);J(r,(function(e){if(!Y(r,e))switch(e){case"map":!function(e){I("<");var t=P();if(void 0===h.mapKey[t])throw H(t,"type");I(",");var r=P();if(!_.test(r))throw H(r,"type");I(">");var n=P();if(!E.test(n))throw H(n,"name");I("=");var i=new a($(n),W(P()),t,r);J(i,(function(e){if("option"!==e)throw H(e);ee(i,e),I(";")}),(function(){ne(i)})),e.add(i)}(r);break;case"required":case"repeated":Q(r,e);break;case"optional":Q(r,F?"proto3_optional":"optional");break;case"oneof":!function(e,t){if(!E.test(t=P()))throw H(t,"name");var r=new c($(t));J(r,(function(e){"option"===e?(ee(r,e),I(";")):(M(e),Q(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":q(r.extensions||(r.extensions=[]));break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:if(!F||!_.test(e))throw H(e);M(e),Q(r,"optional")}})),e.add(r)}function Q(e,t,r){var n=P();if("group"!==n){for(;n.endsWith(".")||L().startsWith(".");)n+=P();if(!_.test(n))throw H(n,"type");var i=P();if(!E.test(i))throw H(i,"name");i=$(i),I("=");var a=new o(i,W(P()),n,t,r);if(J(a,(function(e){if("option"!==e)throw H(e);ee(a,e),I(";")}),(function(){ne(a)})),"proto3_optional"===t){var l=new c("_"+i);a.setOption("proto3_optional",!0),l.add(a),e.add(l)}else e.add(a);F||!a.repeated||void 0===h.packed[n]&&void 0!==h.basic[n]||a.setOption("packed",!1,!0)}else!function(e,t){var r=P();if(!E.test(r))throw H(r,"name");var n=p.lcFirst(r);r===n&&(r=p.ucFirst(r)),I("=");var i=W(P()),a=new s(r);a.group=!0;var c=new o(n,i,r,t);c.filename=C.filename,J(a,(function(e){switch(e){case"option":ee(a,e),I(";");break;case"required":case"repeated":Q(a,e);break;case"optional":Q(a,F?"proto3_optional":"optional");break;case"message":X(a,e);break;case"enum":Z(a,e);break;default:throw H(e)}})),e.add(a).add(c)}(e,t)}function Z(e,t){if(!E.test(t=P()))throw H(t,"name");var r=new l(t);J(r,(function(e){switch(e){case"option":ee(r,e),I(";");break;case"reserved":q(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!E.test(t))throw H(t,"name");I("=");var r=W(P(),!0),n={options:void 0,setOption:function(e,t){void 0===this.options&&(this.options={}),this.options[e]=t}};J(n,(function(e){if("option"!==e)throw H(e);ee(n,e),I(";")}),(function(){ne(n)})),e.add(t,r,n.comment,n.options)}(r,e)}})),e.add(r)}function ee(e,t){var r=I("(",!0);if(!_.test(t=P()))throw H(t,"name");var n,i=t,s=i;r&&(I(")"),s=i="("+i+")",t=L(),w.test(t)&&(n=t.slice(1),i+=t,P())),I("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,s,te(e,i),n)}function te(e,t){if(I("{",!0)){for(var r={};!I("}",!0);){if(!E.test(O=P()))throw H(O,"name");if(null===O)throw H(O,"end of input");var n,i=O;if(I(":",!0),"{"===L())n=te(e,t+"."+O);else if("["===L()){var s;if(n=[],I("[",!0)){do{s=z(!0),n.push(s)}while(I(",",!0));I("]"),void 0!==s&&re(e,t+"."+O,s)}}else n=z(!0),re(e,t+"."+O,n);var o=r[i];o&&(n=[].concat(o).concat(n)),r[i]=n,I(",",!0),I(";",!0)}return r}var a=z(!0);return re(e,t,a),a}function re(e,t,r){e.setOption&&e.setOption(t,r)}function ne(e){if(I("[",!0)){do{ee(e,"option")}while(I(",",!0));I("]")}return e}for(;null!==(O=P());)switch(O){case"package":if(!j)throw H(O);G();break;case"import":if(!j)throw H(O);V();break;case"syntax":if(!j)throw H(O);K();break;case"option":ee(B,O),I(";");break;default:if(Y(B,O)){j=!1;continue}throw H(O)}return C.filename=null,{package:T,imports:R,weakImports:k,syntax:A,root:t}}},6237:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(3610),s=i.LongBits,o=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var l,u="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function h(){var e=new s(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function p(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function f(){if(this.pos+8>this.len)throw a(this,8);return new s(p(this.buf,this.pos+=4),p(this.buf,this.pos+=4))}c.create=d(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=(l=4294967295,function(){if(l=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return l;if(l=(l|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return l;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return l}),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return p(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|p(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(t,r);if(t===r){var n=i.Buffer;return n?n.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return o.read(e,0,e.length)},c.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=d(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return h.call(this)[t](!1)},uint64:function(){return h.call(this)[t](!0)},sint64:function(){return h.call(this).zzDecode()[t](!1)},fixed64:function(){return f.call(this)[t](!0)},sfixed64:function(){return f.call(this)[t](!1)}})}},3158:(e,t,r)=>{"use strict";e.exports=s;var n=r(6237);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(3610);function s(e){n.call(this,e)}s._configure=function(){i.Buffer&&(s.prototype._slice=i.Buffer.prototype.slice)},s.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},s._configure()},5330:(e,t,r)=>{"use strict";e.exports=d;var n=r(1304);((d.prototype=Object.create(n.prototype)).constructor=d).className="Root";var i,s,o,a=r(1344),c=r(5643),l=r(1457),u=r(3262);function d(e){n.call(this,"",e),this.deferred=[],this.files=[]}function h(){}d.fromJSON=function(e,t){return t||(t=new d),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},d.prototype.resolvePath=u.path.resolve,d.prototype.fetch=u.fetch,d.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var i=this;if(!n)return u.asPromise(e,i,t,r);var a=n===h;function c(e,t){if(n){var r=n;if(n=null,a)throw e;r(e,t)}}function l(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in o)return r}return null}function d(e,t){try{if(u.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),u.isString(t)){s.filename=e;var n,o=s(t,i,r),d=0;if(o.imports)for(;d<o.imports.length;++d)(n=l(o.imports[d])||i.resolvePath(e,o.imports[d]))&&p(n);if(o.weakImports)for(d=0;d<o.weakImports.length;++d)(n=l(o.weakImports[d])||i.resolvePath(e,o.weakImports[d]))&&p(n,!0)}else i.setOptions(t.options).addJSON(t.nested)}catch(e){c(e)}a||f||c(null,i)}function p(e,t){if(e=l(e)||e,!(i.files.indexOf(e)>-1))if(i.files.push(e),e in o)a?d(e,o[e]):(++f,setTimeout((function(){--f,d(e,o[e])})));else if(a){var r;try{r=u.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||c(e))}d(e,r)}else++f,i.fetch(e,(function(r,s){--f,n&&(r?t?f||c(null,i):c(r):d(e,s))}))}var f=0;u.isString(t)&&(t=[t]);for(var g,m=0;m<t.length;++m)(g=i.resolvePath("",t[m]))&&p(g);if(a)return i;f||c(null,i)},d.prototype.loadSync=function(e,t){if(!u.isNode)throw Error("not supported");return this.load(e,t,h)},d.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var p=/^[A-Z]/;function f(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new a(t.fullName,t.id,t.type,t.rule,void 0,t.options);return r.get(n.name)||(n.declaringField=t,t.extensionField=n,r.add(n)),!0}return!1}d.prototype._handleAdd=function(e){if(e instanceof a)void 0===e.extend||e.extensionField||f(0,e)||this.deferred.push(e);else if(e instanceof c)p.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof l)){if(e instanceof i)for(var t=0;t<this.deferred.length;)f(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);p.test(e.name)&&(e.parent[e.name]=e)}},d.prototype._handleRemove=function(e){if(e instanceof a){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof c)p.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);p.test(e.name)&&delete e.parent[e.name]}},d._configure=function(e,t,r){i=e,s=t,o=r}},4529:e=>{"use strict";e.exports={}},5047:(e,t,r)=>{"use strict";t.Service=r(7595)},7595:(e,t,r)=>{"use strict";e.exports=i;var n=r(3610);function i(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,s,o){if(!s)throw TypeError("request must be specified");var a=this;if(!o)return n.asPromise(e,a,t,r,i,s);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](s).finish(),(function(e,r){if(e)return a.emit("error",e,t),o(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),o(e)}return a.emit("data",r,t),o(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){o(e)}),0)}else setTimeout((function(){o(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},9687:(e,t,r)=>{"use strict";e.exports=a;var n=r(1304);((a.prototype=Object.create(n.prototype)).constructor=a).className="Service";var i=r(8811),s=r(3262),o=r(5047);function a(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function c(e){return e._methodsArray=null,e}a.fromJSON=function(e,t){var r=new a(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),s=0;s<n.length;++s)r.add(i.fromJSON(n[s],t.methods[n[s]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},a.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return s.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(a.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),a.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},a.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},a.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof i?(this.methods[e.name]=e,e.parent=this,c(this)):n.prototype.add.call(this,e)},a.prototype.remove=function(e){if(e instanceof i){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,c(this)}return n.prototype.remove.call(this,e)},a.prototype.create=function(e,t,r){for(var n,i=new o.Service(e,t,r),a=0;a<this.methodsArray.length;++a){var c=s.lcFirst((n=this._methodsArray[a]).resolve().name).replace(/[^$\w_]/g,"");i[c]=s.codegen(["r","c"],s.isReserved(c)?c+"_":c)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return i}},527:e=>{"use strict";e.exports=d;var t=/[\s{}=;:[\],'"()<>]/g,r=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,n=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,i=/^ *[*/]+ */,s=/^\s*\*?\/*/,o=/\n/g,a=/\s/,c=/\\(.?)/g,l={0:"\0",r:"\r",n:"\n",t:"\t"};function u(e){return e.replace(c,(function(e,t){switch(t){case"\\":case"":return t;default:return l[t]||""}}))}function d(e,c){e=e.toString();var l=0,d=e.length,h=1,p=0,f={},g=[],m=null;function y(e){return Error("illegal "+e+" (line "+h+")")}function v(t){return e.charAt(t)}function b(t,r,n){var a,l={type:e.charAt(t++),lineEmpty:!1,leading:n},u=t-(c?2:3);do{if(--u<0||"\n"===(a=e.charAt(u))){l.lineEmpty=!0;break}}while(" "===a||"\t"===a);for(var d=e.substring(t,r).split(o),g=0;g<d.length;++g)d[g]=d[g].replace(c?s:i,"").trim();l.text=d.join("\n").trim(),f[h]=l,p=h}function S(t){var r=E(t),n=e.substring(t,r);return/^\s*\/\//.test(n)}function E(e){for(var t=e;t<d&&"\n"!==v(t);)t++;return t}function _(){if(g.length>0)return g.shift();if(m)return function(){var t="'"===m?n:r;t.lastIndex=l-1;var i=t.exec(e);if(!i)throw y("string");return l=t.lastIndex,w(m),m=null,u(i[1])}();var i,s,o,p,f,_=0===l;do{if(l===d)return null;for(i=!1;a.test(o=v(l));)if("\n"===o&&(_=!0,++h),++l===d)return null;if("/"===v(l)){if(++l===d)throw y("comment");if("/"===v(l))if(c){if(p=l,f=!1,S(l-1)){f=!0;do{if((l=E(l))===d)break;if(l++,!_)break}while(S(l))}else l=Math.min(d,E(l)+1);f&&(b(p,l,_),_=!0),h++,i=!0}else{for(f="/"===v(p=l+1);"\n"!==v(++l);)if(l===d)return null;++l,f&&(b(p,l-1,_),_=!0),++h,i=!0}else{if("*"!==(o=v(l)))return"/";p=l+1,f=c||"*"===v(p);do{if("\n"===o&&++h,++l===d)throw y("comment");s=o,o=v(l)}while("*"!==s||"/"!==o);++l,f&&(b(p,l-2,_),_=!0),i=!0}}}while(i);var C=l;if(t.lastIndex=0,!t.test(v(C++)))for(;C<d&&!t.test(v(C));)++C;var T=e.substring(l,l=C);return'"'!==T&&"'"!==T||(m=T),T}function w(e){g.push(e)}function C(){if(!g.length){var e=_();if(null===e)return null;w(e)}return g[0]}return Object.defineProperty({next:_,peek:C,push:w,skip:function(e,t){var r=C();if(r===e)return _(),!0;if(!t)throw y("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var t,r=null;return void 0===e?(t=f[h-1],delete f[h-1],t&&(c||"*"===t.type||t.lineEmpty)&&(r=t.leading?t.text:null)):(p<e&&C(),t=f[e],delete f[e],!t||t.lineEmpty||!c&&"/"!==t.type||(r=t.leading?null:t.text)),r}},"line",{get:function(){return h}})}d.unescape=u},7882:(e,t,r)=>{"use strict";e.exports=v;var n=r(1304);((v.prototype=Object.create(n.prototype)).constructor=v).className="Type";var i=r(5643),s=r(1457),o=r(1344),a=r(8252),c=r(9687),l=r(2551),u=r(6237),d=r(3449),h=r(3262),p=r(1080),f=r(7728),g=r(420),m=r(744),y=r(6434);function v(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function b(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(v.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=h.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=h.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=v.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof l||((e.prototype=new l).constructor=e,h.merge(e.prototype,t)),e.$type=e.prototype.$type=this,h.merge(e,l,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:h.oneOfGetter(this._oneofsArray[r].oneof),set:h.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),v.generateConstructor=function(e){for(var t,r=h.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",h.safeProp(t.name)):t.repeated&&r("this%s=[]",h.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},v.fromJSON=function(e,t){var r=new v(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var l=Object.keys(t.fields),u=0;u<l.length;++u)r.add((void 0!==t.fields[l[u]].keyType?a.fromJSON:o.fromJSON)(l[u],t.fields[l[u]]));if(t.oneofs)for(l=Object.keys(t.oneofs),u=0;u<l.length;++u)r.add(s.fromJSON(l[u],t.oneofs[l[u]]));if(t.nested)for(l=Object.keys(t.nested),u=0;u<l.length;++u){var d=t.nested[l[u]];r.add((void 0!==d.id?o.fromJSON:void 0!==d.fields?v.fromJSON:void 0!==d.values?i.fromJSON:void 0!==d.methods?c.fromJSON:n.fromJSON)(l[u],d))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},v.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return h.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},v.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},v.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},v.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof o&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),b(this)}return e instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),b(this)):n.prototype.add.call(this,e)},v.prototype.remove=function(e){if(e instanceof o&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),b(this)}if(e instanceof s){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),b(this)}return n.prototype.remove.call(this,e)},v.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},v.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},v.prototype.create=function(e){return new this.ctor(e)},v.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=p(this)({Writer:d,types:t,util:h}),this.decode=f(this)({Reader:u,types:t,util:h}),this.verify=g(this)({types:t,util:h}),this.fromObject=m.fromObject(this)({types:t,util:h}),this.toObject=m.toObject(this)({types:t,util:h});var n=y[e];if(n){var i=Object.create(this);i.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(i),i.toObject=this.toObject,this.toObject=n.toObject.bind(i)}return this},v.prototype.encode=function(e,t){return this.setup().encode(e,t)},v.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},v.prototype.decode=function(e,t){return this.setup().decode(e,t)},v.prototype.decodeDelimited=function(e){return e instanceof u||(e=u.create(e)),this.decode(e,e.uint32())},v.prototype.verify=function(e){return this.setup().verify(e)},v.prototype.fromObject=function(e){return this.setup().fromObject(e)},v.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},v.d=function(e){return function(t){h.decorateType(t,e)}}},361:(e,t,r)=>{"use strict";var n=t,i=r(3262),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function o(e,t){var r=0,n={};for(t|=0;r<e.length;)n[s[r+t]]=e[r++];return n}n.basic=o([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=o([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",i.emptyArray,null]),n.long=o([0,0,0,1,1],7),n.mapKey=o([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=o([1,5,0,0,0,5,5,0,0,0,1,1,0])},3262:(e,t,r)=>{"use strict";var n,i,s=e.exports=r(3610),o=r(4529);s.codegen=r(8561),s.fetch=r(5212),s.path=r(9207),s.fs=s.inquire("fs"),s.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},s.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],i=e[r++];void 0!==i&&(t[n]=i)}return t};var a=/\\/g,c=/"/g;s.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},s.safeProp=function(e){return!/^[$\w_]+$/.test(e)||s.isReserved(e)?'["'+e.replace(a,"\\\\").replace(c,'\\"')+'"]':"."+e},s.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var l=/_([a-z])/g;s.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(l,(function(e,t){return t.toUpperCase()}))},s.compareFieldsById=function(e,t){return e.id-t.id},s.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(s.decorateRoot.remove(e.$type),e.$type.name=t,s.decorateRoot.add(e.$type)),e.$type;n||(n=r(7882));var i=new n(t||e.name);return s.decorateRoot.add(i),i.ctor=e,Object.defineProperty(e,"$type",{value:i,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:i,enumerable:!1}),i};var u=0;s.decorateEnum=function(e){if(e.$type)return e.$type;i||(i=r(5643));var t=new i("Enum"+u++,e);return s.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},s.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var i=r.shift();if("__proto__"===i||"prototype"===i)return t;if(r.length>0)t[i]=e(t[i]||{},r,n);else{var s=t[i];s&&(n=[].concat(s).concat(n)),t[i]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(s,"decorateRoot",{get:function(){return o.decorated||(o.decorated=new(r(5330)))}})},2239:(e,t,r)=>{"use strict";e.exports=i;var n=r(3610);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var s=i.zero=new i(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var o=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return s;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"==typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):s},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===o?s:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},3610:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function s(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.asPromise=r(8045),n.base64=r(8839),n.EventEmitter=r(4358),n.float=r(9410),n.inquire=r(4153),n.utf8=r(1447),n.pool=r(9390),n.LongBits=r(2239),n.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),n.global=n.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=s,n.ProtocolError=s("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},420:(e,t,r)=>{"use strict";e.exports=function(e){var t=i.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r={};e.oneofsArray.length&&t("var p={}");for(var n=0;n<e.fieldsArray.length;++n){var c=e._fieldsArray[n].resolve(),l="m"+i.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",s(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),a(t,c,"k[i]"),o(t,c,n,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",s(c,"array"))("for(var i=0;i<%s.length;++i){",l),o(t,c,n,l+"[i]")("}");else{if(c.partOf){var u=i.safeProp(c.partOf.name);1===r[c.partOf.name]&&t("if(p%s===1)",u)("return%j",c.partOf.name+": multiple values"),r[c.partOf.name]=1,t("p%s=1",u)}o(t,c,n,l)}c.optional&&t("}")}return t("return null")};var n=r(5643),i=r(3262);function s(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function o(e,t,r,i){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",i)("default:")("return%j",s(t,"enum value"));for(var o=Object.keys(t.resolvedType.values),a=0;a<o.length;++a)e("case %i:",t.resolvedType.values[o[a]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,i)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",i)("return%j",s(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",s(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',i)("return%j",s(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',i)("return%j",s(t,"boolean"));break;case"string":e("if(!util.isString(%s))",i)("return%j",s(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",s(t,"buffer"))}return e}function a(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",s(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",s(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",s(t,"boolean key"))}return e}},6434:(e,t,r)=>{"use strict";var n=t,i=r(2551);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].slice(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var s=this.lookup(n);s&&(e=s.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof i){var o=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.slice(1):e.$type.fullName),o["@type"]=n,o}return this.toObject(e,t)}}},3449:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(3610),s=i.LongBits,o=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function l(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(l,0,0),this.tail=this.head,this.states=null}var h=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function p(e,t,r){t[r]=255&e}function f(e,t){this.len=e,this.next=void 0,this.val=t}function g(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=h(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},f.prototype=Object.create(c.prototype),f.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new f((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(g,10,s.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=s.from(e);return this._push(g,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=s.from(e).zzEncode();return this._push(g,t.length(),t)},d.prototype.bool=function(e){return this._push(p,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=s.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var y=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(p,1,0);if(i.isString(e)){var r=d.alloc(t=o.length(e));o.decode(e,r,0),e=r}return this.uint32(t)._push(y,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(p,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new c(l,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(l,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=h(),n._configure()}},818:(e,t,r)=>{"use strict";e.exports=s;var n=r(3449);(s.prototype=Object.create(n.prototype)).constructor=s;var i=r(3610);function s(){n.call(this)}function o(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}s._configure=function(){s.alloc=i._Buffer_allocUnsafe,s.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},s.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(s.writeBytesBuffer,t,e),this},s.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(o,t,e),this},s._configure()},9596:e=>{let t;e.exports="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:global):e=>(t||(t=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)))},5617:(e,t,r)=>{e.exports=r(8303)},8303:(e,t,r)=>{var n=r(3961);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"==typeof e[i]&&n.push(i);for(var s=0;s<n.length;s++){var o=n[s],a=e[o];e[o]=function(n){var i=t.operation(r),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),o.apply(this,arguments))})),i.attempt((function(){n.apply(e,s)}))}.bind(e,a),e[o].options=r}}},3961:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],s=i.message,o=(e[s]||0)+1;e[s]=o,o>=r&&(t=i,r=o)}return t}},9027:e=>{"use strict";e.exports=function(e){var t=new e,r=t;return{get:function(){var n=t;return n.next?t=n.next:(t=new e,r=t),n.next=null,n},release:function(e){r.next=e,r=e}}}},8190:(e,t,r)=>{e.exports=function(e,t){let r,i,s,o=!0;function a(e){function i(){t&&t(e,r),t=null}o?n(i):i()}function c(e,t,n){r[e]=n,(0==--i||t)&&a(t)}Array.isArray(e)?(r=[],i=e.length):(s=Object.keys(e),r={},i=s.length),i?s?s.forEach((function(t){e[t]((function(e,r){c(t,e,r)}))})):e.forEach((function(e,t){e((function(e,r){c(t,e,r)}))})):a(null),o=!1};const n=r(9596)},4774:(e,t,r)=>{"use strict";var n,i=r(181),s=i.Buffer,o={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(o[n]=i[n]);var a=o.Buffer={};for(n in s)s.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=s[n]);if(o.Buffer.prototype=s.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return s(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var n=s(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!o.kStringMaxLength)try{o.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),e.exports=o},3904:(e,t,r)=>{const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=s(t),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),l("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(l("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=i;const s=r(8587),{safeRe:o,t:a}=r(9718),c=r(2111),l=r(7272),u=r(3908),d=r(8311)},8311:(e,t,r)=>{class n{constructor(e,t){if(t=s(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof o)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((e=>this.parseRange(e))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!m(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&f)|(this.options.loose&&g))+":"+e,r=i.get(t);if(r)return r;const n=this.options.loose,s=n?l[u.HYPHENRANGELOOSE]:l[u.HYPHENRANGE];e=e.replace(s,O(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(l[u.COMPARATORTRIM],d),a("comparator trim",e),e=e.replace(l[u.TILDETRIM],h),a("tilde trim",e),e=e.replace(l[u.CARETTRIM],p),a("caret trim",e);let c=e.split(" ").map((e=>b(e,this.options))).join(" ").split(/\s+/).map((e=>A(e,this.options)));n&&(c=c.filter((e=>(a("loose invalid filter",e,this.options),!!e.match(l[u.COMPARATORLOOSE]))))),a("range list",c);const y=new Map,v=c.map((e=>new o(e,this.options)));for(const e of v){if(m(e))return[e];y.set(e.value,e)}y.size>1&&y.has("")&&y.delete("");const S=[...y.values()];return i.set(t,S),S}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some((r=>v(r,t)&&e.set.some((e=>v(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(x(this.set[t],e,this.options))return!0;return!1}}e.exports=n;const i=new(r(9749))({max:1e3}),s=r(8587),o=r(3904),a=r(7272),c=r(3908),{safeRe:l,t:u,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=r(9718),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:g}=r(6874),m=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every((e=>i.intersects(e,t))),i=n.pop();return r},b=(e,t)=>(a("comp",e,t),e=w(e,t),a("caret",e),e=E(e,t),a("tildes",e),e=T(e,t),a("xrange",e),e=k(e,t),a("stars",e),e),S=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map((e=>_(e,t))).join(" "),_=(e,t)=>{const r=t.loose?l[u.TILDELOOSE]:l[u.TILDE];return e.replace(r,((t,r,n,i,s)=>{let o;return a("tilde",e,t,r,n,i,s),S(r)?o="":S(n)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:S(i)?o=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:s?(a("replaceTilde pr",s),o=`>=${r}.${n}.${i}-${s} <${r}.${+n+1}.0-0`):o=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,a("tilde return",o),o}))},w=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{a("caret",e,t);const r=t.loose?l[u.CARETLOOSE]:l[u.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,i,s,o)=>{let c;return a("caret",e,t,r,i,s,o),S(r)?c="":S(i)?c=`>=${r}.0.0${n} <${+r+1}.0.0-0`:S(s)?c="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),c="0"===r?"0"===i?`>=${r}.${i}.${s}-${o} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}-${o} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s}-${o} <${+r+1}.0.0-0`):(a("no pr"),c="0"===r?"0"===i?`>=${r}.${i}.${s}${n} <${r}.${i}.${+s+1}-0`:`>=${r}.${i}.${s}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${s} <${+r+1}.0.0-0`),a("caret return",c),c}))},T=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>R(e,t))).join(" ")),R=(e,t)=>{e=e.trim();const r=t.loose?l[u.XRANGELOOSE]:l[u.XRANGE];return e.replace(r,((r,n,i,s,o,c)=>{a("xRange",e,r,n,i,s,o,c);const l=S(i),u=l||S(s),d=u||S(o),h=d;return"="===n&&h&&(n=""),c=t.includePrerelease?"-0":"",l?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(s=0),o=0,">"===n?(n=">=",u?(i=+i+1,s=0,o=0):(s=+s+1,o=0)):"<="===n&&(n="<",u?i=+i+1:s=+s+1),"<"===n&&(c="-0"),r=`${n+i}.${s}.${o}${c}`):u?r=`>=${i}.0.0${c} <${+i+1}.0.0-0`:d&&(r=`>=${i}.${s}.0${c} <${i}.${+s+1}.0-0`),a("xRange return",r),r}))},k=(e,t)=>(a("replaceStars",e,t),e.trim().replace(l[u.STAR],"")),A=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?u.GTE0PRE:u.GTE0],"")),O=e=>(t,r,n,i,s,o,a,c,l,u,d,h,p)=>`${r=S(n)?"":S(i)?`>=${n}.0.0${e?"-0":""}`:S(s)?`>=${n}.${i}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${c=S(l)?"":S(u)?`<${+l+1}.0.0-0`:S(d)?`<${l}.${+u+1}.0-0`:h?`<=${l}.${u}.${d}-${h}`:e?`<${l}.${u}.${+d+1}-0`:`<=${c}`}`.trim(),x=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(a(e[r].semver),e[r].semver!==o.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},3908:(e,t,r)=>{const n=r(7272),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=r(6874),{safeRe:o,t:a}=r(9718),c=r(8587),{compareIdentifiers:l}=r(1123);class u{constructor(e,t){if(t=c(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),l(this.major,e.major)||l(this.minor,e.minor)||l(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return l(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return l(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===l(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7414:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},2111:(e,t,r)=>{const n=r(4641),i=r(3999),s=r(5580),o=r(4089),a=r(7059),c=r(5200);e.exports=(e,t,r,l)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,l);case"!=":return i(e,r,l);case">":return s(e,r,l);case">=":return o(e,r,l);case"<":return a(e,r,l);case"<=":return c(e,r,l);default:throw new TypeError(`Invalid operator: ${t}`)}}},6170:(e,t,r)=>{const n=r(3908),i=r(144),{safeRe:s,t:o}=r(9718);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=s[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),s[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;s[o.COERCERTL].lastIndex=-1}else r=e.match(s[o.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},909:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r)=>{const i=new n(e,r),s=new n(t,r);return i.compare(s)||i.compareBuild(s)}},1763:(e,t,r)=>{const n=r(560);e.exports=(e,t)=>n(e,t,!0)},560:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},1832:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e,null,!0),i=n(t,null,!0),s=r.compare(i);if(0===s)return null;const o=s>0,a=o?r:i,c=o?i:r,l=!!a.prerelease.length;if(c.prerelease.length&&!l)return c.patch||c.minor?a.patch?"patch":a.minor?"minor":"major":"major";const u=l?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},4641:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>0===n(e,t,r)},5580:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>0},4089:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)>=0},3007:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r,i,s)=>{"string"==typeof r&&(s=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,s).version}catch(e){return null}}},7059:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<0},5200:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(e,t,r)<=0},2938:(e,t,r)=>{const n=r(3908);e.exports=(e,t)=>new n(e,t).major},6254:(e,t,r)=>{const n=r(3908);e.exports=(e,t)=>new n(e,t).minor},3999:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>0!==n(e,t,r)},144:(e,t,r)=>{const n=r(3908);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},4493:(e,t,r)=>{const n=r(3908);e.exports=(e,t)=>new n(e,t).patch},1729:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},9970:(e,t,r)=>{const n=r(560);e.exports=(e,t,r)=>n(t,e,r)},4277:(e,t,r)=>{const n=r(909);e.exports=(e,t)=>e.sort(((e,r)=>n(r,e,t)))},7638:(e,t,r)=>{const n=r(8311);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},3927:(e,t,r)=>{const n=r(909);e.exports=(e,t)=>e.sort(((e,r)=>n(e,r,t)))},6953:(e,t,r)=>{const n=r(144);e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},9589:(e,t,r)=>{const n=r(9718),i=r(6874),s=r(3908),o=r(1123),a=r(144),c=r(6953),l=r(7414),u=r(3007),d=r(1832),h=r(2938),p=r(6254),f=r(4493),g=r(1729),m=r(560),y=r(9970),v=r(1763),b=r(909),S=r(3927),E=r(4277),_=r(5580),w=r(7059),C=r(4641),T=r(3999),R=r(4089),k=r(5200),A=r(2111),O=r(6170),x=r(3904),N=r(8311),P=r(7638),M=r(7631),L=r(9628),I=r(270),D=r(1261),j=r(3874),F=r(7075),B=r(5571),$=r(5342),H=r(6780),U=r(2525),z=r(5032);e.exports={parse:a,valid:c,clean:l,inc:u,diff:d,major:h,minor:p,patch:f,prerelease:g,compare:m,rcompare:y,compareLoose:v,compareBuild:b,sort:S,rsort:E,gt:_,lt:w,eq:C,neq:T,gte:R,lte:k,cmp:A,coerce:O,Comparator:x,Range:N,satisfies:P,toComparators:M,maxSatisfying:L,minSatisfying:I,minVersion:D,validRange:j,outside:F,gtr:B,ltr:$,intersects:H,simplifyRange:U,subset:z,SemVer:s,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},6874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},7272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},1123:e=>{const t=/^[0-9]+$/,r=(e,r)=>{const n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},8587:e=>{const t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},9718:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i}=r(6874),s=r(7272),o=(t=e.exports={}).re=[],a=t.safeRe=[],c=t.src=[],l=t.t={};let u=0;const d="[a-zA-Z0-9-]",h=[["\\s",1],["\\d",n],[d,i]],p=(e,t,r)=>{const n=(e=>{for(const[t,r]of h)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e})(t),i=u++;s(e,i,t),l[e]=i,c[i]=t,o[i]=new RegExp(t,r?"g":void 0),a[i]=new RegExp(n,r?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),p("MAINVERSION",`(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})\\.(${c[l.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})\\.(${c[l.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${c[l.NUMERICIDENTIFIER]}|${c[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${c[l.NUMERICIDENTIFIERLOOSE]}|${c[l.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${c[l.PRERELEASEIDENTIFIER]}(?:\\.${c[l.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${c[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[l.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${d}+`),p("BUILD",`(?:\\+(${c[l.BUILDIDENTIFIER]}(?:\\.${c[l.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${c[l.MAINVERSION]}${c[l.PRERELEASE]}?${c[l.BUILD]}?`),p("FULL",`^${c[l.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${c[l.MAINVERSIONLOOSE]}${c[l.PRERELEASELOOSE]}?${c[l.BUILD]}?`),p("LOOSE",`^${c[l.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${c[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${c[l.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:\\.(${c[l.XRANGEIDENTIFIER]})(?:${c[l.PRERELEASE]})?${c[l.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[l.XRANGEIDENTIFIERLOOSE]})(?:${c[l.PRERELEASELOOSE]})?${c[l.BUILD]}?)?)?`),p("XRANGE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${c[l.GTLT]}\\s*${c[l.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),p("COERCERTL",c[l.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${c[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${c[l.LONETILDE]}${c[l.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${c[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${c[l.LONECARET]}${c[l.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${c[l.LONECARET]}${c[l.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${c[l.GTLT]}\\s*(${c[l.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${c[l.GTLT]}\\s*(${c[l.LOOSEPLAIN]}|${c[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${c[l.XRANGEPLAIN]})\\s+-\\s+(${c[l.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${c[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[l.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},5571:(e,t,r)=>{const n=r(7075);e.exports=(e,t,r)=>n(e,t,">",r)},6780:(e,t,r)=>{const n=r(8311);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},5342:(e,t,r)=>{const n=r(7075);e.exports=(e,t,r)=>n(e,t,"<",r)},9628:(e,t,r)=>{const n=r(3908),i=r(8311);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&-1!==o.compare(e)||(s=e,o=new n(s,r)))})),s}},270:(e,t,r)=>{const n=r(3908),i=r(8311);e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(s&&1!==o.compare(e)||(s=e,o=new n(s,r)))})),s}},1261:(e,t,r)=>{const n=r(3908),i=r(8311),s=r(5580);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let o=null;i.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":o&&!s(t,o)||(o=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!o||r&&!s(r,o)||(r=o)}return r&&e.test(r)?r:null}},7075:(e,t,r)=>{const n=r(3908),i=r(3904),{ANY:s}=i,o=r(8311),a=r(7638),c=r(5580),l=r(7059),u=r(5200),d=r(4089);e.exports=(e,t,r,h)=>{let p,f,g,m,y;switch(e=new n(e,h),t=new o(t,h),r){case">":p=c,f=u,g=l,m=">",y=">=";break;case"<":p=l,f=d,g=c,m="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let r=0;r<t.set.length;++r){const n=t.set[r];let o=null,a=null;if(n.forEach((e=>{e.semver===s&&(e=new i(">=0.0.0")),o=o||e,a=a||e,p(e.semver,o.semver,h)?o=e:g(e.semver,a.semver,h)&&(a=e)})),o.operator===m||o.operator===y)return!1;if((!a.operator||a.operator===m)&&f(e,a.semver))return!1;if(a.operator===y&&g(e,a.semver))return!1}return!0}},2525:(e,t,r)=>{const n=r(7638),i=r(560);e.exports=(e,t,r)=>{const s=[];let o=null,a=null;const c=e.sort(((e,t)=>i(e,t,r)));for(const e of c)n(e,t,r)?(a=e,o||(o=e)):(a&&s.push([o,a]),a=null,o=null);o&&s.push([o,null]);const l=[];for(const[e,t]of s)e===t?l.push(e):t||e!==c[0]?t?e===c[0]?l.push(`<=${t}`):l.push(`${e} - ${t}`):l.push(`>=${e}`):l.push("*");const u=l.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},5032:(e,t,r)=>{const n=r(8311),i=r(3904),{ANY:s}=i,o=r(7638),a=r(560),c=[new i(">=0.0.0-0")],l=[new i(">=0.0.0")],u=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===s){if(1===t.length&&t[0].semver===s)return!0;e=r.includePrerelease?c:l}if(1===t.length&&t[0].semver===s){if(r.includePrerelease)return!0;t=l}const n=new Set;let i,u,p,f,g,m,y;for(const t of e)">"===t.operator||">="===t.operator?i=d(i,t,r):"<"===t.operator||"<="===t.operator?u=h(u,t,r):n.add(t.semver);if(n.size>1)return null;if(i&&u){if(p=a(i.semver,u.semver,r),p>0)return null;if(0===p&&(">="!==i.operator||"<="!==u.operator))return null}for(const e of n){if(i&&!o(e,String(i),r))return null;if(u&&!o(e,String(u),r))return null;for(const n of t)if(!o(e,String(n),r))return!1;return!0}let v=!(!u||r.includePrerelease||!u.semver.prerelease.length)&&u.semver,b=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver;v&&1===v.prerelease.length&&"<"===u.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(y=y||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,i)if(b&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch&&(b=!1),">"===e.operator||">="===e.operator){if(f=d(i,e,r),f===e&&f!==i)return!1}else if(">="===i.operator&&!o(i.semver,String(e),r))return!1;if(u)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(g=h(u,e,r),g===e&&g!==u)return!1}else if("<="===u.operator&&!o(u.semver,String(e),r))return!1;if(!e.operator&&(u||i)&&0!==p)return!1}return!(i&&m&&!u&&0!==p||u&&y&&!i&&0!==p||b||v)},d=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n>0?e:n<0||">"===t.operator&&">="===e.operator?t:e},h=(e,t,r)=>{if(!e)return t;const n=a(e.semver,t.semver,r);return n<0?e:n>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;e:for(const n of e.set){for(const e of t.set){const t=u(n,e,r);if(i=i||null!==t,t)continue e}if(i)return!1}return!0}},7631:(e,t,r)=>{const n=r(8311);e.exports=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},3874:(e,t,r)=>{const n=r(8311);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},6398:e=>{"use strict";e.exports=e=>{const t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}},54:(e,t,r)=>{"use strict";const n=r(1929),i=(e,t,r)=>{if(!1===n(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===n(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let s={relaxZeros:!0,...r};"boolean"==typeof s.strictZeros&&(s.relaxZeros=!1===s.strictZeros);let c=e+":"+t+"="+String(s.relaxZeros)+String(s.shorthand)+String(s.capture)+String(s.wrap);if(i.cache.hasOwnProperty(c))return i.cache[c].result;let l=Math.min(e,t),u=Math.max(e,t);if(1===Math.abs(l-u)){let r=e+"|"+t;return s.capture?`(${r})`:!1===s.wrap?r:`(?:${r})`}let d=p(e)||p(t),h={min:e,max:t,a:l,b:u},f=[],g=[];return d&&(h.isPadded=d,h.maxLen=String(h.max).length),l<0&&(g=o(u<0?Math.abs(u):1,Math.abs(l),h,s),l=h.a=0),u>=0&&(f=o(l,u,h,s)),h.negatives=g,h.positives=f,h.result=function(e,t){let r=a(e,t,"-",!1)||[],n=a(t,e,"",!1)||[],i=a(e,t,"-?",!0)||[];return r.concat(i).concat(n).join("|")}(g,f),!0===s.capture?h.result=`(${h.result})`:!1!==s.wrap&&f.length+g.length>1&&(h.result=`(?:${h.result})`),i.cache[c]=h,h.result};function s(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=function(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}(e,t),i=n.length,s="",o=0;for(let e=0;e<i;e++){let[t,r]=n[e];t===r?s+=t:"0"!==t||"9"!==r?s+=`[${a=t}${(c=r)-a==1?"":"-"}${c}]`:o++}var a,c;return o&&(s+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:i}}function o(e,t,r,n){let i,o=function(e,t){let r=1,n=1,i=u(e,r),s=new Set([t]);for(;e<=i&&i<=t;)s.add(i),r+=1,i=u(e,r);for(i=d(t+1,n)-1;e<i&&i<=t;)s.add(i),n+=1,i=d(t+1,n)-1;return s=[...s],s.sort(c),s}(e,t),a=[],l=e;for(let e=0;e<o.length;e++){let t=o[e],c=s(String(l),String(t),n),u="";r.isPadded||!i||i.pattern!==c.pattern?(r.isPadded&&(u=f(t,r,n)),c.string=u+c.pattern+h(c.count),a.push(c),l=t+1,i=c):(i.count.length>1&&i.count.pop(),i.count.push(c.count[0]),i.string=i.pattern+h(i.count),l=t+1)}return a}function a(e,t,r,n,i){let s=[];for(let i of e){let{string:e}=i;n||l(t,"string",e)||s.push(r+e),n&&l(t,"string",e)&&s.push(r+e)}return s}function c(e,t){return e>t?1:t>e?-1:0}function l(e,t,r){return e.some((e=>e[t]===r))}function u(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function d(e,t){return e-e%Math.pow(10,t)}function h(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function p(e){return/^-?(0+)\d/.test(e)}function f(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=!1!==r.relaxZeros;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}i.cache={},i.clearCache=()=>i.cache={},e.exports=i},1236:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((r,n)=>{e.call(this,...t,((e,t)=>null!=e?n(e):r(t)))}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const r=t[t.length-1];if("function"!=typeof r)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then((e=>r(null,e)),r)}),"name",{value:e.name})}},4371:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NIL:()=>_,parse:()=>y,stringify:()=>d,v1:()=>m,v3:()=>b,v4:()=>S,v5:()=>E,validate:()=>l,version:()=>w});const n=require("crypto");var i=r.n(n);const s=new Uint8Array(256);let o=s.length;function a(){return o>s.length-16&&(i().randomFillSync(s),o=0),s.slice(o,o+=16)}const c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,l=function(e){return"string"==typeof e&&c.test(e)},u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));const d=function(e,t=0){const r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!l(r))throw TypeError("Stringified UUID is invalid");return r};let h,p,f=0,g=0;const m=function(e,t,r){let n=t&&r||0;const i=t||new Array(16);let s=(e=e||{}).node||h,o=void 0!==e.clockseq?e.clockseq:p;if(null==s||null==o){const t=e.random||(e.rng||a)();null==s&&(s=h=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==o&&(o=p=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),l=void 0!==e.nsecs?e.nsecs:g+1;const u=c-f+(l-g)/1e4;if(u<0&&void 0===e.clockseq&&(o=o+1&16383),(u<0||c>f)&&void 0===e.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=c,g=l,p=o,c+=122192928e5;const m=(1e4*(268435455&c)+l)%4294967296;i[n++]=m>>>24&255,i[n++]=m>>>16&255,i[n++]=m>>>8&255,i[n++]=255&m;const y=c/4294967296*1e4&268435455;i[n++]=y>>>8&255,i[n++]=255&y,i[n++]=y>>>24&15|16,i[n++]=y>>>16&255,i[n++]=o>>>8|128,i[n++]=255&o;for(let e=0;e<6;++e)i[n+e]=s[e];return t||d(i)},y=function(e){if(!l(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};function v(e,t,r){function n(e,n,i,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=y(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+e.length);if(o.set(n),o.set(e,n.length),o=r(o),o[6]=15&o[6]|t,o[8]=63&o[8]|128,i){s=s||0;for(let e=0;e<16;++e)i[s+e]=o[e];return i}return d(o)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}const b=v("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("md5").update(e).digest()})),S=function(e,t,r){const n=(e=e||{}).random||(e.rng||a)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return d(n)},E=v("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i().createHash("sha1").update(e).digest()})),_="00000000-0000-0000-0000-000000000000",w=function(e){if(!l(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},8789:e=>{"use strict";e.exports=require("@azure/functions-core")},2613:e=>{"use strict";e.exports=require("assert")},290:e=>{"use strict";e.exports=require("async_hooks")},181:e=>{"use strict";e.exports=require("buffer")},9140:e=>{"use strict";e.exports=require("constants")},2250:e=>{"use strict";e.exports=require("dns")},4434:e=>{"use strict";e.exports=require("events")},9896:e=>{"use strict";e.exports=require("fs")},8611:e=>{"use strict";e.exports=require("http")},5675:e=>{"use strict";e.exports=require("http2")},3339:e=>{"use strict";e.exports=require("module")},9278:e=>{"use strict";e.exports=require("net")},857:e=>{"use strict";e.exports=require("os")},6928:e=>{"use strict";e.exports=require("path")},2203:e=>{"use strict";e.exports=require("stream")},3193:e=>{"use strict";e.exports=require("string_decoder")},4756:e=>{"use strict";e.exports=require("tls")},7016:e=>{"use strict";e.exports=require("url")},9023:e=>{"use strict";e.exports=require("util")},3106:e=>{"use strict";e.exports=require("zlib")},9943:e=>{"use strict";e.exports={rE:"1.8.22"}},3267:e=>{"use strict";e.exports=JSON.parse('[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]]')},4488:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},1166:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},2324:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},6406:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},9129:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},5914:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},679:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')},5434:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Api":{"fields":{"name":{"type":"string","id":1},"methods":{"rule":"repeated","type":"Method","id":2},"options":{"rule":"repeated","type":"Option","id":3},"version":{"type":"string","id":4},"sourceContext":{"type":"SourceContext","id":5},"mixins":{"rule":"repeated","type":"Mixin","id":6},"syntax":{"type":"Syntax","id":7}}},"Method":{"fields":{"name":{"type":"string","id":1},"requestTypeUrl":{"type":"string","id":2},"requestStreaming":{"type":"bool","id":3},"responseTypeUrl":{"type":"string","id":4},"responseStreaming":{"type":"bool","id":5},"options":{"rule":"repeated","type":"Option","id":6},"syntax":{"type":"Syntax","id":7}}},"Mixin":{"fields":{"name":{"type":"string","id":1},"root":{"type":"string","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}}}}}}}}')},3951:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"FileDescriptorSet":{"fields":{"file":{"rule":"repeated","type":"FileDescriptorProto","id":1}}},"FileDescriptorProto":{"fields":{"name":{"type":"string","id":1},"package":{"type":"string","id":2},"dependency":{"rule":"repeated","type":"string","id":3},"publicDependency":{"rule":"repeated","type":"int32","id":10,"options":{"packed":false}},"weakDependency":{"rule":"repeated","type":"int32","id":11,"options":{"packed":false}},"messageType":{"rule":"repeated","type":"DescriptorProto","id":4},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":5},"service":{"rule":"repeated","type":"ServiceDescriptorProto","id":6},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":7},"options":{"type":"FileOptions","id":8},"sourceCodeInfo":{"type":"SourceCodeInfo","id":9},"syntax":{"type":"string","id":12}}},"DescriptorProto":{"fields":{"name":{"type":"string","id":1},"field":{"rule":"repeated","type":"FieldDescriptorProto","id":2},"extension":{"rule":"repeated","type":"FieldDescriptorProto","id":6},"nestedType":{"rule":"repeated","type":"DescriptorProto","id":3},"enumType":{"rule":"repeated","type":"EnumDescriptorProto","id":4},"extensionRange":{"rule":"repeated","type":"ExtensionRange","id":5},"oneofDecl":{"rule":"repeated","type":"OneofDescriptorProto","id":8},"options":{"type":"MessageOptions","id":7},"reservedRange":{"rule":"repeated","type":"ReservedRange","id":9},"reservedName":{"rule":"repeated","type":"string","id":10}},"nested":{"ExtensionRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}},"ReservedRange":{"fields":{"start":{"type":"int32","id":1},"end":{"type":"int32","id":2}}}}},"FieldDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":3},"label":{"type":"Label","id":4},"type":{"type":"Type","id":5},"typeName":{"type":"string","id":6},"extendee":{"type":"string","id":2},"defaultValue":{"type":"string","id":7},"oneofIndex":{"type":"int32","id":9},"jsonName":{"type":"string","id":10},"options":{"type":"FieldOptions","id":8}},"nested":{"Type":{"values":{"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Label":{"values":{"LABEL_OPTIONAL":1,"LABEL_REQUIRED":2,"LABEL_REPEATED":3}}}},"OneofDescriptorProto":{"fields":{"name":{"type":"string","id":1},"options":{"type":"OneofOptions","id":2}}},"EnumDescriptorProto":{"fields":{"name":{"type":"string","id":1},"value":{"rule":"repeated","type":"EnumValueDescriptorProto","id":2},"options":{"type":"EnumOptions","id":3}}},"EnumValueDescriptorProto":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"type":"EnumValueOptions","id":3}}},"ServiceDescriptorProto":{"fields":{"name":{"type":"string","id":1},"method":{"rule":"repeated","type":"MethodDescriptorProto","id":2},"options":{"type":"ServiceOptions","id":3}}},"MethodDescriptorProto":{"fields":{"name":{"type":"string","id":1},"inputType":{"type":"string","id":2},"outputType":{"type":"string","id":3},"options":{"type":"MethodOptions","id":4},"clientStreaming":{"type":"bool","id":5},"serverStreaming":{"type":"bool","id":6}}},"FileOptions":{"fields":{"javaPackage":{"type":"string","id":1},"javaOuterClassname":{"type":"string","id":8},"javaMultipleFiles":{"type":"bool","id":10},"javaGenerateEqualsAndHash":{"type":"bool","id":20,"options":{"deprecated":true}},"javaStringCheckUtf8":{"type":"bool","id":27},"optimizeFor":{"type":"OptimizeMode","id":9,"options":{"default":"SPEED"}},"goPackage":{"type":"string","id":11},"ccGenericServices":{"type":"bool","id":16},"javaGenericServices":{"type":"bool","id":17},"pyGenericServices":{"type":"bool","id":18},"deprecated":{"type":"bool","id":23},"ccEnableArenas":{"type":"bool","id":31},"objcClassPrefix":{"type":"string","id":36},"csharpNamespace":{"type":"string","id":37},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[38,38]],"nested":{"OptimizeMode":{"values":{"SPEED":1,"CODE_SIZE":2,"LITE_RUNTIME":3}}}},"MessageOptions":{"fields":{"messageSetWireFormat":{"type":"bool","id":1},"noStandardDescriptorAccessor":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"mapEntry":{"type":"bool","id":7},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[8,8]]},"FieldOptions":{"fields":{"ctype":{"type":"CType","id":1,"options":{"default":"STRING"}},"packed":{"type":"bool","id":2},"jstype":{"type":"JSType","id":6,"options":{"default":"JS_NORMAL"}},"lazy":{"type":"bool","id":5},"deprecated":{"type":"bool","id":3},"weak":{"type":"bool","id":10},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]],"reserved":[[4,4]],"nested":{"CType":{"values":{"STRING":0,"CORD":1,"STRING_PIECE":2}},"JSType":{"values":{"JS_NORMAL":0,"JS_STRING":1,"JS_NUMBER":2}}}},"OneofOptions":{"fields":{"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumOptions":{"fields":{"allowAlias":{"type":"bool","id":2},"deprecated":{"type":"bool","id":3},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"EnumValueOptions":{"fields":{"deprecated":{"type":"bool","id":1},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"ServiceOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"MethodOptions":{"fields":{"deprecated":{"type":"bool","id":33},"uninterpretedOption":{"rule":"repeated","type":"UninterpretedOption","id":999}},"extensions":[[1000,536870911]]},"UninterpretedOption":{"fields":{"name":{"rule":"repeated","type":"NamePart","id":2},"identifierValue":{"type":"string","id":3},"positiveIntValue":{"type":"uint64","id":4},"negativeIntValue":{"type":"int64","id":5},"doubleValue":{"type":"double","id":6},"stringValue":{"type":"bytes","id":7},"aggregateValue":{"type":"string","id":8}},"nested":{"NamePart":{"fields":{"namePart":{"rule":"required","type":"string","id":1},"isExtension":{"rule":"required","type":"bool","id":2}}}}},"SourceCodeInfo":{"fields":{"location":{"rule":"repeated","type":"Location","id":1}},"nested":{"Location":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"span":{"rule":"repeated","type":"int32","id":2},"leadingComments":{"type":"string","id":3},"trailingComments":{"type":"string","id":4},"leadingDetachedComments":{"rule":"repeated","type":"string","id":6}}}}},"GeneratedCodeInfo":{"fields":{"annotation":{"rule":"repeated","type":"Annotation","id":1}},"nested":{"Annotation":{"fields":{"path":{"rule":"repeated","type":"int32","id":1},"sourceFile":{"type":"string","id":2},"begin":{"type":"int32","id":3},"end":{"type":"int32","id":4}}}}}}}}}}}')},2939:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')},6710:e=>{"use strict";e.exports=JSON.parse('{"nested":{"google":{"nested":{"protobuf":{"nested":{"Type":{"fields":{"name":{"type":"string","id":1},"fields":{"rule":"repeated","type":"Field","id":2},"oneofs":{"rule":"repeated","type":"string","id":3},"options":{"rule":"repeated","type":"Option","id":4},"sourceContext":{"type":"SourceContext","id":5},"syntax":{"type":"Syntax","id":6}}},"Field":{"fields":{"kind":{"type":"Kind","id":1},"cardinality":{"type":"Cardinality","id":2},"number":{"type":"int32","id":3},"name":{"type":"string","id":4},"typeUrl":{"type":"string","id":6},"oneofIndex":{"type":"int32","id":7},"packed":{"type":"bool","id":8},"options":{"rule":"repeated","type":"Option","id":9},"jsonName":{"type":"string","id":10},"defaultValue":{"type":"string","id":11}},"nested":{"Kind":{"values":{"TYPE_UNKNOWN":0,"TYPE_DOUBLE":1,"TYPE_FLOAT":2,"TYPE_INT64":3,"TYPE_UINT64":4,"TYPE_INT32":5,"TYPE_FIXED64":6,"TYPE_FIXED32":7,"TYPE_BOOL":8,"TYPE_STRING":9,"TYPE_GROUP":10,"TYPE_MESSAGE":11,"TYPE_BYTES":12,"TYPE_UINT32":13,"TYPE_ENUM":14,"TYPE_SFIXED32":15,"TYPE_SFIXED64":16,"TYPE_SINT32":17,"TYPE_SINT64":18}},"Cardinality":{"values":{"CARDINALITY_UNKNOWN":0,"CARDINALITY_OPTIONAL":1,"CARDINALITY_REQUIRED":2,"CARDINALITY_REPEATED":3}}}},"Enum":{"fields":{"name":{"type":"string","id":1},"enumvalue":{"rule":"repeated","type":"EnumValue","id":2},"options":{"rule":"repeated","type":"Option","id":3},"sourceContext":{"type":"SourceContext","id":4},"syntax":{"type":"Syntax","id":5}}},"EnumValue":{"fields":{"name":{"type":"string","id":1},"number":{"type":"int32","id":2},"options":{"rule":"repeated","type":"Option","id":3}}},"Option":{"fields":{"name":{"type":"string","id":1},"value":{"type":"Any","id":2}}},"Syntax":{"values":{"SYNTAX_PROTO2":0,"SYNTAX_PROTO3":1}},"Any":{"fields":{"type_url":{"type":"string","id":1},"value":{"type":"bytes","id":2}}},"SourceContext":{"fields":{"fileName":{"type":"string","id":1}}}}}}}}}')}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.startNodeWorker=void 0;const t=__webpack_require__(9031),r=__webpack_require__(5496),n=__webpack_require__(8100),i=__webpack_require__(4929),s=__webpack_require__(7840),o=__webpack_require__(8823),a=__webpack_require__(9913),c=__webpack_require__(7089),l=__webpack_require__(3246);e.startNodeWorker=function(e){const u=t(e.slice(2)),d=u["functions-uri"],h=u["functions-worker-id"],p=u["functions-request-id"],f=u["functions-grpc-max-message-length"];if(!(d&&h&&p&&f)){(0,a.systemLog)("usage --functions-uri uri --functions-worker-id workerId --functions-request-id requestId --functions-grpc-max-message-length grpcMaxMessageLength");const e=[];throw d||e.push(`'functions-uri' is ${d}`),h||e.push(`'functions-worker-id' is ${h}`),p||e.push(`'functions-request-id' is ${p}`),f||e.push(`'functions-grpc-max-message-length' is ${f}`),new r.AzFuncSystemError(`gRPC client connection info is missing or incorrect (${e.join(", ")}).`)}l.worker.id=h;const g=new URL(d).host;(0,a.systemLog)(`Worker ${h} connecting on ${g}`);try{l.worker.eventStream=(0,n.CreateGrpcEventStream)(g,parseInt(f))}catch(e){const t=(0,r.ensureErrorType)(e);t.isAzureFunctionsSystemError=!0;const n="Error creating GRPC event stream: "+t.message;throw(0,r.trySetErrorMessage)(t,n),t}(0,s.setupEventStream)(),(0,i.setupCoreModule)(),l.worker.eventStream.write({requestId:p,startStream:{workerId:h}}),process.on("uncaughtException",(e=>{const t=(0,r.ensureErrorType)(e);let n;n=t.isAzureFunctionsSystemError?`Worker uncaught exception: ${t.stack||e}`:`Worker uncaught exception (learn more: https://go.microsoft.com/fwlink/?linkid=2097909 ): ${t.stack||e}`,(0,a.systemError)(n),process.exit(1)})),process.on("exit",(e=>{(0,a.systemLog)(`Worker ${h} exited with code ${e}`)})),(0,c.isEnvironmentVariableSet)(process.env.AZURE_FUNCTIONS_NODE_BLOCK_LOG)&&(0,o.startBlockedMonitor)(l.worker)}})(),module.exports.worker=__webpack_exports__})();